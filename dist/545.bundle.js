"use strict";exports.id=545,exports.ids=[545],exports.modules={1976:(e,s,t)=>{t.d(s,{v:()=>l});var r=t(2613);const a=(0,t(7546).load)({CORS_ORIGIN:String,CORS_OPTIONS_SUCCESS_STATUS:Number,CORS_CREDENTIALS:Boolean,CORS_METHODS:String}),{CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c}=a;r.strict.ok(o,"CORS origin should be present"),r.strict.ok(n,"CORS options success status should be present"),r.strict.ok(i,"CORS credentials should be present"),r.strict.ok(c,"CORS methods should be present");const d={CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c};t(818).config();const l={origin:d.CORS_ORIGIN,methods:d.CORS_METHODS,credentials:d.CORS_CREDENTIALS,optionsSuccessStatus:d.CORS_OPTIONS_SUCCESS_STATUS}},3085:(e,s,t)=>{t.d(s,{L:()=>S});var r=t(2613);const a=(0,t(7546).load)({DB_HOST:String,DB_PORT:Number,DB_USER:String,DB_PASS:String,DB_NAME:String,DB_SOCKET_PATH:String,DB_SOCKET_TIMEOUT:Number,DB_COMPRESS:Boolean,DB_DEBUG:Boolean,DB_PERMIT_LOCAL_INFILE:Boolean,DB_TRACE:Boolean,DB_CHECK_DUPLICATE:Boolean,DB_SSL:Boolean,DB_SSL_CA:String,DB_SSL_KEY:String,DB_SSL_CERT:String,DB_CONNECTION_ATTRIBUTES:String,DB_CONNECTION_TIMEOUT:Number}),{DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:d,DB_SOCKET_PATH:l,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:y,DB_DEBUG:g,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:m,DB_CHECK_DUPLICATE:h,DB_SSL:f,DB_SSL_CA:E,DB_SSL_KEY:T,DB_SSL_CERT:w,DB_CONNECTION_ATTRIBUTES:_,DB_CONNECTION_TIMEOUT:A}=a;r.strict.ok(o,"Database host should be present"),r.strict.ok(n,"Database port should be present"),r.strict.ok(i,"Database user should be present"),r.strict.ok(c,"Database password should be present"),r.strict.ok(d,"Database name should be present");const S={DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:d,DB_SOCKET_PATH:l,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:y,DB_DEBUG:g,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:m,DB_CHECK_DUPLICATE:h,DB_CONNECTION_ATTRIBUTES:_,DB_CONNECTION_TIMEOUT:A,DB_SSL:f,DB_SSL_CA:E,DB_SSL_KEY:T,DB_SSL_CERT:w}},3101:(e,s,t)=>{t.d(s,{n:()=>f});var r=t(2613);const a=(0,t(7546).load)({JWT_SECRET:String,JWT_EXPIRES_IN:String,JWT_REFRESH_SECRET:String,JWT_REFRESH_EXPIRES_IN:String,JWT_REFRESH_MAX_AGE:Number,JWT_ALGORITHM:String,JWT_ISSUER:String,JWT_MAX_AGE:Number,JWT_HTTP_ONLY:Boolean,JWT_SAME_SITE:String,JWT_COOKIE_NAME:String,JWT_SECURE:Boolean}),{JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:d,JWT_ALGORITHM:l,JWT_ISSUER:u,JWT_MAX_AGE:y,JWT_HTTP_ONLY:g,JWT_SAME_SITE:p,JWT_COOKIE_NAME:m,JWT_SECURE:h}=a;r.strict.ok(o,"JWT secret should be present"),r.strict.ok(n,"JWT expires in should be present"),r.strict.ok(i,"JWT refresh secret should be present"),r.strict.ok(c,"JWT refresh expires in should be present"),r.strict.ok(l,"JWT algorithm should be present"),r.strict.ok(u,"JWT issuer should be present"),r.strict.ok(y,"JWT max age should be present"),r.strict.ok(g,"JWT http only should be present"),r.strict.ok(p,"JWT same site should be present"),r.strict.ok(m,"JWT cookie name should be present"),r.strict.ok(h,"JWT secure should be present"),r.strict.ok(d,"JWT refresh max age should be present");const f={JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:d,JWT_ALGORITHM:l,JWT_ISSUER:u,JWT_MAX_AGE:y,JWT_HTTP_ONLY:g,JWT_SAME_SITE:p,JWT_COOKIE_NAME:m,JWT_SECURE:h}},6184:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CI:()=>U,E0:()=>A,Eu:()=>D,Zv:()=>S,bI:()=>C,gg:()=>h,hv:()=>R,kL:()=>E,lM:()=>I,pD:()=>p,t9:()=>T,tY:()=>w,ys:()=>v,zX:()=>f,zh:()=>_});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(9031),d=t(3101),l=t(6030),u=t(2502),y=t(2993),g=e([l,y]);[l,y]=g.then?(await g)():g,o().config();const p=async(e,s)=>{try{const{caption:t,location:r,tags:a}=e.body,o=e.cookies.jwt;if(!o)return void s.status(401).json({message:"Unauthorized"});i().verify(o,d.n.JWT_SECRET,(async(e,o)=>{if(e)return console.log(e.message),void s.status(401).json({message:"Unauthorized"});const n=o.id,i=await l.zW.findByPk(n);if(!i)return void s.status(404).json({message:"User not found"});const c=await l.my.findImageByReferenceKey("user_id",n);if(!c)return s.status(404).json({message:"Image not found"});const d=await l.AF.create({caption:t,imageURL:c.imageUrl,location:r,tags:a||"",created_At:new Date,creator_Id:i.id});if(d)return s.status(201).json({message:"Post created successfully",newPost:d}),d;s.status(400).json({message:"Error creating new post."})}))}catch(e){console.error("Error creating post:",e),s.status(500).json({message:"Internal server error"})}},m=async(e,s,t)=>{try{const e=await l.my.findOne({where:{imageUrl:t}});if(!e)return void s.status(404).json({message:"Image not found"});await e.destroy(),s.status(200).json({message:"Image deleted successfully"})}catch(e){console.error("Error deleting image:",e),s.status(500).json({message:"Internal server error"})}},h=async(e,s)=>{try{const{caption:t,location:r,tags:a,imageUrl:o}=e.body,n=parseInt(e.query.post_id,10);if(!n)return void s.status(400).json({message:"Post ID is required"});const c=e.cookies.jwt;if(!c)return void s.status(401).json({message:"Unauthorized"});i().verify(c,d.n.JWT_SECRET,(async(i,c)=>{if(i)return console.log(i.message),void s.status(401).json({message:"Unauthorized"});const d=c.id,u=await l.zW.findByPk(d);if(!u)return void s.status(404).json({message:"User not found"});const g=await l.AF.findOne({where:{id:n,creator_Id:d}});if(!g)return void s.status(404).json({message:"Post not found"});if(g.creator_Id!==u.id)return void s.status(403).json({message:"Unauthorized attempt!"});let p=g?.imageURL;if(o)try{const t=await(0,y.r3)(e,s);if(!t)return void s.status(404).json({message:"Image not found"});p=t}catch(e){return void s.status(401).json({message:"Unauthorized"})}const h=await g.update({id:g.id,caption:t,imageURL:p,location:r,tags:a,created_At:new Date});return h?(s.status(200).json({message:"Post updated successfully",post:h}),h):(o&&await m(e,s,o),void s.status(400).json({message:"Error updating post"}))}))}catch(e){console.error("Error updating post:",e),s.status(500).json({message:"Internal server error"})}},f=async(e,s)=>{try{const e=await l.AF.findAll({include:[{model:l.zW,as:"User",attributes:["id","username","email","profilePic","bio","firstName","lastName","imageURL","avatarUrl"]}]});s.status(200).json({posts:e})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},E=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id,o=parseInt(e.body.post_id,10);if(isNaN(o))return void s.status(400).json({message:"Invalid post ID"});if(!await l.zW.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await l.AF.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});if(await l.Po.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already liked"});const i=await l.Po.createLike({user_id:a,post_id:o,created_At:new Date});n.likes_Count||(n.likes_Count=0);const c=n.likes_Count+1;await n.update({likes_Count:c})?s.status(201).json({message:"Post liked successfully",like:i}):s.status(400).json({message:"Error liking post."})}))}catch(e){console.error("Error liking post:",e),s.status(500).json({message:"Internal server error"})}},T=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});if(!r.id)return void s.status(400).json({message:"User ID is required"});const a=parseInt(e.query.user_id,10);if(!a)return void s.status(400).json({message:"Post ID is required"});const o=parseInt(e.query.user_id,10),n=await l.zW.findByPk(o,{include:[{model:l.AF,attributes:["id","caption","imageURL","location","tags","created_At","likes_Count"]}]});if(!n)return void s.status(404).json({message:"User not found"});const i=await l.Po.findAll({where:{user_id:a}}),c=i.map((e=>e.post_id));s.status(200).json({user:n,likes:i,likedPosts:c,user_id:a,requestedUserId:o})}))}catch(e){console.error("Error getting likes:",e),s.status(500).json({message:"Internal server error"})}},w=async(e,s)=>{try{if(!parseInt(e.query.user_id,10))return void s.status(400).json({message:"post User ID is required"});const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await l.zW.findByPk(a))return void s.status(404).json({message:"user not found in user"});let o,n,i;try{({post_id:o,creator_id:n,requestedUserId:i}=(0,u.VU)(e))}catch(e){return void s.status(400).json({message:e.message})}if(!o)return void s.status(400).json({message:"Post ID is required"});const c=await l.AF.findByPk(o);c?s.status(200).json({post:c,creator_id:n,requestedUserId:i,post_id:o}):s.status(404).json({message:"Post not found here"})}))}catch(e){console.error("Error getting post:",e),s.status(500).json({message:"Internal server error"})}},_=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!await l.zW.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await l.AF.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await l.Po.findOne({where:{post_id:o,user_id:a}});i&&await i.destroy();let c=n.likes_Count||0;c>0&&(c-=1),await n.update({likes_Count:c}),await n.save(),s.status(200).json({message:i?"Like removed successfully":"Post liked successfully",post:n})}))}catch(e){console.error("Error toggling like:",e),s.status(500).json({message:"Internal server error"})}},A=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required"});if(!await l.zW.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await l.AF.findByPk(o))return void s.status(404).json({message:"Post not found"});if(await l.xY.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already saved"});const n=await l.xY.createSave({id:a,user_id:a,post_id:o,saveDate:new Date});n?s.status(201).json({message:"Post saved successfully",save:n}):s.status(400).json({message:"Error saving post."})}))}catch(e){console.error("Error saving post:",e),s.status(500).json({message:"Internal server error"})}},S=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});let o;try{({post_id:o}=(0,u.VU)(e))}catch(e){return void s.status(400).json({message:e.message})}if(!await l.zW.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await l.AF.findByPk(o))return void s.status(404).json({message:"Post not found"});const n=await l.xY.findOne({where:{post_id:o,user_id:a}});n&&await n.destroy(),s.status(200).json({message:n?"Post unsaved successfully":"Post not saved"})}))}catch(e){console.error("Error deleting saved post:",e),s.status(500).json({message:"Internal server error"})}},I=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});if(!await l.zW.findByPk(r))return void s.status(404).json({message:"User not found"});const a=await l.xY.getSavedPosts(r);s.status(200).json({savedPosts:a})}))}catch(e){console.error("Error getting saved posts:",e),s.status(500).json({message:"Internal server error"})}},v=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await l.zW.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required from server"});const n=await l.AF.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await l.xY.findOne({where:{post_id:o,user_id:a}});if(i&&await i.destroy(),n.imageURL){const e=await l.my.findOne({where:{imageUrl:n.imageURL}});e&&await e.destroy()}await n.destroy(),s.status(200).json({message:"Post deleted successfully"})}))}catch(e){console.error("Error deleting post:",e),s.status(500).json({message:"Internal server error"})}},D=async(e,s)=>{try{const{page:t=0,limit:r=10}=e.query,a=t?parseInt(t,10)*parseInt(r,10):0,o=await l.AF.findAndCountAll({limit:parseInt(r,10),offset:a,order:[["created_At","DESC"]]});s.status(200).json({posts:o,page:parseInt(t,10),totalPages:Math.ceil(o.count/parseInt(r,10)),totalCount:o.count})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},U=async(e,s)=>{try{const{searchValue:t}=e.body;if(!t)return void s.status(400).json({message:"Search value is required"});const r=await l.AF.findAll({where:{[c.Op.or]:[{caption:{[c.Op.like]:`%${t}%`}},{tags:{[c.Op.like]:`%${t}%`}},{location:{[c.Op.like]:`%${t}%`}}]}});s.status(200).json({posts:r})}catch(e){console.error("Error searching posts:",e),s.status(500).json({message:"Internal server error"})}},R=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});const a=await l.AF.findAll({where:{creator_Id:r}});s.status(200).json({posts:a})}))}catch(e){console.error("Error getting user posts:",e),s.status(500).json({message:"Internal server error"})}},C=async(e,s)=>{try{const e=await l.AF.findAll({order:[["likes_Count","DESC"]]});s.status(200).json({popularPosts:e})}catch(e){console.error("Error getting popular posts:",e),s.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},9024:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Be:()=>h,TU:()=>g,Ub:()=>m,pH:()=>p});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(16),l=t(6030),u=t(2300),y=e([l]);l=(y.then?(await y)():y)[0],o().config();const g=async(e,s)=>{try{const{name:t,username:r,email:a,password:o}=e.body;if(!(t&&r&&a&&o))return(0,u.H4)(new Error("New User validation error"),s);if(await l.hV.findOne({where:{email:a}}))return(0,u.H4)(new Error("UserRegistrations.email: User already exists "),s);const n=await l.hV.create({newUser:t,username:r,email:a,hashedpassword:o,createdAt:new Date}),i=(0,d.Jj)({id:n.id});s.cookie("jwt",i,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(201).json({id:n.id,name:n.newUser,username:n.username,email:n.email,token:i})}catch(e){(0,u.H4)(e,s)}},p=async(e,s)=>{try{const{email:t,password:r}=e.body;if(!t||!r)return(0,u.H4)(new Error("Login Validation Error!"),s);const a=await l.hV.loginUser(t,r);if(!a)throw new Error("User not found");const o=(0,d.Jj)({id:a.id}),n=(0,d.v3)({id:a.id});s.cookie("jwt",o,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.cookie("refreshToken",n,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.setHeader("Authorization",`Bearer ${o}`),s.locals.user=a,s.json({token:o,refreshToken:n,user:a.id})}catch(e){(0,u.H4)(e,s)}},m=async(e,s)=>{try{const t=e.cookies.jwt,r=e.cookies.refreshToken;if(!t&&!r)return void s.status(400).json({message:"No tokens provided!"});s.cookie("jwt","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.cookie("refreshToken","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.status(200).json({message:"User logged out"})}catch(e){(0,u.H4)(e,s)}},h=async(e,s)=>{const t=e.cookies.refreshToken;t?i().verify(t,c.n.JWT_REFRESH_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=t.id;if(!e)return void s.status(400).json({message:"User ID is required"});const r=await l.hV.findByPk(e);if(!r)return s.status(404).json({message:"User not found"});const a=i().sign({id:r.id},c.n.JWT_SECRET,{expiresIn:c.n.JWT_EXPIRES_IN,algorithm:c.n.JWT_ALGORITHM,issuer:c.n.JWT_ISSUER});s.cookie("jwt",a,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(200).json({token:a,user:r.id})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}})):s.status(401).json({message:"Unauthorized"})};r()}catch(e){r(e)}}))},2993:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{pK:()=>l,r3:()=>d}),t(4469);var a=t(829),o=t.n(a),n=t(3101),i=t(6030),c=e([i]);i=(c.then?(await c)():c)[0];const d=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});o().verify(t,process.env.JWT_SECRET,(async(e,t)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const r=t.id;if(!r)return void s.status(401).json({message:"Unauthorized"});if(!await i.zW.findByPk(r))return void s.status(401).json({message:"Unauthorized"});const a=await i.my.findImageByReferenceKey("user_id",r);a?s.status(200).json({imageUrl:a.imageUrl}):s.status(200).json({message:"No image found"})}))}catch(e){throw console.error("Error getting image preview:",e),new Error("Failed to get image preview")}},l=async e=>{try{const s=e.cookies.jwt;if(!s)throw new Error("Unauthorized");o().verify(s,n.n.JWT_SECRET,(async(e,s)=>{if(e)throw new Error("Unauthorized");const t=s.id;if(!t)throw new Error("Unauthorized");if(!await i.zW.findByPk(t))throw console.log("No user found"),new Error("Unauthorized");const r=await i.V.findProfilePicByReferenceKey("user_id",t);return r?(console.log("Profile Pic:",r),r):(console.log("No profile pic found"),null)}))}catch(e){throw console.error("Error getting profile pic preview:",e),new Error("Failed to get profile pic preview")}};r()}catch(e){r(e)}}))},4361:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CF:()=>y,HW:()=>h,TK:()=>p,_q:()=>m,k7:()=>g});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(6030),l=t(2502),u=e([d]);d=(u.then?(await u)():u)[0],o().config();const y=async(e,s)=>{const t=e.cookies.jwt;if(t)try{i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await d.zW.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.query.limit,10)||10,n=await d.zW.findAll();if(!n)return void s.status(404).json({message:"Users not found"});if(!n||0===n.length)return void s.status(404).json({message:"Users not found"});const i=n.reduce(((e,s)=>(e[s.id]=s,e)),{});s.status(200).json({user:i,limit:o})}))}catch(e){console.error("Error getting all users:",e),s.status(500).json({message:"Internal server error!"})}else s.status(401).json({message:"Unauthorized"})},g=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID (decodedToken) is required"});if(a!=a)return void s.status(403).json({message:"Unauthorized attempt!"});const o=parseInt(e.query.requestedUserId,10)||10,n=await d.zW.findByPk(o);n?s.status(200).json({user:n,users_id:a,user_id:a}):s.status(404).json({message:"User not found"})}))}catch(e){console.error("Error getting user by ID:",e),s.status(500).json({message:"Internal server error"})}},p=async(e,s)=>{try{const{profilePic:t,newUser:r,...a}=e.body,o=e.cookies.jwt;if(!o)return console.log("Unauthorized - No token"),s.status(401).json({message:"Unauthorized!"});i().verify(o,c.n.JWT_SECRET,(async(e,o)=>{if(e)return console.log("Unauthorized - Invalid token"),console.log(e.message),s.status(401).json({message:"Unauthorized"});const n=o.id;if(!n)return console.log("Unauthorized - No user ID"),s.status(401).json({message:"Unauthorized"});const i=await d.zW.findByPk(n);if(!i)return console.log("User not found"),s.status(404).json({message:"User not found"});if(i.id!==n)return console.log("Unauthorized attempt"),s.status(403).json({message:"Unauthorized attempt!"});if(0===Object.keys(a).length&&!t)return console.log("No fields to update"),s.status(400).json({message:"No fields to update"});if(r){const e=r?.lastIndexOf(" "),s=-1!==e?r.slice(0,e):r,t=-1!==e?r.slice(e+1):"";a.firstName=s,a.lastName=t}let c=i?.profilePic;if(c&&t){if(!await d.V.findProfilePicByReferenceKey("user_id",n))return console.log("No image found"),s.status(404).json({message:"No image found"});c=t}const l={...a,profilePic:c},[u,y]=await d.zW.updateUser(n,l);return 0===u?(console.log("Error updating user:",y),s.status(500).json({message:"Error updating user"})):s.status(200).json({updatedUsers:y,profilePic:c})}))}catch(e){return console.error("Error updating user:",e),s.status(500).json({message:"Internal server error"})}return p},m=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});let o,n,i;try{({post_id:o,creator_id:n,user_id:i}=(0,l.VU)(e))}catch(e){return void s.status(400).json({message:e.message})}const c=await d.zW.getUserByID(a);if(!c)return void s.status(404).json({message:"User not found"});const u=await d.zW.getUserProfile(i||a);if(!c)return void s.status(404).json({message:"user profile not found"});if(c.id!==a)return void s.status(403).json({message:"Unauthorized attempt!"});const y=await d.AF.findByPk(o);y?s.status(200).json({user_id:i,post:y,creator_id:n,user:c,userPostData:u}):s.status(404).json({message:"Post not found"})}))}catch(e){console.error("Error getting user by ID:",e),s.status(500).json({message:"Internal server error"})}},h=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,c.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log(e.message),void s.status(401).json({message:"Unauthorized"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});const a=await d.zW.findByPk(r);a?a.id===r?s.status(200).json({user:a,user_id:r}):s.status(403).json({message:"Unauthorized attempt! User id do not match."}):s.status(400).json({message:"User not found"})}))}catch(e){console.error("Error in getCurrentUser:",e.message),s.status(400).json({message:e.message})}};r()}catch(e){r(e)}}))},1486:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{b:()=>u});var a=t(5486),o=t.n(a),n=t(3101),i=t(80),c=t(2300),d=t(16),l=e([i]);i=(l.then?(await l)():l)[0];const u=async(e,s)=>{try{const{email:t,password:r}=e.body;if(!t||!r)return(0,c.H4)(new Error("Login Validation Error!"),s);const a=await i.A.loginUser(t,r);if(!a)throw new Error("Admin not found");if(!await o().compare(r,a.hashedpassword))throw new Error("Incorrect password");const l=(0,d.Jj)({id:a.id}),u=(0,d.v3)({id:a.id});s.cookie("jwt",l,{httpOnly:n.n.JWT_HTTP_ONLY,maxAge:1e3*n.n.JWT_MAX_AGE,secure:n.n.JWT_SECURE,sameSite:"lax"}),s.cookie("refreshToken",u,{httpOnly:n.n.JWT_HTTP_ONLY,maxAge:1e3*n.n.JWT_REFRESH_MAX_AGE,secure:n.n.JWT_SECURE,sameSite:"lax"}),s.setHeader("Authorization",`Bearer ${l}`),s.locals.user=a,s.json({token:l,refreshToken:u,user:a.id})}catch(e){(0,c.H4)(e,s)}};r()}catch(e){r(e)}}))},7270:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{q:()=>l});var a=t(829),o=t.n(a),n=t(3101),i=t(9389),c=t(80),d=e([i,c]);[i,c]=d.then?(await d)():d;const l=async(e,s,t)=>{try{const r=e.cookies.jwt;if(!r)return s.locals.user=null,t();o().verify(r,n.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),s.locals.user=null,t();const a=r.id;if(!a)return void s.status(400).json({message:"admin id token is required"});const o=await c.A.findByPk(a);if(o)if(o===a){try{const e=await i.A.findByPk(a);console.log("amin:",a),e&&"admin"===e.role?s.locals.user=e:s.locals.user=null}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}s.status(200).json({user:s.locals.user,loggedInAdmin:o,admin:a}),s.locals.user=null,t()}else s.status(401).json({message:"Unauthorized access to admin route"});else s.status(400).json({message:"Current admin not found"})}))}catch(e){console.error("Error verifying user:",e),s.locals.user=null}};r()}catch(e){r(e)}}))},2785:(e,s,t)=>{t.d(s,{TA:()=>n});var r=t(1763),a=t.n(r),o=t(9469);const n=a()({windowMs:o._.RARE_LIMIT_WINDOW_MS,max:o._.MAX,message:o._.RARE_LIMIT_MESSAGE,statusCode:o._.RARE_LIMIT_CODE,handler:(e,s)=>{s.status(o._.RARE_LIMIT_CODE).json({message:o._.RARE_LIMIT_MESSAGE})},keyGenerator:async(e,s)=>e.ip?e.ip.replace(/:\d+[^:]*$/,""):(s.status(500).send({message:"Warning: request.ip is missing!"}),e.socket.remoteAddress)})},16:(e,s,t)=>{t.d(s,{Jj:()=>c,v3:()=>d});var r=t(818),a=t.n(r),o=t(829),n=t.n(o),i=t(3101);a().config();const c=e=>{try{return n().sign(e,i.n.JWT_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}},d=e=>{try{return n().sign(e,i.n.JWT_REFRESH_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_REFRESH_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}}},2051:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{FH:()=>u});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(6153),l=e([d]);d=(l.then?(await l)():l)[0],o().config();const u=async(e,s,t)=>{try{const r=e.cookies.jwt;if(!r)return s.locals.user=null,t();i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),s.locals.user=null,t();try{const e=await d.A.findByPk(r.id);console.log("decodedToken:",r),s.locals.user=e||null}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}t()}))}catch(e){console.error("Error verifying user:",e),s.locals.user=null}};r()}catch(e){r(e)}}))},1125:(e,s,t)=>{t.d(s,{r:()=>a});var r=t(128);async function a(){const e=(0,r.J)();let s=0;for(;s<10;)try{return await e.authenticate(),console.log("Database connection established, Starting Server....."),await e.sync({force:!0}),console.log("Drop and re-sync db."),e}catch(e){console.error("Database connection failed:",e),s++,await new Promise((e=>setTimeout(e,1e3)))}throw console.error("Max attempts reached, database connection failed"),new Error("Database connection failed")}},128:(e,s,t)=>{t.d(s,{J:()=>c});var r=t(3024),a=t.n(r),o=t(9031),n=t(3085);const i={Dialect:"mariadb",host:n.L.DB_HOST||"localhost",username:n.L.DB_USER||"metalbrain",password:n.L.DB_PASS||"password",database:n.L.DB_NAME||"FindSomeOne",socketPath:n.L.DB_SOCKET_PATH||"/var/run/mysqld/mysqld.sock",socketTimeout:n.L.DB_SOCKET_TIMEOUT||1e3,compress:n.L.DB_COMPRESS||!1,debug:n.L.DB_DEBUG||!1,permitLocalInfile:n.L.DB_PERMIT_LOCAL_INFILE||!1,trace:n.L.DB_TRACE||!0,checkDuplicate:n.L.DB_CHECK_DUPLICATE||!1,connectAttributes:JSON.parse(n.L.DB_CONNECTION_ATTRIBUTES||"{}"),connectionTimeout:n.L.DB_CONNECTION_TIMEOUT||1e3,port:n.L.DB_PORT||3306,ssl:n.L.DB_SSL||!1,dialectOptions:{ssl:{ca:n.L.DB_SSL_CA?a().readFileSync(n.L.DB_SSL_CA).toString():"",key:n.L.DB_SSL_KEY?a().readFileSync(n.L.DB_SSL_KEY).toString():"",cert:n.L.DB_SSL_CERT?a().readFileSync(n.L.DB_SSL_CERT).toString():""}}};function c(){return new o.Sequelize(i.database,i.username,i.password,{host:i.host,dialect:i.Dialect,port:i.port,ssl:i.ssl,dialectOptions:i.dialectOptions})}},3121:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>d});var a=t(423),o=t(5520),n=t(6760),i=t(3136),c=t(3085);const e=(0,n.dirname)((0,i.fileURLToPath)("file:///home/babsdevsys/appV-1/src/server/loaders/dataLoader/sequlize.ts")),d=new a.Sequelize({dialect:o.MariaDbDialect,host:c.L.DB_HOST,user:c.L.DB_USER,password:c.L.DB_PASS,database:c.L.DB_NAME,port:c.L.DB_PORT,ssl:c.L.DB_SSL,models:await(0,a.importModels)(e+"/src/server/models/**/*.model.{ts,js}")});r()}catch(e){r(e)}}),1)},6633:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>_});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(7252),d=t.n(c),l=t(2525),u=t.n(l),y=t(2096),g=t.n(y),p=t(6928),m=t.n(p),h=t(9469),f=t(4388),E=t(2300),T=t(2785),w=e([f]);async function _({app:e}){e.use(((e,s,t)=>(s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?s.sendStatus(204):t()))),e.use(o().urlencoded({extended:!0})),e.use(d().json()),e.use(d().urlencoded({extended:!0})),e.use(i()()),e.use(o().json()),e.use(d().static(m().join(__dirname,"dist"))),e.use("/assets",d().static(m().join(__dirname,"assets")));const s=h._.TRUST_PROXY||"false",t=h._.NUMBER_OF_PROXIES||1;return s?e.set("trust proxy",!0):"false"===s?e.set("trust proxy",!1):(e.set("trust proxy",s),e.set("trust proxy",t)),e.set("trust proxy",t),e.get("/ip",((e,s)=>s.send(e.ip))),e.use(u()({contentSecurityPolicy:!1})),e.use(g()(h._.MORGAN)),e.use(T.TA),e.use(f.Q),e.use(E.sh),e}f=(w.then?(await w)():w)[0],r()}catch(A){r(A)}}))},1545:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.r(s),t.d(s,{default:()=>u});var a=t(2273),o=t(2541),n=t(6854),i=t(1125),c=t(3121),d=t(6633),l=e([o,c,d]);async function u({app:e}){n.E.flushAll(),await(0,o.K)(),await(0,i.r)(),c.A,await(0,d.A)({app:e}),(0,a.A)(),console.log("Express Server Intialized!")}[o,c,d]=l.then?(await l)():l,r()}catch(y){r(y)}}))},9389:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>n});var a=t(9031);const e=(0,t(128).J)();class o extends a.Model{static async loginAdmin(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}}o.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:a.DataTypes.STRING,allowNull:!0},lastName:{type:a.DataTypes.STRING,allowNull:!0},username:{type:a.DataTypes.STRING,allowNull:!1},email:{type:a.DataTypes.STRING,allowNull:!1},hashedpassword:{type:a.DataTypes.STRING,allowNull:!1},createdAt:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW},role:{type:a.DataTypes.STRING,allowNull:!1,defaultValue:"admin"},avatarUrl:{type:a.DataTypes.STRING,allowNull:!0}},{sequelize:e,tableName:"admin"}),await e.sync({force:!1}).then((()=>{console.log("New Admin synced successfully")})).catch((e=>{console.error("Error syncing Admin Table:",e)}));const n=o;r()}catch(e){r(e)}}),1)},5595:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(452),i=t(6153),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async findImageById(e){return await this.findByPk(e)}static async findImageByReferenceKey(e,s){try{return await this.findOne({where:{[e]:s},order:[["created_At","DESC"]]})}catch(t){throw console.error(`Error finding image by reference key: ${e}, value: ${s}`,t),t}}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:d,modelName:"ImageStorages",timestamps:!1}),l.afterCreate((async e=>{const s=await i.A.findByPk(e.user_id);s&&(s.imageURL=e.imageUrl,await s.save())})),i.A.hasMany(l,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),n.A.hasMany(l,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(i.A,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(n.A,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await d.sync({force:!1}).then((()=>{console.log("New Image synced successfully")})).catch((e=>{console.error("Error syncing new image:",e)}));const u=l;r()}catch(e){r(e)}}),1)},6030:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{AF:()=>n.A,Po:()=>o.A,V:()=>i.A,hV:()=>l.A,my:()=>a.A,xY:()=>c.A,zW:()=>d.A});var a=t(5595),o=t(8995),n=t(452),i=t(9609),c=t(581),d=t(6153),l=t(80),u=e([a,o,n,i,c,d,l]);[a,o,n,i,c,d,l]=u.then?(await u)():u,d.A,n.A,o.A,c.A,i.A,a.A,l.A,r()}catch(e){r(e)}}))},8995:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(452),i=t(6153),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async createLike(e){return await this.create(e)}static async findLikeById(e){return await this.findByPk(e)}static async findLikeByReferenceKey(e,s){return await this.findOne({where:{[e]:s}})}static async findAllLikesByReferenceKey(e,s){return await this.findAll({where:{[e]:s}})}static async deleteLikeByReferenceKey(e,s){await this.destroy({where:{[e]:s}})}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!0}},{sequelize:d,modelName:"Likes",timestamps:!1,freezeTableName:!0}),i.A.hasMany(l,{foreignKey:"user_id",onDelete:"CASCADE"}),l.belongsTo(i.A,{foreignKey:"user_id"}),n.A.hasMany(l,{foreignKey:"post_id",onDelete:"CASCADE"}),l.belongsTo(n.A,{foreignKey:"post_id"}),l.sync({force:!1}).then((()=>{console.log("Like synced successfully")})).catch((e=>{console.error("Error syncing like:",e)}));const u=l;r()}catch(e){r(e)}}))},452:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var a=t(9031),o=t(128),n=t(6153),i=e([n]);n=(i.then?(await i)():i)[0];const c=(0,o.J)();class d extends a.Model{static async createPost(e){return await this.create(e)}static async updatePost(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}static async deletePost(e){const s=await this.findOne({where:{id:e}});s&&await s.destroy()}static async getAllPosts(){return await this.findAll()}static async getInfinitePosts(e,s){return await this.findAll({offset:e,limit:s})}static async getPostByID(e){return await this.findOne({where:{id:e}})}static async getUserPosts(e){return await this.findAll({where:{creator_Id:e}})}static async getSavedPost(e){return await this.findOne({where:{id:e}})}static async getPostByReferenceID(e){return await this.findOne({where:{creator_Id:e}})}}d.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},caption:{type:a.DataTypes.STRING,allowNull:!1},imageURL:{type:a.DataTypes.STRING,allowNull:!0},location:{type:a.DataTypes.STRING,allowNull:!0},tags:{type:a.DataTypes.STRING,allowNull:!1},likes_Count:{type:a.DataTypes.INTEGER,allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!0},creator_Id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}}},{sequelize:c,modelName:"Posts",timestamps:!1}),d.createPost=async function(e){try{return await this.create(e)}catch(e){throw console.error("Error creating new post:",e),e}},d.updatePost=async function(e,s){try{const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}catch(e){throw console.error("Error updating post:",e),e}},d.getInfinitePosts=async function(e,s){try{return await this.findAll({offset:e,limit:s})}catch(e){throw console.error("Error getting infinite posts:",e),e}},d.getPostByID=async function(e){try{return await this.findOne({where:{id:e}})}catch(e){throw console.error("Error getting post by ID:",e),e}},d.getUserPosts=async function(e){try{return await this.findAll({where:{creator_Id:e}})}catch(e){throw console.error("Error getting user posts:",e),e}},n.A.hasMany(d,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(n.A,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await c.sync({force:!1}).then((()=>{console.log("Post synced successfully")})).catch((e=>{console.error("Error syncing Post:",e)}));const l=d;r()}catch(e){r(e)}}),1)},9609:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var a=t(9031),o=t(128),n=t(6153),i=e([n]);n=(i.then?(await i)():i)[0];const c=(0,o.J)();class d extends a.Model{static async findProfilePictureById(e){return await this.findByPk(e)}static async getProfilePicByReferenceID(e){return await this.findOne({where:{user_id:e}})}static async findProfilePicByReferenceKey(e,s){try{return await this.findOne({where:{[e]:s},order:[["created_At","DESC"]]})}catch(t){throw console.error(`Error finding profile image by reference key: ${e}, value: ${s}`,t),t}}}d.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},user_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"},onUpdate:"CASCADE",onDelete:"CASCADE"},profilePic:{type:a.DataTypes.STRING,allowNull:!1},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW},updated_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:c,modelName:"ProfilePictures",timestamps:!1,updatedAt:"updatedAt",createdAt:"createdAt"}),n.A.hasOne(d,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(n.A,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.sync({force:!1}).then((()=>{console.log("Profile Pic synced successfully")})).catch((e=>{console.error("Error syncing creating profile pic table:",e)}));const l=d;r()}catch(e){r(e)}}))},581:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(452),i=t(6153),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async createSave(e){return await this.create(e)}static async checkIfSaved(e,s){return!!await this.findOne({where:{user_id:e,post_id:s}})}static async deleteSavedPost(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()}static async getSavedPosts(e){return await this.findAll({where:{user_id:e},include:[{model:n.A,as:"Post"}]})}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},saveDate:{type:a.DataTypes.DATE,allowNull:!0,defaultValue:a.DataTypes.NOW}},{sequelize:d,tableName:"Saves",timestamps:!1,freezeTableName:!0,indexes:[{unique:!0,fields:["user_id","post_id"]}]}),l.deleteSavedPost=async function(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()},l.belongsTo(n.A,{foreignKey:"post_id",targetKey:"id",onDelete:"RESTRICT"}),l.belongsTo(i.A,{foreignKey:"user_id",targetKey:"id"}),l.sync({force:!1}).then((()=>{console.log("Save Post synced successfully")})).catch((e=>{console.error("Error syncing Save post:",e)}));const u=l;r()}catch(e){r(e)}}))},6153:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>n});var a=t(9031);const e=(0,t(128).J)();class o extends a.Model{static async getUserByID(e){return await this.findOne({where:{id:e}})}static async getAllUsers(e,s){return await this.findAll({limit:e,attributes:s})}static async getUserProfile(e){return await this.findOne({where:{id:e}})}static async updateUser(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}}o.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},lastName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},username:{type:a.DataTypes.STRING,allowNull:!1,unique:!0,validate:{is:/^[a-zA-Z0-9_]*$/,len:[3,20]}},email:{type:a.DataTypes.STRING,unique:!0,allowNull:!1,validate:{isEmail:!0,len:[5,50],notEmpty:!0}},hashedpassword:{type:a.DataTypes.STRING,allowNull:!1},status:{type:a.DataTypes.STRING,allowNull:!1,defaultValue:"unverified"},bio:{type:a.DataTypes.STRING,defaultValue:"This is a new user."},join:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},avatarUrl:{type:a.DataTypes.STRING},imageURL:{type:a.DataTypes.STRING},profilePic:{type:a.DataTypes.STRING},label:{type:a.DataTypes.STRING,defaultValue:"New User"},last_activity:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},updated_at:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},UserRegistrationID:{type:a.DataTypes.UUID,allowNull:!0,references:{model:"UserRegistration",key:"id"}}},{sequelize:e,modelName:"Users",timestamps:!1,updatedAt:"updated_at"}),await e.sync({force:!1}).then((()=>{console.log("New User synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const n=o;r()}catch(e){r(e)}}),1)},80:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>g});var a=t(5486),o=t.n(a),n=t(9031),i=t(128),c=t(8635),d=t(6153),l=e([d]);d=(l.then?(await l)():l)[0];const u=(0,i.J)();class y extends n.Model{static async loginUser(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}}y.init({id:{type:n.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},newUser:{type:n.DataTypes.STRING,allowNull:!1},username:{type:n.DataTypes.STRING,allowNull:!1},email:{type:n.DataTypes.STRING,allowNull:!1},hashedpassword:{type:n.DataTypes.STRING,allowNull:!1},createdAt:{type:n.DataTypes.DATE,allowNull:!1,defaultValue:n.DataTypes.NOW}},{sequelize:u,modelName:"UserRegistration",createdAt:"createdAt",timestamps:!1,freezeTableName:!0}),y.beforeCreate((async e=>{try{if(e){const s=o().genSaltSync(10),t=await o().hash(String(e.hashedpassword),s);e.hashedpassword=t}}catch(e){throw console.error("Error hashing password:",e),new Error("Error hashing password")}})),y.afterCreate((async e=>{try{if(e){const s=e.newUser?.lastIndexOf(" "),t=-1!==s?e.newUser?.slice(0,s):e.newUser,r=-1!==s?e.newUser?.slice(s??1):e.newUser,a=(0,c.q)(e.username);await d.A.upsert({firstName:t,lastName:r,username:e.username,email:e.email,hashedpassword:e.hashedpassword,status:"unverified",bio:"I am a new user.",join:new Date,avatarUrl:a,imageURL:null,profilePic:null,label:"New User",last_activity:new Date,updated_at:new Date,UserRegistrationID:e.id})}}catch(e){throw console.error("Error registering new user:",e),new Error("Error registering new user")}})),y.loginUser=async function(e,s){try{const t=await this.findOne({where:{email:e}});if(t){if(await o().compare(s,t.hashedpassword))return t;throw new Error("Incorrect password")}throw new Error("Incorrect email")}catch(e){throw console.error("Error logging in user:",e),new Error("User not found")}},y.logoutUser=async function(e){try{return await this.findOne({where:{email:e}})}catch(e){throw console.error("Error logging out user:",e),new Error("User not found")}},await u.sync({force:!1}).then((()=>{console.log("New User Registered synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const g=y;r()}catch(e){r(e)}}),1)},9252:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>_});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(7252),u=t.n(l),y=t(1976),g=t(3101),p=t(1486),m=t(7270),h=t(16),f=t(80),E=t(2300),T=e([p,m,f]);[p,m,f]=T.then?(await T)():T;const w=u().Router();w.use(d()(y.v)),w.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),w.use(o().urlencoded({extended:!0})),w.use(i()()),w.use(u().json()),w.use(o().json()),w.post("/api/adminCreateUser",m.q,(async(e,s)=>{const{name:t,username:r,email:a,password:o}=e.body;try{if(!(t&&r&&a&&o))return(0,E.H4)(new Error("New User validation error"),s);if(await f.A.findOne({where:{email:a}}))return(0,E.H4)(new Error("UserRegistrations.email: User already exists "),s);const e=await f.A.create({newUser:t,username:r,email:a,hashedpassword:o,createdAt:new Date}),n=(0,h.Jj)({id:e.id});s.cookie("jwt",n,{httpOnly:g.n.JWT_HTTP_ONLY,maxAge:1e3*g.n.JWT_MAX_AGE,secure:g.n.JWT_SECURE,sameSite:"lax"}),s.status(201).json({id:e.id,name:e.newUser,username:e.username,email:e.email,token:n})}catch(e){(0,E.H4)(e,s)}})),w.post("/api/adminLogin",p.b);const _=w;r()}catch(e){r(e)}}))},2317:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>h});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(7252),u=t.n(l),y=t(1976),g=t(9024),p=e([g]);g=(p.then?(await p)():p)[0];const m=u().Router();m.use(d()(y.v)),m.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),m.use(o().urlencoded({extended:!0})),m.use(i()()),m.use(u().json()),m.use(o().json()),m.post("/api/register",g.TU),m.post("/api/login",g.pH),m.get("/api/logout",g.Ub),m.post("/api/refresh-token",g.Be);const h=m;r()}catch(e){r(e)}}))},1809:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>_});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(818),u=t.n(l),y=t(7252),g=t.n(y),p=t(829),m=t.n(p),h=t(3101),f=t(2051),E=t(6030),T=e([f,E]);[f,E]=T.then?(await T)():T;const w=g().Router();u().config(),w.use(d()()),w.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),w.use(o().urlencoded({extended:!0})),w.use(i()()),w.use(g().json()),w.use(o().json()),w.get("/api/getUser",f.FH,(async(e,s)=>{const t=e.cookies.jwt;if(!t)return console.log("No token found: send 401 Unauthorized in auth routes"),void s.status(401).json({message:"Unauthorized"});m().verify(t,h.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token in auth routes"});try{const e=await E.zW.findByPk(t.id);if(!e)return s.status(400).json({message:"User ID is required in Auth route"});s.status(200).json({user:e})}catch(e){return console.error("Error getting user:",e),void s.status(500).json({message:"Error getting current user"})}}))}));const _=w;r()}catch(e){r(e)}}))},8358:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>S});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(818),u=t.n(l),y=t(7252),g=t.n(y),p=t(829),m=t.n(p),h=t(1976),f=t(3101),E=t(2993),T=t(6030),w=t(6020),_=e([E,T]);[E,T]=_.then?(await _)():_,u().config();const A=g().Router();A.use(d()(h.v)),A.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),s.header("encoding","multipart/form-data"),t()})),A.use(o().urlencoded({extended:!0})),A.use(i()()),A.use(g().json()),A.use(o().json()),A.post("/api/uploadImage",w.A.single("image"),(async(e,s)=>{try{console.log("File uploaded:",e.file);const t=`assets/images/${e.file?.filename}`,r=e.cookies.jwt,a=parseInt(e.body.postId,10);if(!r)return void s.status(401).json({message:"Unauthorized"});m().verify(r,f.n.JWT_SECRET,(async(e,r)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const o=r.id;o&&await T.zW.findByPk(o)?await T.my.create({imageUrl:t,user_id:o||null,post_id:a||null,created_At:new Date})?s.status(200).json({message:"Image uploaded successfully",imageUrl:t}):s.status(500).send({error:"Error creating image record"}):s.status(401).json({message:"Unauthorized"})}))}catch(e){console.error("Error uploading image:",e),s.status(500).json({message:"Internal server error"})}})),A.post("/api/uploadProfilePic",w.A.single("file"),(async(e,s)=>{try{console.log("File uploaded:",e.file);const t=`assets/images/${e.file?.filename}`,r=e.cookies.jwt;if(!r)return void s.status(401).json({message:"Unauthorized"});m().verify(r,f.n.JWT_SECRET,(async(e,r)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(401).json({message:"Unauthorized"});const o=await T.zW.findByPk(a);o?await T.V.create({profilePic:t,user_id:a||null,created_At:new Date,updated_At:new Date})?(await o.update({profilePic:t}),s.status(200).json({message:"Image uploaded successfully",profilePic:t})):s.status(500).send({error:"Error creating image record"}):s.status(401).json({message:"Unauthorized"})}))}catch(e){console.error("Error uploading image:",e),s.status(500).json({message:"Internal server error"})}})),A.get("/api/sendImageUrl",E.r3),A.get("/api/sendProfilePicUrl",E.pK);const S=A;r()}catch(e){r(e)}}))},9785:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>f});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(7252),u=t.n(l),y=t(6184),g=t(2051),p=t(6030),m=e([y,g,p]);[y,g,p]=m.then?(await m)():m;const h=u().Router();h.use(d()()),h.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),h.use(o().urlencoded({extended:!0})),h.use(i()()),h.use(u().json()),h.use(o().json()),h.post("/api/createPost",y.pD),h.put("/api/updatePost",y.gg),h.delete("/api/deletePost",y.ys),h.get("/api/getAllPosts",y.zX),h.get("/api/getPostById",g.FH,y.tY),h.post("/api/likePost",y.kL),h.get("/api/getLikedPosts",g.FH,y.t9),h.post("/api/savePost",g.FH,y.E0,(async(e,s)=>{try{const{user_id:t,post_id:r}=e.body;await p.xY.create({user_id:t,post_id:r}),s.status(200).send("Post saved")}catch(e){"SequelizeUniqueConstraintError"!==e.name&&"ER_DUP_ENTRY"!==e.code||s.status(400).json({message:"Post already saved by this user"}),console.error("Error saving post:",e),s.status(500).send("Error saving post")}})),h.get("/api/getSavedPosts",g.FH,y.lM),h.delete("/api/deleteSavedPost",y.Zv),h.delete("/api/deleteLikePost",y.zh),h.get("/api/getInfinitePosts",y.Eu),h.post("/api/searchPosts",y.CI),h.get("/api/getUserPosts",y.hv),h.get("/api/getPopularPosts",y.bI);const f=h;r()}catch(e){r(e)}}))},4388:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Q:()=>T});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(7252),d=t.n(c),l=t(9469),u=t(9252),y=t(2317),g=t(1809),p=t(8358),m=t(9785),h=t(7128),f=t(4704),E=e([u,y,g,p,m,h,f]);[u,y,g,p,m,h,f]=E.then?(await E)():E;const T=d().Router();T.use(((e,s,t)=>(s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?s.sendStatus(200):t()))),T.use(o().urlencoded({extended:!0})),T.use(i()()),T.use(d().json()),T.use(o().json()),T.get("/",((e,s)=>{s.send({status:`${l._.NODE_ENV}`,message:`${l._.RESPONSE_STATUS}`,name:`${l._.APP_NAME}`})})),T.use(u.A),T.use(y.A),T.use(f.A),T.use(g.A),T.use(h.A),T.use(m.A),T.use(p.A),r()}catch(e){r(e)}}))},7128:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>m});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(7252),u=t.n(l),y=t(4361),g=e([y]);y=(g.then?(await g)():g)[0];const p=u().Router();p.use(d()()),p.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),p.use(o().urlencoded({extended:!0})),p.use(i()()),p.use(u().json()),p.use(o().json()),p.get("/api/getUserData",y._q);const m=p;r()}catch(e){r(e)}}))},4704:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>h});var a=t(3268),o=t.n(a),n=t(6898),i=t.n(n),c=t(8577),d=t.n(c),l=t(7252),u=t.n(l),y=t(4361),g=t(2051),p=e([y,g]);[y,g]=p.then?(await p)():p;const m=u().Router();m.use(d()()),m.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),m.use(o().urlencoded({extended:!0})),m.use(i()()),m.use(u().json()),m.use(o().json()),m.get("/api/getCurrentUser",g.FH,y.HW),m.get("/api/getAllUsers",y.CF),m.get("/api/getUserByID",y.k7),m.put("/api/updateUser",y.TK);const h=m;r()}catch(e){r(e)}}))},6020:(e,s,t)=>{t.d(s,{A:()=>y});var r=t(8461),a=t.n(r),o=t(6928),n=t.n(o),i=t(7189),c=t(9896),d=t.n(c);const l="/home/babsdevsys/appV-1/public/assets/images";d().existsSync(l)||d().mkdirSync(l,{recursive:!0});const u=a().diskStorage({destination:function(e,s,t){t(null,l)},filename:function(e,s,t){const r=Date.now()+"-"+Math.round(1e9*Math.random());t(null,s.fieldname+"-"+r+n().extname(s.originalname))}}),y=a()({storage:u,limits:{fileSize:1e7},fileFilter:function(e,s,t){const r=/jpeg|jpg|png|svg/,a=r.test(s.mimetype),o=r.test(n().extname(s.originalname).toLowerCase());if(a&&o)return t(null,!0);(async(e,s)=>{try{if(!(await(0,i.validateMIMEType)(e.path,{originalFilename:e.originalname,allowMimeTypes:["image/jpeg","image/png","image/svg+xml"]})).ok)return s(new Error("Invalid file type"));s(null,!0)}catch(e){console.error("Error validating file type:",e),s(new Error("Error validating file type"))}})(s.path,t)}})},2273:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(643);function a(){return new Promise((e=>{setTimeout((()=>{e()}),1e3)}))}new r.PerformanceObserver((e=>{e.getEntries().forEach((e=>{console.log(`${e.name}: ${e.duration}ms`)})),r.performance.clearMarks()})).observe({type:"measure"});const o=async function(){try{r.performance.mark("Loader Start",{detail:"Loader started"}),await a(),r.performance.mark("Task 1 End",{detail:"Task 1 completed"}),await a(),r.performance.mark("Task 2 End",{detail:"Task 2 completed"});const e=r.performance.measure("Task 2 Duration","Task 1 End","Task 2 End");console.log(e.duration),r.performance.mark("Loader End"),r.performance.measure("Total Loader Duration","Loader Start","Loader End")}catch(e){console.error("Error in loader:",e)}}},2541:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{K:()=>d});var a=t(128),o=t(5595),n=t(9609),i=e([o,n]);[o,n]=i.then?(await i)():i;const c=(0,a.J)();async function d(){const e=await c.transaction();try{await o.A.truncate({transaction:e}),await n.A.truncate({transaction:e}),await e.commit(),console.log("Tables have been truncated...")}catch(s){await e.rollback(),console.error("Error truncating tables:",s)}}r()}catch(l){r(l)}}))},8635:(e,s,t)=>{function r(e){const s=e.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");return`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&size=200&background=random&color=fff`}t.d(s,{q:()=>r}),t(6982)},2300:(e,s,t)=>{t.d(s,{H4:()=>c,sh:()=>u});var r=t(1708),a=t.n(r),o=t(9896),n=t.n(o),i=t(9469);const c=(e,s)=>{console.error(e.message);let t={};e.message.includes("New User validation error")&&(t={name:"Name is required",username:"username is required",email:"email is required",password:"password is required"}),e.message.includes("UserRegistrations.email")&&(t.email="Email is already registered"),e.message.includes("incorrect email")&&(t.email="email is not registered"),e.message.includes("Incorrect password")&&(t.password="password is incorrect"),"SequelizeValidationError"===e.name&&e.error&&(t=e.error.reduce(((e,s)=>(e[s.path]=s.message,e)),{})),s.status(e.code||500).json({errors:t})};function d(e){const s=`${(new Date).toISOString()} - ${e.message}\n${e.stack}\n`;n().appendFileSync("error.log",s)}const l=new Map;function u(e,s,t,r){d(e),t.status(500).json({message:"An unexpected error occurred"}),r(e)}a().on("unhandledRejection",((e,s)=>{console.error("Unhandled Rejection at:",s,"reason:",e),l.set(s,e)})),a().on("rejectionHandled",(e=>{l.delete(e)})),a().on("unhandledRejection",((e,s)=>{d(e),console.error("Unhandled Rejection at:",s,"reason:",e),a().exit(1)})),a().on("uncaughtException",(e=>{d(e),console.error("Uncaught Exception:",e),a().exit(1)})),a().on("uncaughtException",(e=>{n().writeSync(a().stderr.fd,`Caught exception: ${e}\nException Origin: ${origin}\n`)})),setTimeout((()=>{console.log("This will still run.")}),i._.ERROR_TIMEOUT)},6854:(e,s,t)=>{t.d(s,{E:()=>a});var r=t(2011);const a=new(t.n(r)())({stdTTL:3600,checkperiod:120})},2502:(e,s,t)=>{function r(e){const{user_id:s,post_id:t,likes_id:r,creator_id:a,requestedUserId:o,limit:n}=e.query;if(void 0===s)throw new Error("user_id is required");if(void 0===t)throw new Error("post_id is required");const i=void 0!==s?parseInt(s,10):void 0,c=void 0!==t?parseInt(t,10):void 0,d=void 0!==r?parseInt(r,10):void 0,l=void 0!==a?parseInt(a,10):void 0,u=void 0!==o?parseInt(o,10):void 0,y=void 0!==n?parseInt(n,10):void 0;if(console.log("Received parameters:",{user_id:s,post_id:t,likes_id:r,creator_id:a,requestedUserId:o,limit:n}),console.log("Parsed parameters:",{parsedUserId:i,parsedPostId:c,parsedLikesId:d,parsedCreatorId:l,parsedRequestedUserId:u,parsedLimit:y}),isNaN(i??0))throw new Error("user_id must be a number");if(isNaN(c??0))throw new Error("post_id must be a number");if(isNaN(d??0))throw new Error("likes_id must be a number");if(isNaN(l??0))throw new Error("creator_id must be a number");if(isNaN(u??0))throw new Error("requestedUserId must be a number");if(isNaN(y??0))throw new Error("limit must be a number");if(void 0!==i&&i<0||void 0!==c&&c<0||void 0!==d&&d<0||void 0!==l&&l<0||void 0!==u&&u<0||void 0!==y&&y<0)throw new Error("Invalid query parameters: post_id, likes_id, and creator_id must be non-negative");return{user_id:i,post_id:c,likes_id:d,creator_id:l,requestedUserId:u,limit:y}}t.d(s,{VU:()=>r})}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YXBwdi0xLy4vc3JjL3NlcnZlci9jb25maWcvY29yc0VWTi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9jb3JPcHRpb25zLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2RhdGFiYXNlRU5WLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2p3dEVOVi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1Bvc3RDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy9pbWFnZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYWRtaW4vYWRtaW5Db250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hZG1pbi9mb3VuZGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2lwQ29uZmlnLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2p3dEdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYXV0aC91c2VyQXV0aC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9tYXJpYWRiLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1bGl6ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZXhwcmVzcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvYWRtaW4ubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvaW1hZ2UubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvaW5kZXgubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvbGlrZVBvc3QubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvcG9zdC5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy9wcm9maWxlUGljLm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3NhdmVQb3N0Lm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3VzZXIubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvdXNlclJlZ2lzdGVyLm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL2FkbWluUm91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL2F1dGhSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvY3VycmVudFVzZXJSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvaW1hZ2VSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvcG9zdFJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvdXNlckRhdGFSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvdXNlclJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3NlcnZpY2VzL211bHRlci5jb25maWcudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9zZXJ2aWNlcy9wZXJmb3JtYW5jZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3NlcnZpY2VzL3RydW5jYXRlLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvYXZhdGFyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvZXJyb3JIYW5kbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvbm9kZUNhY2hlLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvdmFsaWRhdGVBbmRQYXJzZVBhcmFtcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpY3QgYXMgYXNzZXJ0IH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IGxvYWQgfSBmcm9tICd0cy1kb3RlbnYnO1xuY29uc3QgY29yc1NjaGVtYUVOViA9IGxvYWQoe1xuICAgIC8qIExvYWQgQ09SUyAqL1xuICAgIENPUlNfT1JJR0lOOiBTdHJpbmcsXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTOiBOdW1iZXIsXG4gICAgQ09SU19DUkVERU5USUFMUzogQm9vbGVhbixcbiAgICBDT1JTX01FVEhPRFM6IFN0cmluZyxcbn0pO1xuLy8gZGVzdHJ1Y3R1cmUgdGhlIENPUlMgc2NoZW1hXG5jb25zdCB7IENPUlNfT1JJR0lOLCBDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsIENPUlNfQ1JFREVOVElBTFMsIENPUlNfTUVUSE9EUywgfSA9IGNvcnNTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgQ09SUyBzY2hlbWEgaXMgcHJlc2VudFxuYXNzZXJ0Lm9rKENPUlNfT1JJR0lOLCAnQ09SUyBvcmlnaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsICdDT1JTIG9wdGlvbnMgc3VjY2VzcyBzdGF0dXMgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX0NSRURFTlRJQUxTLCAnQ09SUyBjcmVkZW50aWFscyBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKENPUlNfTUVUSE9EUywgJ0NPUlMgbWV0aG9kcyBzaG91bGQgYmUgcHJlc2VudCcpO1xuLy8gZXhwb3J0IHRoZSBDT1JTIHNjaGVtYVxuZXhwb3J0IGNvbnN0IGNvcnNFTlYgPSB7XG4gICAgQ09SU19PUklHSU4sXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxuICAgIENPUlNfQ1JFREVOVElBTFMsXG4gICAgQ09SU19NRVRIT0RTLFxufTtcbi8vIGV4cG9ydCB0aGUgQ09SUyBzY2hlbWFcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjb3JzRU5WLFxufTtcbiIsIi8vIEV4cG9ydCBjb3JPcHRpb25zIG9iamVjdCB3aXRoIG9yaWdpbiBhbmQgb3B0aW9uc1N1Y2Nlc3NTdGF0dXMgcHJvcGVydGllc1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5pbXBvcnQgeyBjb3JzRU5WIH0gZnJvbSAnLi9jb3JzRVZOJztcbmNvbnN0IGNvck9wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBjb3JzRU5WLkNPUlNfT1JJR0lOLFxuICAgIG1ldGhvZHM6IGNvcnNFTlYuQ09SU19NRVRIT0RTLFxuICAgIGNyZWRlbnRpYWxzOiBjb3JzRU5WLkNPUlNfQ1JFREVOVElBTFMsXG4gICAgb3B0aW9uc1N1Y2Nlc3NTdGF0dXM6IGNvcnNFTlYuQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxufTtcbmV4cG9ydCB7IGNvck9wdGlvbnMgfTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBkYXRhU2NoZW1hRU5WID0gbG9hZCh7XG4gICAgLyogTG9hZCBEYXRhYmFzZSAqL1xuICAgIERCX0hPU1Q6IFN0cmluZyxcbiAgICBEQl9QT1JUOiBOdW1iZXIsXG4gICAgREJfVVNFUjogU3RyaW5nLFxuICAgIERCX1BBU1M6IFN0cmluZyxcbiAgICBEQl9OQU1FOiBTdHJpbmcsXG4gICAgREJfU09DS0VUX1BBVEg6IFN0cmluZyxcbiAgICBEQl9TT0NLRVRfVElNRU9VVDogTnVtYmVyLFxuICAgIERCX0NPTVBSRVNTOiBCb29sZWFuLFxuICAgIERCX0RFQlVHOiBCb29sZWFuLFxuICAgIERCX1BFUk1JVF9MT0NBTF9JTkZJTEU6IEJvb2xlYW4sXG4gICAgREJfVFJBQ0U6IEJvb2xlYW4sXG4gICAgREJfQ0hFQ0tfRFVQTElDQVRFOiBCb29sZWFuLFxuICAgIERCX1NTTDogQm9vbGVhbixcbiAgICBEQl9TU0xfQ0E6IFN0cmluZyxcbiAgICBEQl9TU0xfS0VZOiBTdHJpbmcsXG4gICAgREJfU1NMX0NFUlQ6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVM6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX1RJTUVPVVQ6IE51bWJlcixcbn0pO1xuY29uc3QgeyBEQl9IT1NULCBEQl9QT1JULCBEQl9VU0VSLCBEQl9QQVNTLCBEQl9OQU1FLCBEQl9TT0NLRVRfUEFUSCwgREJfU09DS0VUX1RJTUVPVVQsIERCX0NPTVBSRVNTLCBEQl9ERUJVRywgREJfUEVSTUlUX0xPQ0FMX0lORklMRSwgREJfVFJBQ0UsIERCX0NIRUNLX0RVUExJQ0FURSwgREJfU1NMLCBEQl9TU0xfQ0EsIERCX1NTTF9LRVksIERCX1NTTF9DRVJULCBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMsIERCX0NPTk5FQ1RJT05fVElNRU9VVCwgfSA9IGRhdGFTY2hlbWFFTlY7XG5hc3NlcnQub2soREJfSE9TVCwgJ0RhdGFiYXNlIGhvc3Qgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9QT1JULCAnRGF0YWJhc2UgcG9ydCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX1VTRVIsICdEYXRhYmFzZSB1c2VyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfUEFTUywgJ0RhdGFiYXNlIHBhc3N3b3JkIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfTkFNRSwgJ0RhdGFiYXNlIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmV4cG9ydCBjb25zdCBkYXRhYmFzZUVOViA9IHtcbiAgICBEQl9IT1NULFxuICAgIERCX1BPUlQsXG4gICAgREJfVVNFUixcbiAgICBEQl9QQVNTLFxuICAgIERCX05BTUUsXG4gICAgREJfU09DS0VUX1BBVEgsXG4gICAgREJfU09DS0VUX1RJTUVPVVQsXG4gICAgREJfQ09NUFJFU1MsXG4gICAgREJfREVCVUcsXG4gICAgREJfUEVSTUlUX0xPQ0FMX0lORklMRSxcbiAgICBEQl9UUkFDRSxcbiAgICBEQl9DSEVDS19EVVBMSUNBVEUsXG4gICAgREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTLFxuICAgIERCX0NPTk5FQ1RJT05fVElNRU9VVCxcbiAgICBEQl9TU0wsXG4gICAgREJfU1NMX0NBLFxuICAgIERCX1NTTF9LRVksXG4gICAgREJfU1NMX0NFUlQsXG59O1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGFiYXNlRU5WLFxuICAgIG1hcmlhZGI6IHtcbiAgICAgICAgc3NsOiBEQl9TU0wsXG4gICAgICAgIHNzbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhOiBEQl9TU0xfQ0EsXG4gICAgICAgICAgICBrZXk6IERCX1NTTF9LRVksXG4gICAgICAgICAgICBjZXJ0OiBEQl9TU0xfQ0VSVCxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBqd3RTY2hlbWFFTlYgPSBsb2FkKHtcbiAgICAvKiBMb2FkIEpXVCAqL1xuICAgIEpXVF9TRUNSRVQ6IFN0cmluZyxcbiAgICBKV1RfRVhQSVJFU19JTjogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX1NFQ1JFVDogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX0VYUElSRVNfSU46IFN0cmluZyxcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFOiBOdW1iZXIsXG4gICAgSldUX0FMR09SSVRITTogU3RyaW5nLFxuICAgIEpXVF9JU1NVRVI6IFN0cmluZyxcbiAgICBKV1RfTUFYX0FHRTogTnVtYmVyLFxuICAgIEpXVF9IVFRQX09OTFk6IEJvb2xlYW4sXG4gICAgSldUX1NBTUVfU0lURTogU3RyaW5nLFxuICAgIEpXVF9DT09LSUVfTkFNRTogU3RyaW5nLFxuICAgIEpXVF9TRUNVUkU6IEJvb2xlYW4sXG59KTtcbi8vIGRlc3RydWN0dXJlIHRoZSBKV1Qgc2NoZW1hXG5jb25zdCB7IEpXVF9TRUNSRVQsIEpXVF9FWFBJUkVTX0lOLCBKV1RfUkVGUkVTSF9TRUNSRVQsIEpXVF9SRUZSRVNIX0VYUElSRVNfSU4sIEpXVF9SRUZSRVNIX01BWF9BR0UsIEpXVF9BTEdPUklUSE0sIEpXVF9JU1NVRVIsIEpXVF9NQVhfQUdFLCBKV1RfSFRUUF9PTkxZLCBKV1RfU0FNRV9TSVRFLCBKV1RfQ09PS0lFX05BTUUsIEpXVF9TRUNVUkUsIH0gPSBqd3RTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgSldUIHNjaGVtYSBpcyBwcmVzZW50XG5hc3NlcnQub2soSldUX1NFQ1JFVCwgJ0pXVCBzZWNyZXQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfRVhQSVJFU19JTiwgJ0pXVCBleHBpcmVzIGluIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfU0VDUkVULCAnSldUIHJlZnJlc2ggc2VjcmV0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfRVhQSVJFU19JTiwgJ0pXVCByZWZyZXNoIGV4cGlyZXMgaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQUxHT1JJVEhNLCAnSldUIGFsZ29yaXRobSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9JU1NVRVIsICdKV1QgaXNzdWVyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX01BWF9BR0UsICdKV1QgbWF4IGFnZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9IVFRQX09OTFksICdKV1QgaHR0cCBvbmx5IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1NBTUVfU0lURSwgJ0pXVCBzYW1lIHNpdGUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQ09PS0lFX05BTUUsICdKV1QgY29va2llIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfU0VDVVJFLCAnSldUIHNlY3VyZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9SRUZSRVNIX01BWF9BR0UsICdKV1QgcmVmcmVzaCBtYXggYWdlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG4vLyBleHBvcnQgdGhlIEpXVCBzY2hlbWFcbmV4cG9ydCBjb25zdCBqd3RFTlYgPSB7XG4gICAgSldUX1NFQ1JFVCxcbiAgICBKV1RfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9TRUNSRVQsXG4gICAgSldUX1JFRlJFU0hfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFLFxuICAgIEpXVF9BTEdPUklUSE0sXG4gICAgSldUX0lTU1VFUixcbiAgICBKV1RfTUFYX0FHRSxcbiAgICBKV1RfSFRUUF9PTkxZLFxuICAgIEpXVF9TQU1FX1NJVEUsXG4gICAgSldUX0NPT0tJRV9OQU1FLFxuICAgIEpXVF9TRUNVUkUsXG59O1xuLy8gZXhwb3J0IHRoZSBKV1Qgc2NoZW1hXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgand0RU5WLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IE9wIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0IHsgSW1hZ2VTdG9yYWdlcywgTGlrZXMsIFBvc3RzLCBTYXZlcywgVXNlcnMsIH0gZnJvbSAnLi4vbW9kZWxzL2luZGV4Lm1vZGVsJztcbmltcG9ydCB7IHZhbGlkYXRlQW5kUGFyc2VQYXJhbXMgfSBmcm9tICcuLi91dGlscy92YWxpZGF0ZUFuZFBhcnNlUGFyYW1zJztcbmltcG9ydCB7IGdldEltYWdlUHJldmlld1VybCB9IGZyb20gJy4vaW1hZ2VDb250cm9sbGVyJztcbmRvdGVudi5jb25maWcoKTtcbi8vICoqIENyZWF0ZSBQb3N0IE1ldGhvZCAtIENyZWF0ZSBhIG5ldyBwb3N0XG5leHBvcnQgY29uc3QgY3JlYXRlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgY2FwdGlvbiwgbG9jYXRpb24sIHRhZ3MgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDsgLy8gRW5zdXJlIHRoYXQgdGhlIHRva2VuIGNvbnRhaW5zIHRoZSB1c2VyIElEXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIGltYWdlIFVSTCBmcm9tIHRoZSBJbWFnZVN0b3JhZ2UgdGFibGUgdXNpbmcgdGhlIHN0YXRpYyBtZXRob2RcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVjb3JkID0gYXdhaXQgSW1hZ2VTdG9yYWdlcy5maW5kSW1hZ2VCeVJlZmVyZW5jZUtleSgndXNlcl9pZCcsIHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCFpbWFnZVJlY29yZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdJbWFnZSBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3UG9zdCA9IGF3YWl0IFBvc3RzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogY2FwdGlvbixcbiAgICAgICAgICAgICAgICBpbWFnZVVSTDogaW1hZ2VSZWNvcmQuaW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgJycsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9BdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBjcmVhdG9yX0lkOiB1c2VyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW5ld1Bvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBjcmVhdGluZyBuZXcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsIG5ld1Bvc3QgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UG9zdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gKiogRGVsZXRlIEZpbGUgTWV0aG9kIC0gRGVsZXRlIGEgZmlsZVxuZXhwb3J0IGNvbnN0IGRlbGV0ZUZpbGUgPSBhc3luYyAoX3JlcSwgcmVzLCBpbWFnZVVybCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgSW1hZ2VTdG9yYWdlcy5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGltYWdlVXJsOiBpbWFnZVVybCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnSW1hZ2Ugbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBpbWFnZS5kZXN0cm95KCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gKiogVXBkYXRlIFBvc3QgTWV0aG9kIC0gVXBkYXRlIGEgcG9zdFxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGNhcHRpb24sIGxvY2F0aW9uLCB0YWdzLCBpbWFnZVVybDogbmV3SW1hZ2VVcmwgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCBwb3N0X2lkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgaWYgKCFwb3N0X2lkKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IElEIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDsgLy8gRW5zdXJlIHRoYXQgdGhlIHRva2VuIGNvbnRhaW5zIHRoZSB1c2VyIElEXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBwb3N0X2lkLCBjcmVhdG9yX0lkOiB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zdC5jcmVhdG9yX0lkICE9PSB1c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIGF0dGVtcHQhJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaW1hZ2VVcmwgPSBwb3N0Py5pbWFnZVVSTDtcbiAgICAgICAgICAgIGlmIChuZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXdJbWFnZVVybCA9IGF3YWl0IGdldEltYWdlUHJldmlld1VybChyZXEsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldmlld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdJbWFnZSBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGltYWdlVXJsID0gcHJldmlld0ltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQb3N0ID0gYXdhaXQgcG9zdC51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgICAgICAgICAgIGNhcHRpb246IGNhcHRpb24sXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IGltYWdlVXJsLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICB0YWdzOiB0YWdzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghdXBkYXRlZFBvc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGVsZXRlRmlsZShyZXEsIHJlcywgbmV3SW1hZ2VVcmwpOyAvLyBFbnN1cmUgZGVsZXRlRmlsZSBpcyBkZWZpbmVkIGVsc2V3aGVyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciB1cGRhdGluZyBwb3N0JyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAuc3RhdHVzKDIwMClcbiAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICdQb3N0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JywgcG9zdDogdXBkYXRlZFBvc3QgfSk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZFBvc3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEdldCBhbGwgcG9zdHNcbmV4cG9ydCBjb25zdCBnZXRBbGxQb3N0cyA9IGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IFVzZXJzLFxuICAgICAgICAgICAgICAgICAgICBhczogJ1VzZXInLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXJuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAncHJvZmlsZVBpYycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYmlvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdmaXJzdE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2xhc3ROYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdpbWFnZVVSTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXZhdGFyVXJsJyxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdHM6IHBvc3RzIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEZ1bmN0aW9uIHRvIGxpa2UgYSBwb3N0IGJ5IHVzZXJcbmV4cG9ydCBjb25zdCBsaWtlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmIChpc05hTihwb3N0X2lkKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0ludmFsaWQgcG9zdCBJRCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kQnlQayhwb3N0X2lkKTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZ0xpa2UgPSBhd2FpdCBMaWtlcy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBwb3N0X2lkLCB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZ0xpa2UpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IGFscmVhZHkgbGlrZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld0xpa2UgPSBhd2FpdCBMaWtlcy5jcmVhdGVMaWtlKHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkLFxuICAgICAgICAgICAgICAgIHBvc3RfaWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9BdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFwb3N0Lmxpa2VzX0NvdW50KSB7XG4gICAgICAgICAgICAgICAgcG9zdC5saWtlc19Db3VudCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaWtlc0NvdW50ID0gcG9zdC5saWtlc19Db3VudCArIDE7XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUG9zdCA9IGF3YWl0IHBvc3QudXBkYXRlKHsgbGlrZXNfQ291bnQ6IGxpa2VzQ291bnQgfSk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRQb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgbGlraW5nIHBvc3QuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICdQb3N0IGxpa2VkIHN1Y2Nlc3NmdWxseScsIGxpa2U6IG5ld0xpa2UgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlraW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBGdW5jdGlvbiB0byBnZXQgYWxsIGxpa2VzIGJ5IHBvc3RcbmV4cG9ydCBjb25zdCBnZXRMaWtlZFBvc3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJzX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2Vyc19pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBwYXJzZUludChyZXEucXVlcnkudXNlcl9pZCwgMTApO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlcklkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnVzZXJfaWQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayhyZXF1ZXN0ZWRVc2VySWQsIHtcbiAgICAgICAgICAgICAgICBpbmNsdWRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsOiBQb3N0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjYXB0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaW1hZ2VVUkwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdsb2NhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3RhZ3MnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjcmVhdGVkX0F0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbGlrZXNfQ291bnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlrZXMgPSBhd2FpdCBMaWtlcy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGxpa2VkUG9zdHMgPSBsaWtlcy5tYXAobGlrZSA9PiBsaWtlLnBvc3RfaWQpO1xuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgICAgICAgLmpzb24oeyB1c2VyLCBsaWtlcywgbGlrZWRQb3N0cywgdXNlcl9pZCwgcmVxdWVzdGVkVXNlcklkIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgbGlrZXM6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBHZXQgcG9zdCBieSBJRFxuZXhwb3J0IGNvbnN0IGdldFBvc3RCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlcklkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnVzZXJfaWQsIDEwKTtcbiAgICAgICAgaWYgKCFyZXF1ZXN0ZWRVc2VySWQpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ3Bvc3QgVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIElEIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICd1c2VyIG5vdCBmb3VuZCBpbiB1c2VyJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSBhbmQgcGFyc2UgcGFyYW1ldGVyc1xuICAgICAgICAgICAgbGV0IHBvc3RfaWQsIGNyZWF0b3JfaWQsIHJlcXVlc3RlZFVzZXJJZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgKHsgcG9zdF9pZCwgY3JlYXRvcl9pZCwgcmVxdWVzdGVkVXNlcklkIH0gPVxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZUFuZFBhcnNlUGFyYW1zKHJlcSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kQnlQayhwb3N0X2lkKTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kIGhlcmUnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdCwgY3JlYXRvcl9pZCwgcmVxdWVzdGVkVXNlcklkLCBwb3N0X2lkIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIHRvZ2dsZSBsaWtlc1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUxpa2VkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMaWtlID0gYXdhaXQgTGlrZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZDogcG9zdF9pZCwgdXNlcl9pZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMaWtlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdMaWtlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50TGlrZXMgPSBwb3N0Lmxpa2VzX0NvdW50IHx8IDA7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpa2VzID4gMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaWtlcyAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcG9zdC51cGRhdGUoeyBsaWtlc19Db3VudDogY3VycmVudExpa2VzIH0pO1xuICAgICAgICAgICAgYXdhaXQgcG9zdC5zYXZlKCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXhpc3RpbmdMaWtlXG4gICAgICAgICAgICAgICAgICAgID8gJ0xpa2UgcmVtb3ZlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgICAgIDogJ1Bvc3QgbGlrZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICBwb3N0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdG9nZ2xpbmcgbGlrZTonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEZ1bmN0aW9uIHRvIHNhdmUgYSBwb3N0IGJ5IHVzZXJcbmV4cG9ydCBjb25zdCBzYXZlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBhbHJlYWR5IHNhdmVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdTYXZlID0gYXdhaXQgU2F2ZXMuY3JlYXRlU2F2ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBwb3N0X2lkLFxuICAgICAgICAgICAgICAgIHNhdmVEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW5ld1NhdmUpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBzYXZpbmcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5Jywgc2F2ZTogbmV3U2F2ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEdldCBhbGwgc2F2ZWQgcG9zdHMgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVNhdmVkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgYW5kIHBhcnNlIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIGxldCBwb3N0X2lkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoeyBwb3N0X2lkIH0gPSB2YWxpZGF0ZUFuZFBhcnNlUGFyYW1zKHJlcSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdTYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBleGlzdGluZ1NhdmVcbiAgICAgICAgICAgICAgICAgICAgPyAnUG9zdCB1bnNhdmVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICAgICAgOiAnUG9zdCBub3Qgc2F2ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc2F2ZWQgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEdldCBhbGwgc2F2ZWQgcG9zdHMgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYXZlZFBvc3RzID0gYXdhaXQgU2F2ZXMuZ2V0U2F2ZWRQb3N0cyh1c2VyX2lkKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBzYXZlZFBvc3RzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzYXZlZCBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIERlbGV0ZSBhIHBvc3RcbmV4cG9ydCBjb25zdCBkZWxldGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3QgfHwgcmVxLmhlYWRlcnMuYXV0aG9yaXphdGlvbj8uc3BsaXQoJyAnKVsxXTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0X2lkID0gcGFyc2VJbnQocmVxLmJvZHkucG9zdF9pZCwgMTApO1xuICAgICAgICAgICAgaWYgKCFwb3N0X2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBJRCBpcyByZXF1aXJlZCBmcm9tIHNlcnZlcicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeVBrKHBvc3RfaWQpO1xuICAgICAgICAgICAgaWYgKCFwb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nU2F2ZSA9IGF3YWl0IFNhdmVzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHBvc3RfaWQsIHVzZXJfaWQgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nU2F2ZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGV4aXN0aW5nU2F2ZS5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBGaW5kIGFzc29jaWF0ZWQgaW1hZ2VzIGFuZCBkZWxldGUgdGhlbVxuICAgICAgICAgICAgaWYgKHBvc3QuaW1hZ2VVUkwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IEltYWdlU3RvcmFnZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiB7IGltYWdlVXJsOiBwb3N0LmltYWdlVVJMIH0sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGltYWdlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBwb3N0LmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgZGVsZXRlZCBzdWNjZXNzZnVsbHknIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBHZXQgSW5maW5pdGUgUG9zdHNcbmV4cG9ydCBjb25zdCBnZXRJbmZpbml0ZVBvc3RzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBwYWdlID0gMCwgbGltaXQgPSAxMCB9ID0gcmVxLnF1ZXJ5O1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBwYWdlXG4gICAgICAgICAgICA/IHBhcnNlSW50KHBhZ2UsIDEwKSAqIHBhcnNlSW50KGxpbWl0LCAxMClcbiAgICAgICAgICAgIDogMDtcbiAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQW5kQ291bnRBbGwoe1xuICAgICAgICAgICAgbGltaXQ6IHBhcnNlSW50KGxpbWl0LCAxMCksXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZF9BdCcsICdERVNDJ11dLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgcG9zdHMsXG4gICAgICAgICAgICBwYWdlOiBwYXJzZUludChwYWdlLCAxMCksXG4gICAgICAgICAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwocG9zdHMuY291bnQgLyBwYXJzZUludChsaW1pdCwgMTApKSxcbiAgICAgICAgICAgIHRvdGFsQ291bnQ6IHBvc3RzLmNvdW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9zdHM6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBTZWFyY2ggcG9zdHNcbmV4cG9ydCBjb25zdCBzZWFyY2hQb3N0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgc2VhcmNoVmFsdWUgfSA9IHJlcS5ib2R5O1xuICAgICAgICBpZiAoIXNlYXJjaFZhbHVlKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdTZWFyY2ggdmFsdWUgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdHMuZmluZEFsbCh7XG4gICAgICAgICAgICB3aGVyZToge1xuICAgICAgICAgICAgICAgIFtPcC5vcl06IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FwdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtPcC5saWtlXTogYCUke3NlYXJjaFZhbHVlfSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtPcC5saWtlXTogYCUke3NlYXJjaFZhbHVlfSVgLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IGAlJHtzZWFyY2hWYWx1ZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBwb3N0cyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgcG9zdHM6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBHZXQgYWxsIHBvc3RzIGJ5IHVzZXJcbmV4cG9ydCBjb25zdCBnZXRVc2VyUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdHMuZmluZEFsbCh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgY3JlYXRvcl9JZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBvc3RzIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEdldCBQb3B1bGFyIFBvc3RzXG5leHBvcnQgY29uc3QgZ2V0UG9wdWxhclBvc3RzID0gYXN5bmMgKF9yZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvcHVsYXJQb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgb3JkZXI6IFtbJ2xpa2VzX0NvdW50JywgJ0RFU0MnXV0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBvcHVsYXJQb3N0cyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9wdWxhciBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0IHsgand0R2VuZXJhdG9yLCBqd3RSZWZyZXNoIH0gZnJvbSAnLi4vbG9hZGVycy9hdXRoL2p3dEdlbmVyYXRvcic7XG5pbXBvcnQgeyBVc2VyUmVnaXN0cmF0aW9uIH0gZnJvbSAnLi4vbW9kZWxzL2luZGV4Lm1vZGVsJztcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmRvdGVudi5jb25maWcoKTtcbi8vICoqIFVzZXIgUmVnaXN0cmF0aW9uXG5leHBvcnQgY29uc3QgdXNlclJlZ2lzdGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgICAgaWYgKCFuYW1lIHx8ICF1c2VybmFtZSB8fCAhZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdOZXcgVXNlciB2YWxpZGF0aW9uIGVycm9yJyksIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCB1c2VyRXhpc3RzID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihuZXcgRXJyb3IoJ1VzZXJSZWdpc3RyYXRpb25zLmVtYWlsOiBVc2VyIGFscmVhZHkgZXhpc3RzICcpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBuZXdVc2VyOiBuYW1lLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgdG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9NQVhfQUdFICogMTAwMCxcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmV3VXNlcixcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIHJlcyk7XG4gICAgfVxufTtcbi8vICoqIFVzZXIgTG9naW5cbmV4cG9ydCBjb25zdCB1c2VyTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdMb2dpbiBWYWxpZGF0aW9uIEVycm9yIScpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmxvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dEdlbmVyYXRvcih7IGlkOiB1c2VyLmlkIH0pO1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3RSZWZyZXNoKHsgaWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIC8vIFNldHRpbmcgdGhlIGFjY2VzcyB0b2tlbiBjb29raWVcbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgdG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9NQVhfQUdFICogMTAwMCwgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgcmVmcmVzaCB0b2tlbiBjb29raWVcbiAgICAgICAgcmVzLmNvb2tpZSgncmVmcmVzaFRva2VuJywgcmVmcmVzaFRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfUkVGUkVTSF9NQVhfQUdFICogMTAwMCwgLy8gaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gdXNlcjtcbiAgICAgICAgcmVzLmpzb24oeyB0b2tlbiwgcmVmcmVzaFRva2VuLCB1c2VyOiB1c2VyLmlkIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIHJlcyk7XG4gICAgfVxufTtcbi8vICoqIFVzZXIgTG9nb3V0XG5leHBvcnQgY29uc3QgdXNlckxvZ291dCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXEuY29va2llcy5yZWZyZXNoVG9rZW47XG4gICAgICAgIGlmICghYWNjZXNzVG9rZW4gJiYgIXJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnTm8gdG9rZW5zIHByb3ZpZGVkIScgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYXIgdGhlIGFjY2VzcyB0b2tlblxuICAgICAgICByZXMuY29va2llKCdqd3QnLCAnJywge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDEsIC8vIDEgbWlsbGlzZWNvbmQgdG8gZWZmZWN0aXZlbHkgZXhwaXJlIHRoZSBjb29raWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENsZWFyIHRoZSByZWZyZXNoIHRva2VuXG4gICAgICAgIHJlcy5jb29raWUoJ3JlZnJlc2hUb2tlbicsICcnLCB7XG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgICAgIG1heEFnZTogMSwgLy8gMSBtaWxsaXNlY29uZCB0byBlZmZlY3RpdmVseSBleHBpcmUgdGhlIGNvb2tpZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBsb2dnZWQgb3V0JyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG4vLyAqKiBSZWZyZXNoIFRva2VuXG5leHBvcnQgY29uc3QgcmVmcmVzaFRva2VuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmNvb2tpZXMucmVmcmVzaFRva2VuO1xuICAgIGlmICghcmVmcmVzaFRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeShyZWZyZXNoVG9rZW4sIGp3dEVOVi5KV1RfUkVGUkVTSF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIGEgbmV3IHRva2VuXG4gICAgICAgICAgICBjb25zdCBuZXdUb2tlbiA9IGp3dC5zaWduKHsgaWQ6IHVzZXIuaWQgfSwgand0RU5WLkpXVF9TRUNSRVQsIHtcbiAgICAgICAgICAgICAgICBleHBpcmVzSW46IGp3dEVOVi5KV1RfRVhQSVJFU19JTixcbiAgICAgICAgICAgICAgICBhbGdvcml0aG06IGp3dEVOVi5KV1RfQUxHT1JJVEhNLFxuICAgICAgICAgICAgICAgIGlzc3Vlcjogand0RU5WLkpXVF9JU1NVRVIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIG5ld1Rva2VuLCB7XG4gICAgICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9SRUZSRVNIX01BWF9BR0UgKiAxMDAwLFxuICAgICAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHRva2VuOiBuZXdUb2tlbiwgdXNlcjogdXNlci5pZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG59O1xuIiwiaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0IHsgSW1hZ2VTdG9yYWdlcywgUHJvZmlsZVBpY3R1cmVzLCBVc2VycyB9IGZyb20gJy4uL21vZGVscy9pbmRleC5tb2RlbCc7XG4vLyAqKiBSZWZhY3RvcmVkIGZ1bmN0aW9uIHRvIHJldHVybiBpbWFnZSBVUkxcbmV4cG9ydCBjb25zdCBnZXRJbWFnZVByZXZpZXdVcmwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBJbWFnZVN0b3JhZ2VzLmZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KCd1c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTm8gaW1hZ2UgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBpbWFnZVVybDogaW1hZ2UuaW1hZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbWFnZSBwcmV2aWV3OicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IGltYWdlIHByZXZpZXcnKTtcbiAgICB9XG59O1xuLy8gKiogUmV0dXJuIFByb2ZpbGUgcGljdHVyZSB1cmwgZm9yIHByZXZpZXdcbmV4cG9ydCBjb25zdCBnZXRQcm9maWxlUGljUHJldmlld1VybCA9IGFzeW5jIChyZXEpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ05vIHVzZXIgZm91bmQnKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYXV0aG9yaXplZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZVBpYyA9IGF3YWl0IFByb2ZpbGVQaWN0dXJlcy5maW5kUHJvZmlsZVBpY0J5UmVmZXJlbmNlS2V5KCd1c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXByb2ZpbGVQaWMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gcHJvZmlsZSBwaWMgZm91bmQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcm9maWxlIFBpYzonLCBwcm9maWxlUGljKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9maWxlUGljO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcHJvZmlsZSBwaWMgcHJldmlldzonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGdldCBwcm9maWxlIHBpYyBwcmV2aWV3Jyk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IHsgZ2V0SW1hZ2VQcmV2aWV3VXJsLCBnZXRQcm9maWxlUGljUHJldmlld1VybCB9O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyBQb3N0cywgUHJvZmlsZVBpY3R1cmVzLCBVc2VycyB9IGZyb20gJy4uL21vZGVscy9pbmRleC5tb2RlbCc7XG5pbXBvcnQgeyB2YWxpZGF0ZUFuZFBhcnNlUGFyYW1zIH0gZnJvbSAnLi4vdXRpbHMvdmFsaWRhdGVBbmRQYXJzZVBhcmFtcyc7XG5kb3RlbnYuY29uZmlnKCk7XG4vLyAqKiBHZXQgYWxsIFVzZXJzIGZyb20gZGF0YWJhc2Ugd2l0aCBsaW1pdCBhbmQgb2Zmc2V0XG5leHBvcnQgY29uc3QgZ2V0QWxsVXNlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJzX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2Vyc19pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcnNfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2Vycykge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCwgMTApIHx8IDEwOyAvLyBEZWZhdWx0IGxpbWl0IHRvIDEwXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEFsbCgpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlcnMgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXVzZXIgfHwgdXNlci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VycyBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJzT2JqZWN0ID0gdXNlci5yZWR1Y2UoKGFjYywgdXNlcikgPT4ge1xuICAgICAgICAgICAgICAgIGFjY1t1c2VyLmlkXSA9IHVzZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICB1c2VyOiB1c2Vyc09iamVjdCxcbiAgICAgICAgICAgICAgICBsaW1pdDogbGltaXQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPcHRpb25hbGx5LCB5b3UgY291bGQgYWRkIHJvbGUtYmFzZWQgY2hlY2tzIGhlcmVcbiAgICAgICAgLy8gaWYgKHVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgICAvLyAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogJ0ZvcmJpZGRlbicgfSk7XG4gICAgICAgIC8vICAgcmV0dXJuO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIGNvbnN0IGxpbWl0ID0gcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IGFzIHN0cmluZywgMTApIHx8IDEwOyAvLyBEZWZhdWx0IGxpbWl0IHRvIDEwXG4gICAgICAgIC8vIGNvbnN0IGF0dHJpYnV0ZXMgPSBbXG4gICAgICAgIC8vICAgJ2lkJyxcbiAgICAgICAgLy8gICAnZmlyc3ROYW1lJyxcbiAgICAgICAgLy8gICAnbGFzdE5hbWUnLFxuICAgICAgICAvLyAgICd1c2VybmFtZScsXG4gICAgICAgIC8vICAgJ2ltYWdlVVJMJyxcbiAgICAgICAgLy8gICAnYXZhdGFyVXJsJyxcbiAgICAgICAgLy8gICAncHJvZmlsZVBpYycsXG4gICAgICAgIC8vICAgJ2JpbycsXG4gICAgICAgIC8vIF07XG4gICAgICAgICk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGFsbCB1c2VyczonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvciEnIH0pO1xuICAgIH1cbn07XG4vLyAqKiBHZXQgdXNlciBieSBJRFxuZXhwb3J0IGNvbnN0IGdldFVzZXJCeUlEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJzX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2Vyc19pZCkge1xuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDQwMClcbiAgICAgICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCAoZGVjb2RlZFRva2VuKSBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXJzX2lkICE9PSB1c2Vyc19pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBhdHRlbXB0IScgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlcklkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnJlcXVlc3RlZFVzZXJJZCwgMTApIHx8IDEwO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHJlcXVlc3RlZFVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdXNlcnNfaWQ6IHVzZXJzX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJzX2lkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIGJ5IElEOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gKiogVXBkYXRlIHVzZXJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBwcm9maWxlUGljOiBuZXdJbWFnZVVybCwgbmV3VXNlciwgLi4ucmVzdCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnVW5hdXRob3JpemVkIC0gTm8gdG9rZW4nKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQhJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYXV0aG9yaXplZCAtIEludmFsaWQgdG9rZW4nKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1VuYXV0aG9yaXplZCAtIE5vIHVzZXIgSUQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlci5pZCAhPT0gdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVbmF1dGhvcml6ZWQgYXR0ZW1wdCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgYXR0ZW1wdCEnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlc3QpLmxlbmd0aCA9PT0gMCAmJiAhbmV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gZmllbGRzIHRvIHVwZGF0ZScpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdObyBmaWVsZHMgdG8gdXBkYXRlJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdVc2VyKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3BhY2VJbmRleCA9IG5ld1VzZXI/Lmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3ROYW1lID0gc3BhY2VJbmRleCAhPT0gLTEgPyBuZXdVc2VyLnNsaWNlKDAsIHNwYWNlSW5kZXgpIDogbmV3VXNlcjtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9IHNwYWNlSW5kZXggIT09IC0xID8gbmV3VXNlci5zbGljZShzcGFjZUluZGV4ICsgMSkgOiAnJztcbiAgICAgICAgICAgICAgICByZXN0LmZpcnN0TmFtZSA9IGZpcnN0TmFtZTtcbiAgICAgICAgICAgICAgICByZXN0Lmxhc3ROYW1lID0gbGFzdE5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgcHJvZmlsZVBpYyA9IHVzZXI/LnByb2ZpbGVQaWM7XG4gICAgICAgICAgICBpZiAocHJvZmlsZVBpYyAmJiBuZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgUHJvZmlsZVBpY3R1cmVzLmZpbmRQcm9maWxlUGljQnlSZWZlcmVuY2VLZXkoJ3VzZXJfaWQnLCB1c2VyX2lkKTtcbiAgICAgICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBpbWFnZSBmb3VuZCcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnTm8gaW1hZ2UgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwcm9maWxlUGljID0gbmV3SW1hZ2VVcmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0geyAuLi5yZXN0LCBwcm9maWxlUGljIH07XG4gICAgICAgICAgICAvLyAqKiBVcGRhdGUgdXNlclxuICAgICAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRVc2Vyc10gPSBhd2FpdCBVc2Vycy51cGRhdGVVc2VyKHVzZXJfaWQsIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgaWYgKGFmZmVjdGVkQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3IgdXBkYXRpbmcgdXNlcjonLCB1cGRhdGVkVXNlcnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciB1cGRhdGluZyB1c2VyJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVwZGF0ZWRVc2VycywgcHJvZmlsZVBpYyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGVVc2VyO1xufTtcbi8vICoqIEdldCB1c2VyIGZvciBwb3N0IHZpZXcgYnkgSURcbmV4cG9ydCBjb25zdCBnZXRVc2VyRm9yUG9zdFZpZXdCeUlEID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZXIuaWQgIT09IHVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgYXR0ZW1wdCEnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZFVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgICAgIGluY2x1ZGU6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWw6IFBvc3RzLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NhcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpbWFnZVVSTCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xvY2F0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGFncycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2xpa2VzX0NvdW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3JlYXRlZF9BdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NyZWF0b3JfSWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RlZFVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgICAgICAgLmpzb24oeyByZXF1ZXN0ZWRVc2VyOiByZXF1ZXN0ZWRVc2VyLCB1c2VyX2lkOiB1c2VyX2lkIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBieSBJRDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vICoqIEdldCB1c2VyIGRhdGEgYnkgSURcbmV4cG9ydCBjb25zdCBnZXRVc2VyRGF0YUJ5SUQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcnNfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJzX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgYW5kIHBhcnNlIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIGxldCBwb3N0X2lkLCBjcmVhdG9yX2lkLCB1c2VyX2lkO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAoeyBwb3N0X2lkLCBjcmVhdG9yX2lkLCB1c2VyX2lkIH0gPSB2YWxpZGF0ZUFuZFBhcnNlUGFyYW1zKHJlcSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5nZXRVc2VyQnlJRCh1c2Vyc19pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlclBvc3REYXRhID0gYXdhaXQgVXNlcnMuZ2V0VXNlclByb2ZpbGUodXNlcl9pZCB8fCB1c2Vyc19pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICd1c2VyIHByb2ZpbGUgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlci5pZCAhPT0gdXNlcnNfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgYXR0ZW1wdCEnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kQnlQayhwb3N0X2lkKTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBwb3N0LFxuICAgICAgICAgICAgICAgIGNyZWF0b3JfaWQsXG4gICAgICAgICAgICAgICAgdXNlcixcbiAgICAgICAgICAgICAgICB1c2VyUG9zdERhdGEsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyAqKiBHZXQgY3VycmVudCB1c2VyXG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlci5pZCAhPT0gdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDQwMylcbiAgICAgICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIGF0dGVtcHQhIFVzZXIgaWQgZG8gbm90IG1hdGNoLicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIHVzZXIsXG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGdldEN1cnJlbnRVc2VyOicsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfVxufTtcbiIsImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0JztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uLy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0IFVzZXJSZWdpc3RyYXRpb24gZnJvbSAnLi4vLi4vbW9kZWxzL3VzZXJSZWdpc3Rlci5tb2RlbCc7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJy4uLy4uL3V0aWxzL2Vycm9ySGFuZGxlcic7XG5pbXBvcnQgeyBqd3RHZW5lcmF0b3IsIGp3dFJlZnJlc2ggfSBmcm9tICcuLi9hdXRoL2p3dEdlbmVyYXRvcic7XG4vLyAqKiBBZG1pbiBMb2dpblxuZXhwb3J0IGNvbnN0IGFkbWluTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdMb2dpbiBWYWxpZGF0aW9uIEVycm9yIScpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkbWluID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCFhZG1pbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZG1pbiBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXNzd29yZE1hdGNoID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsIGFkbWluLmhhc2hlZHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCFwYXNzd29yZE1hdGNoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0R2VuZXJhdG9yKHsgaWQ6IGFkbWluLmlkIH0pO1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3RSZWZyZXNoKHsgaWQ6IGFkbWluLmlkIH0pO1xuICAgICAgICByZXMuY29va2llKCdqd3QnLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX01BWF9BR0UgKiAxMDAwLFxuICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5jb29raWUoJ3JlZnJlc2hUb2tlbicsIHJlZnJlc2hUb2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX1JFRlJFU0hfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnNldEhlYWRlcignQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gYWRtaW47XG4gICAgICAgIHJlcy5qc29uKHsgdG9rZW4sIHJlZnJlc2hUb2tlbiwgdXNlcjogYWRtaW4uaWQgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgQWRtaW4gZnJvbSAnLi4vLi4vbW9kZWxzL2FkbWluLm1vZGVsJztcbmltcG9ydCBVc2VyUmVnaXN0cmF0aW9uIGZyb20gJy4uLy4uL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwnO1xuLy8gKiogQ2hlY2sgaWYgdXNlciBpcyBhbiBhZG1pblxuZXhwb3J0IGNvbnN0IGlzQWRtaW4gPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGFkbWluID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCFhZG1pbikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ2FkbWluIGlkIHRva2VuIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBsb2dnZWRJbkFkbWluID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5maW5kQnlQayhhZG1pbik7XG4gICAgICAgICAgICBpZiAoIWxvZ2dlZEluQWRtaW4pIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdDdXJyZW50IGFkbWluIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZ2dlZEluQWRtaW4gIT09IGFkbWluKSB7XG4gICAgICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgICAgIC5zdGF0dXMoNDAxKVxuICAgICAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgYWNjZXNzIHRvIGFkbWluIHJvdXRlJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBBZG1pbi5maW5kQnlQayhhZG1pbik7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2FtaW46JywgYWRtaW4pO1xuICAgICAgICAgICAgICAgIGlmICh1c2VyICYmIHVzZXIucm9sZSA9PT0gJ2FkbWluJykge1xuICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgdXNlcjogcmVzLmxvY2Fscy51c2VyLFxuICAgICAgICAgICAgICAgIGxvZ2dlZEluQWRtaW4sXG4gICAgICAgICAgICAgICAgYWRtaW4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmVyaWZ5aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7IGlzQWRtaW4gfTtcbiIsImltcG9ydCByYXRlTGltaXQgZnJvbSAnZXhwcmVzcy1yYXRlLWxpbWl0JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2NvbmZpZy9pbmRleCc7XG4vLyAqKiBLZXkgR2VuZXJhdG9yXG5leHBvcnQgY29uc3Qga2V5R2VuZXJhdG9yID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXEuaXApIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnV2FybmluZzogcmVxdWVzdC5pcCBpcyBtaXNzaW5nIScgfSk7XG4gICAgICAgIHJldHVybiByZXEuc29ja2V0LnJlbW90ZUFkZHJlc3M7XG4gICAgfVxuICAgIHJldHVybiByZXEuaXAucmVwbGFjZSgvOlxcZCtbXjpdKiQvLCAnJyk7XG59O1xuLy8gKiogUmF0ZSBMaW1pdGVyXG5leHBvcnQgY29uc3QgbGltaXRlciA9IHJhdGVMaW1pdCh7XG4gICAgd2luZG93TXM6IGVudi5SQVJFX0xJTUlUX1dJTkRPV19NUyxcbiAgICBtYXg6IGVudi5NQVgsXG4gICAgbWVzc2FnZTogZW52LlJBUkVfTElNSVRfTUVTU0FHRSxcbiAgICBzdGF0dXNDb2RlOiBlbnYuUkFSRV9MSU1JVF9DT0RFLFxuICAgIGhhbmRsZXI6IChfcmVxLCByZXMpID0+IHtcbiAgICAgICAgcmVzLnN0YXR1cyhlbnYuUkFSRV9MSU1JVF9DT0RFKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVudi5SQVJFX0xJTUlUX01FU1NBR0UsXG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAga2V5R2VuZXJhdG9yLFxufSk7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgbGltaXRlcixcbiAgICBrZXlHZW5lcmF0b3IsXG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vLi4vY29uZmlnL2p3dEVOVic7XG5kb3RlbnYuY29uZmlnKCk7XG4vLyAqKiBKV1QgR2VuZXJhdG9yXG5leHBvcnQgY29uc3Qgand0R2VuZXJhdG9yID0gKHBheWxvYWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgand0RU5WLkpXVF9TRUNSRVQsIHtcbiAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICBleHBpcmVzSW46IGp3dEVOVi5KV1RfRVhQSVJFU19JTixcbiAgICAgICAgICAgIGlzc3Vlcjogand0RU5WLkpXVF9JU1NVRVIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBnZW5lcmF0aW5nIEpXVCcpO1xuICAgIH1cbn07XG4vLyAqKiBKV1QgVmVyaWZpZXJcbmV4cG9ydCBjb25zdCBqd3RWZXJpZmllciA9ICh0b2tlbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBKV1QnKTtcbiAgICB9XG59O1xuLy8gKiogSldUIFJlZnJlc2hcbmV4cG9ydCBjb25zdCBqd3RSZWZyZXNoID0gKHBheWxvYWQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgand0RU5WLkpXVF9SRUZSRVNIX1NFQ1JFVCwge1xuICAgICAgICAgICAgYWxnb3JpdGhtOiBqd3RFTlYuSldUX0FMR09SSVRITSxcbiAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9SRUZSRVNIX0VYUElSRVNfSU4sXG4gICAgICAgICAgICBpc3N1ZXI6IGp3dEVOVi5KV1RfSVNTVUVSLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZ2VuZXJhdGluZyBKV1QnKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGp3dEdlbmVyYXRvcixcbiAgICBqd3RWZXJpZmllcixcbiAgICBqd3RSZWZyZXNoLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uLy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4uLy4uL21vZGVscy91c2VyLm1vZGVsJztcbmRvdGVudi5jb25maWcoKTtcbi8vICoqIFJlcXVpcmUgQXV0aFxuZXhwb3J0IGNvbnN0IHJlcXVpcmVBdXRoID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayhkZWNvZGVkVG9rZW4uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gdXNlcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldHJpZXZpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG59O1xuLy8gKiogVmVyaWZ5IFVzZXJcbmV4cG9ydCBjb25zdCB2ZXJpZnlVc2VyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yOicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayhkZWNvZGVkVG9rZW4uaWQpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWNvZGVkVG9rZW46JywgZGVjb2RlZFRva2VuKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZXRyaWV2aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmVyaWZ5aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7IHZlcmlmeVVzZXIsIHJlcXVpcmVBdXRoIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4vc2VxdWlsaXplQ29uJztcbi8vICoqIERhdGFiYXNlIENvbm5lY3Rpb25cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yREIoKSB7XG4gICAgY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwOyAvLyAxMCBhdHRlbXB0c1xuICAgIGNvbnN0IGRlbGF5ID0gMTAwMDsgLy8gMSBzZWNvbmRcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCwgU3RhcnRpbmcgU2VydmVyLi4uLi4nKTtcbiAgICAgICAgICAgIC8vIFN5bmMgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgYW5kIHJlLXN5bmMgZGIuJyk7XG4gICAgICAgICAgICByZXR1cm4gc2VxdWVsaXplOyAvLyBSZXR1cm4gdGhlIFNlcXVlbGl6ZSBpbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ01heCBhdHRlbXB0cyByZWFjaGVkLCBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgd2FpdEZvckRCIH07XG4iLCJpbXBvcnQgZnMgZnJvbSAnbm9kZTpmcyc7XG5pbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuLy8gKiogRGF0YWJhc2UgRnVydGhlciBDb25maWd1cmF0aW9uXG5jb25zdCBkYkNvbmZpZyA9IHtcbiAgICBEaWFsZWN0OiAnbWFyaWFkYicsXG4gICAgaG9zdDogZGF0YWJhc2VFTlYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcbiAgICB1c2VybmFtZTogZGF0YWJhc2VFTlYuREJfVVNFUiB8fCAnbWV0YWxicmFpbicsXG4gICAgcGFzc3dvcmQ6IGRhdGFiYXNlRU5WLkRCX1BBU1MgfHwgJ3Bhc3N3b3JkJyxcbiAgICBkYXRhYmFzZTogZGF0YWJhc2VFTlYuREJfTkFNRSB8fCAnRmluZFNvbWVPbmUnLFxuICAgIHNvY2tldFBhdGg6IGRhdGFiYXNlRU5WLkRCX1NPQ0tFVF9QQVRIIHx8ICcvdmFyL3J1bi9teXNxbGQvbXlzcWxkLnNvY2snLFxuICAgIHNvY2tldFRpbWVvdXQ6IGRhdGFiYXNlRU5WLkRCX1NPQ0tFVF9USU1FT1VUIHx8IDEwMDAsXG4gICAgY29tcHJlc3M6IGRhdGFiYXNlRU5WLkRCX0NPTVBSRVNTIHx8IGZhbHNlLFxuICAgIGRlYnVnOiBkYXRhYmFzZUVOVi5EQl9ERUJVRyB8fCBmYWxzZSxcbiAgICBwZXJtaXRMb2NhbEluZmlsZTogZGF0YWJhc2VFTlYuREJfUEVSTUlUX0xPQ0FMX0lORklMRSB8fCBmYWxzZSxcbiAgICB0cmFjZTogZGF0YWJhc2VFTlYuREJfVFJBQ0UgfHwgdHJ1ZSxcbiAgICBjaGVja0R1cGxpY2F0ZTogZGF0YWJhc2VFTlYuREJfQ0hFQ0tfRFVQTElDQVRFIHx8IGZhbHNlLFxuICAgIGNvbm5lY3RBdHRyaWJ1dGVzOiBKU09OLnBhcnNlKGRhdGFiYXNlRU5WLkRCX0NPTk5FQ1RJT05fQVRUUklCVVRFUyB8fCAne30nKSxcbiAgICBjb25uZWN0aW9uVGltZW91dDogZGF0YWJhc2VFTlYuREJfQ09OTkVDVElPTl9USU1FT1VUIHx8IDEwMDAsXG4gICAgcG9ydDogZGF0YWJhc2VFTlYuREJfUE9SVCB8fCAzMzA2LFxuICAgIHNzbDogZGF0YWJhc2VFTlYuREJfU1NMIHx8IGZhbHNlLFxuICAgIGRpYWxlY3RPcHRpb25zOiB7XG4gICAgICAgIHNzbDoge1xuICAgICAgICAgICAgY2E6IGRhdGFiYXNlRU5WLkRCX1NTTF9DQVxuICAgICAgICAgICAgICAgID8gZnMucmVhZEZpbGVTeW5jKGRhdGFiYXNlRU5WLkRCX1NTTF9DQSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBrZXk6IGRhdGFiYXNlRU5WLkRCX1NTTF9LRVlcbiAgICAgICAgICAgICAgICA/IGZzLnJlYWRGaWxlU3luYyhkYXRhYmFzZUVOVi5EQl9TU0xfS0VZKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgICAgIGNlcnQ6IGRhdGFiYXNlRU5WLkRCX1NTTF9DRVJUXG4gICAgICAgICAgICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoZGF0YWJhc2VFTlYuREJfU1NMX0NFUlQpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuLy8gKiogQ3JlYXRlIGEgbmV3IFNlcXVlbGl6ZSBpbnN0YW5jZVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCkge1xuICAgIC8vIENyZWF0ZSBhIG5ldyBTZXF1ZWxpemUgaW5zdGFuY2VcbiAgICBjb25zdCBzZXF1ZWxpemUgPSBuZXcgU2VxdWVsaXplKGRiQ29uZmlnLmRhdGFiYXNlLCBkYkNvbmZpZy51c2VybmFtZSwgZGJDb25maWcucGFzc3dvcmQsIHtcbiAgICAgICAgaG9zdDogZGJDb25maWcuaG9zdCxcbiAgICAgICAgZGlhbGVjdDogZGJDb25maWcuRGlhbGVjdCxcbiAgICAgICAgcG9ydDogZGJDb25maWcucG9ydCxcbiAgICAgICAgc3NsOiBkYkNvbmZpZy5zc2wsXG4gICAgICAgIGRpYWxlY3RPcHRpb25zOiBkYkNvbmZpZy5kaWFsZWN0T3B0aW9ucyxcbiAgICB9KTtcbiAgICByZXR1cm4gc2VxdWVsaXplO1xufVxuZXhwb3J0IGRlZmF1bHQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9O1xuIiwiLy8gdGhpcyB3aWxsIGxvYWQgYWxsIG1vZGVsIGNsYXNzZXMgZm91bmQgaW4gZmlsZXMgbWF0Y2hpbmcgdGhpcyBnbG9iIHBhdHRlcm4uXG5pbXBvcnQgeyBTZXF1ZWxpemUsIGltcG9ydE1vZGVscyB9IGZyb20gJ0BzZXF1ZWxpemUvY29yZSc7XG5pbXBvcnQgeyBNYXJpYURiRGlhbGVjdCB9IGZyb20gJ0BzZXF1ZWxpemUvbWFyaWFkYic7XG5pbXBvcnQgeyBkaXJuYW1lIH0gZnJvbSAnbm9kZTpwYXRoJztcbmltcG9ydCB7IGZpbGVVUkxUb1BhdGggfSBmcm9tICdub2RlOnVybCc7XG5pbXBvcnQgeyBkYXRhYmFzZUVOViB9IGZyb20gJy4uLy4uL2NvbmZpZy9kYXRhYmFzZUVOVic7XG4vLyAqKiBEZWZpbmUgX19kaXJuYW1lXG5jb25zdCBfX2Rpcm5hbWUgPSBkaXJuYW1lKGZpbGVVUkxUb1BhdGgoaW1wb3J0Lm1ldGEudXJsKSk7XG4vLyAqKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5leHBvcnQgY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZSh7XG4gICAgZGlhbGVjdDogTWFyaWFEYkRpYWxlY3QsXG4gICAgaG9zdDogZGF0YWJhc2VFTlYuREJfSE9TVCxcbiAgICB1c2VyOiBkYXRhYmFzZUVOVi5EQl9VU0VSLFxuICAgIHBhc3N3b3JkOiBkYXRhYmFzZUVOVi5EQl9QQVNTLFxuICAgIGRhdGFiYXNlOiBkYXRhYmFzZUVOVi5EQl9OQU1FLFxuICAgIHBvcnQ6IGRhdGFiYXNlRU5WLkRCX1BPUlQsXG4gICAgc3NsOiBkYXRhYmFzZUVOVi5EQl9TU0wsXG4gICAgbW9kZWxzOiBhd2FpdCBpbXBvcnRNb2RlbHMoX19kaXJuYW1lICsgJy9zcmMvc2VydmVyL21vZGVscy8qKi8qLm1vZGVsLnt0cyxqc30nKSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgc2VxdWVsaXplO1xuIiwiaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGhlbG1ldCBmcm9tICdoZWxtZXQnO1xuaW1wb3J0IG1vcmdhbiBmcm9tICdtb3JnYW4nO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnO1xuaW1wb3J0IHsgcm91dGVyIH0gZnJvbSAnLi4vcm91dGVzL3JvdXRlcic7XG5pbXBvcnQgeyBnbG9iYWxFcnJvckhhbmRsZXIgfSBmcm9tICcuLi91dGlscy9lcnJvckhhbmRsZXInO1xuaW1wb3J0IHsgbGltaXRlciB9IGZyb20gJy4vYXV0aC9pcENvbmZpZyc7XG4vLyAqKiBFeHByZXNzIExvYWRlclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhcHAudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICAgICAgaWYgKF9yZXEubWV0aG9kID09PSAnT1BUSU9OUycpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG4gICAgLy8gKiogQm9keSBQYXJzZXJzXG4gICAgYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG4gICAgYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG4gICAgYXBwLnVzZShjb29raWVQYXJzZXIoKSk7XG4gICAgYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4gICAgLy8gKiogU2VydmUgc3RhdGljIGZpbGVzIGZyb20gJ2Rpc3QnIGRpcmVjdG9yeVxuICAgIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ2Rpc3QnKSkpO1xuICAgIGFwcC51c2UoJy9hc3NldHMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCAnYXNzZXRzJykpKTtcbiAgICBjb25zdCBUcnVzdF9Qcm94eSA9IGVudi5UUlVTVF9QUk9YWSB8fCAnZmFsc2UnO1xuICAgIGNvbnN0IG51bWJlck9mUHJveGllcyA9IGVudi5OVU1CRVJfT0ZfUFJPWElFUyB8fCAxO1xuICAgIGlmIChUcnVzdF9Qcm94eSkge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChUcnVzdF9Qcm94eSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgVHJ1c3RfUHJveHkpO1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIG51bWJlck9mUHJveGllcyk7XG4gICAgfVxuICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgbnVtYmVyT2ZQcm94aWVzKTtcbiAgICBhcHAuZ2V0KCcvaXAnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHJlc3BvbnNlLnNlbmQocmVxdWVzdC5pcCkpO1xuICAgIGFwcC51c2UoaGVsbWV0KHtcbiAgICAgICAgY29udGVudFNlY3VyaXR5UG9saWN5OiBmYWxzZSxcbiAgICB9KSk7XG4gICAgYXBwLnVzZShtb3JnYW4oZW52Lk1PUkdBTikpO1xuICAgIGFwcC51c2UobGltaXRlcik7XG4gICAgYXBwLnVzZShyb3V0ZXIpO1xuICAgIGFwcC51c2UoZ2xvYmFsRXJyb3JIYW5kbGVyKTtcbiAgICByZXR1cm4gYXBwO1xufVxuIiwiaW1wb3J0IGxvYWRlciBmcm9tICcuLi9zZXJ2aWNlcy9wZXJmb3JtYW5jZSc7XG5pbXBvcnQgeyB0cnVuY2F0ZVRhYmxlcyB9IGZyb20gJy4uL3NlcnZpY2VzL3RydW5jYXRlJztcbmltcG9ydCB7IGFwcENhY2hlIH0gZnJvbSAnLi4vdXRpbHMvbm9kZUNhY2hlJztcbmltcG9ydCB7IHdhaXRGb3JEQiB9IGZyb20gJy4vZGF0YUxvYWRlci9tYXJpYWRiJztcbmltcG9ydCBzZXF1aWxpemVMb2FkZXIgZnJvbSAnLi9kYXRhTG9hZGVyL3NlcXVsaXplJztcbmltcG9ydCBleHByZXNzTG9hZGVyIGZyb20gJy4vZXhwcmVzcyc7XG4vLyAqKiBFeHByZXNzIExvYWRlclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhcHBDYWNoZS5mbHVzaEFsbCgpO1xuICAgIGF3YWl0IHRydW5jYXRlVGFibGVzKCk7XG4gICAgYXdhaXQgd2FpdEZvckRCKCk7XG4gICAgc2VxdWlsaXplTG9hZGVyO1xuICAgIGF3YWl0IGV4cHJlc3NMb2FkZXIoeyBhcHAgfSk7XG4gICAgbG9hZGVyKCk7XG4gICAgY29uc29sZS5sb2coJ0V4cHJlc3MgU2VydmVyIEludGlhbGl6ZWQhJyk7XG59XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi5qcyc7XG4vLyAqKiBEZWZpbmUgSW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5jb25zdCBzZXF1ZWxpemUgPSBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpO1xuLy8gKiogRGVmaW5lIHRoZSBBZG1pbiBNb2RlbFxuY2xhc3MgQWRtaW4gZXh0ZW5kcyBNb2RlbCB7XG4gICAgc3RhdGljIGFzeW5jIGxvZ2luQWRtaW4oZW1haWwsIGhhc2hlZHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLCBoYXNoZWRwYXNzd29yZDogaGFzaGVkcGFzc3dvcmQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gbG9nIG91dCB1c2VyXG4gICAgc3RhdGljIGFzeW5jIGxvZ291dFVzZXIoZW1haWwpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gcmVzZXQgdGhlIHBhc3N3b3JkLCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcbiAgICBzdGF0aWMgYXN5bmMgcmVzZXRQYXNzd29yZChlbWFpbCwgaGFzaGVkcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwsIGhhc2hlZHBhc3N3b3JkOiBoYXNoZWRwYXNzd29yZCB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyAqKiBJbml0aWFsaXplIHRoZSBBZG1pbiBNb2RlbFxuQWRtaW4uaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBmaXJzdE5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgbGFzdE5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBoYXNoZWRwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgY3JlYXRlZEF0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbiAgICByb2xlOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ2FkbWluJyxcbiAgICB9LFxuICAgIGF2YXRhclVybDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgdGFibGVOYW1lOiAnYWRtaW4nLFxufSk7XG4vLyAqKiBTeW5jIHRoZSBBZG1pbiBNb2RlbFxuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ05ldyBBZG1pbiBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgQWRtaW4gVGFibGU6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgQWRtaW47XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi5qcyc7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsLmpzJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwuanMnO1xuLy8gKiogRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbi8vICoqIERlZmluZSB0aGUgSW1hZ2VTdG9yYWdlIE1vZGVsXG5jbGFzcyBJbWFnZVN0b3JhZ2VzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbiBpbWFnZSBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBmaW5kSW1hZ2VCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRCeVBrKGlkKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBba2V5XTogdmFsdWUgfSxcbiAgICAgICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZF9BdCcsICdERVNDJ11dLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmaW5kaW5nIGltYWdlIGJ5IHJlZmVyZW5jZSBrZXk6ICR7a2V5fSwgdmFsdWU6ICR7dmFsdWV9YCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciBhZnRlciBsb2dnaW5nIGl0XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAqKiBEZWZpbmUgdGhlIEltYWdlU3RvcmFnZSBNb2RlbFxuSW1hZ2VTdG9yYWdlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGltYWdlVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjcmVhdGVkX0F0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnSW1hZ2VTdG9yYWdlcycsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG59KTtcbi8vICoqIERlZmluZSB0aGUgaG9vayB0byB1cGRhdGUgdGhlIHVzZXIncyBpbWFnZVVSTCBhZnRlciBjcmVhdGluZyBhbiBpbWFnZVxuSW1hZ2VTdG9yYWdlcy5hZnRlckNyZWF0ZShhc3luYyAoaW1hZ2UpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoaW1hZ2UudXNlcl9pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdXNlci5pbWFnZVVSTCA9IGltYWdlLmltYWdlVXJsO1xuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICB9XG59KTtcbi8vICoqIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIgYW5kIEltYWdlU3RvcmFnZSBtb2RlbHNcblVzZXJzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcblBvc3RzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIsIE5ld1Bvc3QsIGFuZCBJbWFnZVN0b3JhZ2UgbW9kZWxzXG5JbWFnZVN0b3JhZ2VzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbkltYWdlU3RvcmFnZXMuYmVsb25nc1RvKFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuLy8gKiogc3luYyB0aGUgSW1hZ2VTdG9yYWdlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IEltYWdlIHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBuZXcgaW1hZ2U6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTdG9yYWdlcztcbiIsImltcG9ydCBJbWFnZVN0b3JhZ2VzIGZyb20gJy4vaW1hZ2UubW9kZWwnO1xuaW1wb3J0IExpa2VzIGZyb20gJy4vbGlrZVBvc3QubW9kZWwnO1xuaW1wb3J0IFBvc3RzIGZyb20gJy4vcG9zdC5tb2RlbCc7XG5pbXBvcnQgUHJvZmlsZVBpY3R1cmVzIGZyb20gJy4vcHJvZmlsZVBpYy5tb2RlbCc7XG5pbXBvcnQgU2F2ZXMgZnJvbSAnLi9zYXZlUG9zdC5tb2RlbCc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsJztcbmltcG9ydCBVc2VyUmVnaXN0cmF0aW9uIGZyb20gJy4vdXNlclJlZ2lzdGVyLm1vZGVsJztcbmV4cG9ydCB7IEltYWdlU3RvcmFnZXMsIExpa2VzLCBQb3N0cywgUHJvZmlsZVBpY3R1cmVzLCBTYXZlcywgVXNlclJlZ2lzdHJhdGlvbiwgVXNlcnMsIH07XG5jb25zdCBtb2RlbHMgPSB7XG4gICAgVXNlcnMsXG4gICAgUG9zdHMsXG4gICAgTGlrZXMsXG4gICAgU2F2ZXMsXG4gICAgUHJvZmlsZVBpY3R1cmVzLFxuICAgIEltYWdlU3RvcmFnZXMsXG4gICAgVXNlclJlZ2lzdHJhdGlvbixcbn07XG5leHBvcnQgZGVmYXVsdCBtb2RlbHM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIExpa2VzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IGxpa2VcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlTGlrZShhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBmaW5kIGEgbGlrZSBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBmaW5kTGlrZUJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEJ5UGsoaWQpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGZpbmQgYSBsaWtlIGJ5IHJlZmVyZW5jZSBrZXkgKHVzZXJJZCBvciBwb3N0SWQpXG4gICAgc3RhdGljIGFzeW5jIGZpbmRMaWtlQnlSZWZlcmVuY2VLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbGwgbGlrZXMgYnkgcmVmZXJlbmNlIGtleSAodXNlcklkIG9yIHBvc3RJZClcbiAgICBzdGF0aWMgYXN5bmMgZmluZEFsbExpa2VzQnlSZWZlcmVuY2VLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbGwgbGlrZXMgYnkgcmVmZXJlbmNlIGtleSAodXNlcklkIG9yIHBvc3RJZClcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlTGlrZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZXN0cm95KHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxufVxuLy8gRGVmaW5lIHRoZSBVc2VyIG1vZGVsXG5MaWtlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjcmVhdGVkX0F0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnTGlrZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbn0pO1xuLy8gRGVmaW5lIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBVc2VyIGFuZCBMaWtlXG5Vc2Vycy5oYXNNYW55KExpa2VzLCB7XG4gICAgZm9yZWlnbktleTogJ3VzZXJfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG59KTtcbkxpa2VzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbn0pO1xuLy8gRGVmaW5lIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBQb3N0IGFuZCBMaWtlXG5Qb3N0cy5oYXNNYW55KExpa2VzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG59KTtcbkxpa2VzLmJlbG9uZ3NUbyhQb3N0cywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbn0pO1xuLy8gU3luYyB0aGUgTGlrZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuTGlrZXMuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTGlrZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbGlrZTonLCBlcnIpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBMaWtlcztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFBvc3RzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlUG9zdChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVBvc3QoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRQb3N0c10gPSBhd2FpdCB0aGlzLnVwZGF0ZShhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGRlbGV0ZSBhIFBvc3QgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlUG9zdChpZCkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgICAgICAgaWYgKHBvc3QpIHtcbiAgICAgICAgICAgIGF3YWl0IHBvc3QuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IGFsbCBwb3N0c1xuICAgIHN0YXRpYyBhc3luYyBnZXRBbGxQb3N0cygpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCgpO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCBpbmZpbml0ZSBwb3N0c1xuICAgIHN0YXRpYyBhc3luYyBnZXRJbmZpbml0ZVBvc3RzKG9mZnNldCwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCh7IG9mZnNldCwgbGltaXQgfSk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IHBvc3QgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZ2V0UG9zdEJ5SUQocG9zdF9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IHBvc3RfaWQgfSB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgdXNlcidzIHBvc3RzXG4gICAgc3RhdGljIGFzeW5jIGdldFVzZXJQb3N0cyh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRBbGwoeyB3aGVyZTogeyBjcmVhdG9yX0lkOiB1c2VyX2lkIH0gfSk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IFNhdmVkIHBvc3QgYnkgcG9zdCBJRFxuICAgIHN0YXRpYyBhc3luYyBnZXRTYXZlZFBvc3QocG9zdF9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IHBvc3RfaWQgfSB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgcG9zdCBieSByZWZlcmVuY2UgSUQgKGNyZWF0b3JfSWQpXG4gICAgc3RhdGljIGFzeW5jIGdldFBvc3RCeVJlZmVyZW5jZUlEKGNyZWF0b3JfSWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGNyZWF0b3JfSWQgfSB9KTtcbiAgICB9XG59XG4vLyBTeW5jIHRoZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuUG9zdHMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBjYXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBsaWtlc19Db3VudDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRvcl9JZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnUG9zdHMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxufSk7XG4vLyBDcmVhdGUgbmV3IHBvc3RcblBvc3RzLmNyZWF0ZVBvc3QgPSBhc3luYyBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICAgICAgcmV0dXJuIG5ld1Bvc3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBuZXcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBVcGRhdGUgcG9zdCBieSBJRFxuUG9zdHMudXBkYXRlUG9zdCA9IGFzeW5jIGZ1bmN0aW9uIChpZCwgYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdID0gYXdhaXQgdGhpcy51cGRhdGUoYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgICAgIHJldHVybmluZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFBvc3RzXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gaW5maW5pdGUgcG9zdHNcblBvc3RzLmdldEluZmluaXRlUG9zdHMgPSBhc3luYyBmdW5jdGlvbiAob2Zmc2V0LCBsaW1pdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgdGhpcy5maW5kQWxsKHsgb2Zmc2V0LCBsaW1pdCB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3RzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbmZpbml0ZSBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBHZXQgc2VhcmNoIHJlc3VsdHMgLSBwb3N0c1xuUG9zdHMuZ2V0UG9zdEJ5SUQgPSBhc3luYyBmdW5jdGlvbiAoaWQpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHBvc3QgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gR2V0IHVzZXIncyBwb3N0c1xuUG9zdHMuZ2V0VXNlclBvc3RzID0gYXN5bmMgZnVuY3Rpb24gKHVzZXJfaWQpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IHRoaXMuZmluZEFsbCh7IHdoZXJlOiB7IGNyZWF0b3JfSWQ6IHVzZXJfaWQgfSB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3RzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIgYW5kIFBvc3QgbW9kZWxzXG5Vc2Vycy5oYXNNYW55KFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ2NyZWF0b3JfSWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuUG9zdHMuYmVsb25nc1RvKFVzZXJzLCB7XG4gICAgZm9yZWlnbktleTogJ2NyZWF0b3JfSWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1Bvc3Qgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIFBvc3Q6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgUG9zdHM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsJztcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBQcm9maWxlUGljdHVyZXMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBmaW5kIGEgcHJvZmlsZSBwaWN0dXJlIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIGZpbmRQcm9maWxlUGljdHVyZUJ5SWQodXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICB9XG4gICAgLy8gKiogY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byByZXRpcmV2ZSBhIHByb2ZpbGUgcGljdHVyZSBieSByZWZlcmVuY2UgSUQodXNlcl9pZClcbiAgICBzdGF0aWMgYXN5bmMgZ2V0UHJvZmlsZVBpY0J5UmVmZXJlbmNlSUQodXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgdXNlcl9pZCB9IH0pO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZmluZFByb2ZpbGVQaWNCeVJlZmVyZW5jZUtleShrZXksIHZhbHVlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwcm9maWxlSW1hZ2UgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IFtrZXldOiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkX0F0JywgJ0RFU0MnXV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9maWxlSW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmaW5kaW5nIHByb2ZpbGUgaW1hZ2UgYnkgcmVmZXJlbmNlIGtleTogJHtrZXl9LCB2YWx1ZTogJHt2YWx1ZX1gLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdGhlIGVycm9yIGFmdGVyIGxvZ2dpbmcgaXRcbiAgICAgICAgfVxuICAgIH1cbn1cblByb2ZpbGVQaWN0dXJlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLCAvLyBOYW1lIG9mIHRoZSB1c2VycyB0YWJsZVxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgICAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxuICAgICAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIH0sXG4gICAgcHJvZmlsZVBpYzoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgdXBkYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ1Byb2ZpbGVQaWN0dXJlcycsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgdXBkYXRlZEF0OiAndXBkYXRlZEF0JyxcbiAgICBjcmVhdGVkQXQ6ICdjcmVhdGVkQXQnLFxufSk7XG4vLyBEZWZpbmUgdGhlIGFzc29jaWF0aW9uIGJldHdlZW4gVXNlciBhbmQgUHJvZmlsZVBpY3R1cmVcblVzZXJzLmhhc09uZShQcm9maWxlUGljdHVyZXMsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG5Qcm9maWxlUGljdHVyZXMuYmVsb25nc1RvKFVzZXJzLCB7XG4gICAgZm9yZWlnbktleTogJ3VzZXJfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuUHJvZmlsZVBpY3R1cmVzLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1Byb2ZpbGUgUGljIHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBjcmVhdGluZyBwcm9maWxlIHBpYyB0YWJsZTonLCBlcnIpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBQcm9maWxlUGljdHVyZXM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFNhdmVzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIENyZWF0ZSBjdXN0b20gY2xhc3MgbWV0aG9kcyB0byBjcmVhdGUgYSBuZXcgcG9zdFxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVTYXZlKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlKGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgY3VzdG9tIG1ldGhvZCB0byBjaGVjayBpZiBwb3N0IGlzIHNhdmVkXG4gICAgc3RhdGljIGFzeW5jIGNoZWNrSWZTYXZlZCh1c2VyX2lkLCBwb3N0X2lkKSB7XG4gICAgICAgIGNvbnN0IHNhdmUgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyB1c2VyX2lkLCBwb3N0X2lkIH0gfSk7XG4gICAgICAgIHJldHVybiAhIXNhdmU7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBjdXN0b20gbWV0aG9kIHRvIGRlbGV0ZSBhIHNhdmVkIHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlU2F2ZWRQb3N0KHBvc3RfaWQpIHtcbiAgICAgICAgY29uc3Qgc2F2ZSA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IHBvc3RfaWQgfSB9KTtcbiAgICAgICAgaWYgKHNhdmUpIHtcbiAgICAgICAgICAgIGF3YWl0IHNhdmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBjdXN0b20gbWV0aG9kIHRvIGdldCBhbGwgc2F2ZWQgcG9zdHNcbiAgICBzdGF0aWMgYXN5bmMgZ2V0U2F2ZWRQb3N0cyh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRBbGwoe1xuICAgICAgICAgICAgd2hlcmU6IHsgdXNlcl9pZCB9LFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IFBvc3RzLFxuICAgICAgICAgICAgICAgICAgICBhczogJ1Bvc3QnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBEZWZpbmUgdGhlIFNhdmVzIG1vZGVsXG5TYXZlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBzYXZlRGF0ZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgdGFibGVOYW1lOiAnU2F2ZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbiAgICBpbmRleGVzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgICAgIGZpZWxkczogWyd1c2VyX2lkJywgJ3Bvc3RfaWQnXSxcbiAgICAgICAgfSxcbiAgICBdLFxufSk7XG4vLyBDcmVhdGUgYSBmdW5jdGlvbiB0byBkZWxldGUgc2F2ZWQgUG9zdCB1c2luZyB0aGUgc3RhdGljIG1ldGhvZFxuU2F2ZXMuZGVsZXRlU2F2ZWRQb3N0ID0gYXN5bmMgZnVuY3Rpb24gKHBvc3RfaWQpIHtcbiAgICBjb25zdCBzYXZlID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgcG9zdF9pZCB9IH0pO1xuICAgIGlmIChzYXZlKSB7XG4gICAgICAgIGF3YWl0IHNhdmUuZGVzdHJveSgpO1xuICAgIH1cbn07XG4vLyBDcmVhdGUgcmVsYXRpb25zaGlwIGJldHdlZW4gU2F2ZXMgYW5kIFBvc3RzXG5TYXZlcy5iZWxvbmdzVG8oUG9zdHMsIHtcbiAgICBmb3JlaWduS2V5OiAncG9zdF9pZCcsXG4gICAgdGFyZ2V0S2V5OiAnaWQnLFxuICAgIG9uRGVsZXRlOiAnUkVTVFJJQ1QnLFxufSk7XG4vLyBDcmVhdGUgcmVsYXRpb25zaGlwIGJldHdlZW4gU2F2ZXMgYW5kIFVzZXJzXG5TYXZlcy5iZWxvbmdzVG8oVXNlcnMsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG4gICAgdGFyZ2V0S2V5OiAnaWQnLFxufSk7XG5TYXZlcy5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTYXZlIFBvc3Qgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIFNhdmUgcG9zdDonLCBlcnIpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBTYXZlcztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBVc2VycyBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCB1c2VyIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIGdldFVzZXJCeUlEKHVzZXJfaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiB1c2VyX2lkIH0gfSk7XG4gICAgfVxuICAgIHN0YXRpYyBhc3luYyBnZXRBbGxVc2VycyhsaW1pdCwgYXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHtcbiAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgYXR0cmlidXRlcyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFN0YXRpYyBtZXRob2QgdG8gZ2V0IHVzZXIgcHJvZmlsZSB3aGVuIHZpc2l0aW5nIGEgdXNlcidzIHByb2ZpbGVcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlclByb2ZpbGUodXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IHVzZXJfaWQgfSB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byB1cGRhdGUgYSB1c2VyIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXIoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRVc2Vyc10gPSBhd2FpdCB0aGlzLnVwZGF0ZShhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFthZmZlY3RlZENvdW50LCB1cGRhdGVkVXNlcnNdO1xuICAgIH1cbn1cbi8vIFN5bmMgdGhlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5Vc2Vycy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VybmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBpczogL15bYS16QS1aMC05X10qJC8sXG4gICAgICAgICAgICBsZW46IFszLCAyMF0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBpc0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgbGVuOiBbNSwgNTBdLFxuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBoYXNoZWRwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ3VudmVyaWZpZWQnLFxuICAgIH0sXG4gICAgYmlvOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ1RoaXMgaXMgYSBuZXcgdXNlci4nLFxuICAgIH0sXG4gICAgam9pbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgYXZhdGFyVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgcHJvZmlsZVBpYzoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnTmV3IFVzZXInLFxuICAgIH0sXG4gICAgbGFzdF9hY3Rpdml0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgdXBkYXRlZF9hdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgVXNlclJlZ2lzdHJhdGlvbklEOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlclJlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnVXNlcnMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnLFxufSk7XG4vLyBTeW5jIFVzZXIgbW9kZWwgd2l0aCB0aGUgZGF0YWJhc2VcbmF3YWl0IHNlcXVlbGl6ZVxuICAgIC5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdOZXcgVXNlciBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG4iLCJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YXRhclVybCB9IGZyb20gJy4uL3V0aWxzL2F2YXRhcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBVc2VyUmVnaXN0cmF0aW9uIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gbG9nIGluIHVzZXIgdXBvbiBzdWNjZXNzZnVsIHJlZ2lzdHJhdGlvblxuICAgIHN0YXRpYyBhc3luYyBsb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLCBoYXNoZWRwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gbG9nIG91dCB1c2VyXG4gICAgc3RhdGljIGFzeW5jIGxvZ291dFVzZXIoZW1haWwpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gcmVzZXQgdGhlIHBhc3N3b3JkLCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcbiAgICBzdGF0aWMgYXN5bmMgcmVzZXRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwsIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5Vc2VyUmVnaXN0cmF0aW9uLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgbmV3VXNlcjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBoYXNoZWRwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgY3JlYXRlZEF0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemU6IHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdVc2VyUmVnaXN0cmF0aW9uJyxcbiAgICBjcmVhdGVkQXQ6ICdjcmVhdGVkQXQnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbn0pO1xuLy8gSGFzaCB0aGUgcGFzc3dvcmQgYmVmb3JlIHNhdmluZ1xuVXNlclJlZ2lzdHJhdGlvbi5iZWZvcmVDcmVhdGUoYXN5bmMgKHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMCk7XG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKFN0cmluZyh1c2VyLmhhc2hlZHBhc3N3b3JkKSwgc2FsdCk7XG4gICAgICAgICAgICB1c2VyLmhhc2hlZHBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhc2hpbmcgcGFzc3dvcmQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGhhc2hpbmcgcGFzc3dvcmQnKTtcbiAgICB9XG59KTtcblVzZXJSZWdpc3RyYXRpb24uYWZ0ZXJDcmVhdGUoYXN5bmMgKHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2VJbmRleCA9IHVzZXIubmV3VXNlcj8ubGFzdEluZGV4T2YoJyAnKTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpcnN0IG5hbWUgYW5kIGxhc3QgbmFtZSBiYXNlZCBvbiB0aGUgbGFzdCBzcGFjZVxuICAgICAgICAgICAgY29uc3QgZmlyc3RfTmFtZSA9IHNwYWNlSW5kZXggIT09IC0xID8gdXNlci5uZXdVc2VyPy5zbGljZSgwLCBzcGFjZUluZGV4KSA6IHVzZXIubmV3VXNlcjtcbiAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gc3BhY2VJbmRleCAhPT0gLTFcbiAgICAgICAgICAgICAgICA/IHVzZXIubmV3VXNlcj8uc2xpY2Uoc3BhY2VJbmRleCA/PyArMSlcbiAgICAgICAgICAgICAgICA6IHVzZXIubmV3VXNlcjtcbiAgICAgICAgICAgIGNvbnN0IGF2YXRhciA9IGdlbmVyYXRlQXZhdGFyVXJsKHVzZXIudXNlcm5hbWUpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSB0aGUgdXNlciByZWNvcmQgaW4gdGhlIFVzZXJzIHRhYmxlXG4gICAgICAgICAgICBhd2FpdCBVc2Vycy51cHNlcnQoe1xuICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZmlyc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgaGFzaGVkcGFzc3dvcmQ6IHVzZXIuaGFzaGVkcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAndW52ZXJpZmllZCcsXG4gICAgICAgICAgICAgICAgYmlvOiAnSSBhbSBhIG5ldyB1c2VyLicsXG4gICAgICAgICAgICAgICAgam9pbjogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBhdmF0YXJVcmw6IGF2YXRhcixcbiAgICAgICAgICAgICAgICBpbWFnZVVSTDogbnVsbCxcbiAgICAgICAgICAgICAgICBwcm9maWxlUGljOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTmV3IFVzZXInLFxuICAgICAgICAgICAgICAgIGxhc3RfYWN0aXZpdHk6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBVc2VyUmVnaXN0cmF0aW9uSUQ6IHVzZXIuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgbmV3IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG5ldyB1c2VyJyk7XG4gICAgfVxufSk7XG4vLyBEZWZpbmUgYSBjdXN0b20gbWV0aG9kIHRvIGxvZ2luIHVzZXIgd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmQgYW5kIGNvbXBhcmUgdGhlIGhhc2hlZCBwYXNzd29yZFxuVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIgPSBhc3luYyBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3QgYXV0aCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLmhhc2hlZHBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmIChhdXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgZW1haWwnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBpbiB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cbn07XG4vLyBEZWZpbmUgYSBjdXN0b20gbWV0aG9kIHRvIGxvZ291dCB1c2VyXG5Vc2VyUmVnaXN0cmF0aW9uLmxvZ291dFVzZXIgPSBhc3luYyBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIG91dCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cbn07XG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgUmVnaXN0ZXJlZCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlclJlZ2lzdHJhdGlvbjtcbiIsImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgY29yT3B0aW9ucyB9IGZyb20gJy4uL2NvbmZpZy9jb3JPcHRpb25zJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uL2NvbmZpZy9qd3RFTlYnO1xuaW1wb3J0ICogYXMgYWRtaW5Db250cm9sbGVyIGZyb20gJy4uL2xvYWRlcnMvYWRtaW4vYWRtaW5Db250cm9sbGVyJztcbmltcG9ydCB7IGlzQWRtaW4gfSBmcm9tICcuLi9sb2FkZXJzL2FkbWluL2ZvdW5kZXInO1xuaW1wb3J0IHsgand0R2VuZXJhdG9yIH0gZnJvbSAnLi4vbG9hZGVycy9hdXRoL2p3dEdlbmVyYXRvcic7XG5pbXBvcnQgVXNlclJlZ2lzdHJhdGlvbiBmcm9tICcuLi9tb2RlbHMvdXNlclJlZ2lzdGVyLm1vZGVsJztcbmltcG9ydCB7IGhhbmRsZUVycm9yIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoY29yT3B0aW9ucykpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuLy8gUm91dGUgdG8gY3JlYXRlIGEgbmV3IHVzZXJcbnJvdXRlci5wb3N0KCcvYXBpL2FkbWluQ3JlYXRlVXNlcicsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFuYW1lIHx8ICF1c2VybmFtZSB8fCAhZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdOZXcgVXNlciB2YWxpZGF0aW9uIGVycm9yJyksIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCB1c2VyRXhpc3RzID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihuZXcgRXJyb3IoJ1VzZXJSZWdpc3RyYXRpb25zLmVtYWlsOiBVc2VyIGFscmVhZHkgZXhpc3RzICcpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBuZXdVc2VyOiBuYW1lLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgdG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9NQVhfQUdFICogMTAwMCxcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmV3VXNlcixcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIHJlcyk7XG4gICAgfVxufSk7XG4vLyBSb3V0ZSB0byBsb2dpbiBhcyBhbiBhZG1pblxucm91dGVyLnBvc3QoJy9hcGkvYWRtaW5Mb2dpbicsIGFkbWluQ29udHJvbGxlci5hZG1pbkxvZ2luKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgY29yT3B0aW9ucyB9IGZyb20gJy4uL2NvbmZpZy9jb3JPcHRpb25zJztcbmltcG9ydCAqIGFzIGF1dGhDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoY29yT3B0aW9ucykpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvcmVnaXN0ZXInLCBhdXRoQ29udHJvbGxlci51c2VyUmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hcGkvbG9naW4nLCBhdXRoQ29udHJvbGxlci51c2VyTG9naW4pO1xucm91dGVyLmdldCgnL2FwaS9sb2dvdXQnLCBhdXRoQ29udHJvbGxlci51c2VyTG9nb3V0KTtcbnJvdXRlci5wb3N0KCcvYXBpL3JlZnJlc2gtdG9rZW4nLCBhdXRoQ29udHJvbGxlci5yZWZyZXNoVG9rZW4pO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmltcG9ydCB7IHZlcmlmeVVzZXIgfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvdXNlckF1dGgnO1xuaW1wb3J0IHsgVXNlcnMgfSBmcm9tICcuLi9tb2RlbHMvaW5kZXgubW9kZWwnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmRvdGVudi5jb25maWcoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbnJvdXRlci5nZXQoJy9hcGkvZ2V0VXNlcicsIHZlcmlmeVVzZXIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgY29uc29sZS5sb2coJ05vIHRva2VuIGZvdW5kOiBzZW5kIDQwMSBVbmF1dGhvcml6ZWQgaW4gYXV0aCByb3V0ZXMnKTtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgLnN0YXR1cyg0MDEpXG4gICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIEludmFsaWQgVG9rZW4gaW4gYXV0aCByb3V0ZXMnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNcbiAgICAgICAgICAgICAgICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQgaW4gQXV0aCByb3V0ZScgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBBZGQgYSByZXR1cm4gc3RhdGVtZW50IGhlcmVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47IC8vIEFkZCBhIHJldHVybiBzdGF0ZW1lbnQgaGVyZVxuICAgIH0gLy8gQWRkIGEgcmV0dXJuIHN0YXRlbWVudCBoZXJlXG4gICAgKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBjb3JPcHRpb25zIH0gZnJvbSAnLi4vY29uZmlnL2Nvck9wdGlvbnMnO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyBnZXRJbWFnZVByZXZpZXdVcmwsIGdldFByb2ZpbGVQaWNQcmV2aWV3VXJsLCB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL2ltYWdlQ29udHJvbGxlcic7XG5pbXBvcnQgeyBJbWFnZVN0b3JhZ2VzLCBQcm9maWxlUGljdHVyZXMsIFVzZXJzIH0gZnJvbSAnLi4vbW9kZWxzL2luZGV4Lm1vZGVsJztcbmltcG9ydCB1cGxvYWQgZnJvbSAnLi4vc2VydmljZXMvbXVsdGVyLmNvbmZpZyc7XG5kb3RlbnYuY29uZmlnKCk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuLy8gRW5hYmxlIENPUlMgZm9yIGFsbCByb3V0ZXNcbnJvdXRlci51c2UoY29ycyhjb3JPcHRpb25zKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIHJlcy5oZWFkZXIoJ2VuY29kaW5nJywgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvdXBsb2FkSW1hZ2UnLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmlsZSB1cGxvYWRlZDonLCByZXEuZmlsZSk7XG4gICAgICAgIC8vIE1vZGlmeSB0aGUgZmlsZSBwYXRoIHRvIHRoZSByZXF1aXJlZCBmb3JtYXRcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gYGFzc2V0cy9pbWFnZXMvJHtyZXEuZmlsZT8uZmlsZW5hbWV9YDtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0SWQsIDEwKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVjb3JkID0gYXdhaXQgSW1hZ2VTdG9yYWdlcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHBvc3RfaWQ6IHBvc3RfaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWltYWdlUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBlcnJvcjogJ0Vycm9yIGNyZWF0aW5nIGltYWdlIHJlY29yZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn0pO1xucm91dGVyLnBvc3QoJy9hcGkvdXBsb2FkUHJvZmlsZVBpYycsIHVwbG9hZC5zaW5nbGUoJ2ZpbGUnKSwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ0ZpbGUgdXBsb2FkZWQ6JywgcmVxLmZpbGUpO1xuICAgICAgICAvLyBNb2RpZnkgdGhlIGZpbGUgcGF0aCB0byB0aGUgcmVxdWlyZWQgZm9ybWF0XG4gICAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9IGBhc3NldHMvaW1hZ2VzLyR7cmVxLmZpbGU/LmZpbGVuYW1lfWA7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZVBpY1JlY29yZCA9IGF3YWl0IFByb2ZpbGVQaWN0dXJlcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIHByb2ZpbGVQaWM6IHJlbGF0aXZlUGF0aCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9BdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICB1cGRhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXByb2ZpbGVQaWNSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnRXJyb3IgY3JlYXRpbmcgaW1hZ2UgcmVjb3JkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB1c2VyLnVwZGF0ZSh7IHByb2ZpbGVQaWM6IHJlbGF0aXZlUGF0aCB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnSW1hZ2UgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICBwcm9maWxlUGljOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn0pO1xuLy8gKiogUmV0dXJuIHBpY3R1cmUgdXJsIGZvciBwcmV2aWV3XG5yb3V0ZXIuZ2V0KCcvYXBpL3NlbmRJbWFnZVVybCcsIGdldEltYWdlUHJldmlld1VybCk7XG4vLyAqKiBSZXR1cm4gUHJvZmlsZSBwaWN0dXJlIHVybCBmb3IgcHJldmlld1xucm91dGVyLmdldCgnL2FwaS9zZW5kUHJvZmlsZVBpY1VybCcsIGdldFByb2ZpbGVQaWNQcmV2aWV3VXJsKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgY3JlYXRlUG9zdCwgZGVsZXRlTGlrZWRQb3N0LCBkZWxldGVQb3N0LCBkZWxldGVTYXZlZFBvc3QsIGdldEFsbFBvc3RzLCBnZXRJbmZpbml0ZVBvc3RzLCBnZXRMaWtlZFBvc3RzLCBnZXRQb3B1bGFyUG9zdHMsIGdldFBvc3RCeUlkLCBnZXRTYXZlZFBvc3RzLCBnZXRVc2VyUG9zdHMsIGxpa2VQb3N0LCBzYXZlUG9zdCwgc2VhcmNoUG9zdHMsIHVwZGF0ZVBvc3QsIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXInO1xuaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG5pbXBvcnQgeyBTYXZlcyB9IGZyb20gJy4uL21vZGVscy9pbmRleC5tb2RlbCc7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnVzZShjb3JzKCkpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuLy8gQ3JlYXRlIGEgbmV3IHBvc3RcbnJvdXRlci5wb3N0KCcvYXBpL2NyZWF0ZVBvc3QnLCBjcmVhdGVQb3N0KTtcbi8vIFVwZGF0ZSBhIHBvc3RcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlUG9zdCcsIHVwZGF0ZVBvc3QpO1xuLy8gZGVsZXRlIGEgcG9zdFxucm91dGVyLmRlbGV0ZSgnL2FwaS9kZWxldGVQb3N0JywgZGVsZXRlUG9zdCk7XG4vLyBHZXQgUmVjZW50IFBvc3RzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldEFsbFBvc3RzJywgZ2V0QWxsUG9zdHMpO1xuLy8gR2V0IHBvc3QgYnkgSURcbnJvdXRlci5nZXQoJy9hcGkvZ2V0UG9zdEJ5SWQnLCB2ZXJpZnlVc2VyLCBnZXRQb3N0QnlJZCk7XG4vLyBMaWtlIGEgUG9zdFxucm91dGVyLnBvc3QoJy9hcGkvbGlrZVBvc3QnLCBsaWtlUG9zdCk7XG4vLyAqKiBnZXQgbGlrZWQgcG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0TGlrZWRQb3N0cycsIHZlcmlmeVVzZXIsIGdldExpa2VkUG9zdHMpO1xuLy8gU2F2ZSBhIFBvc3Rcbi8vIHJvdXRlci5wb3N0KCcvYXBpL3NhdmVQb3N0JywgdmVyaWZ5VXNlciwgc2F2ZVBvc3QpO1xucm91dGVyLnBvc3QoJy9hcGkvc2F2ZVBvc3QnLCB2ZXJpZnlVc2VyLCBzYXZlUG9zdCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyB1c2VyX2lkLCBwb3N0X2lkIH0gPSByZXEuYm9keTtcbiAgICAgICAgYXdhaXQgU2F2ZXMuY3JlYXRlKHtcbiAgICAgICAgICAgIHVzZXJfaWQsXG4gICAgICAgICAgICBwb3N0X2lkLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmQoJ1Bvc3Qgc2F2ZWQnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnU2VxdWVsaXplVW5pcXVlQ29uc3RyYWludEVycm9yJyB8fFxuICAgICAgICAgICAgZXJyb3IuY29kZSA9PT0gJ0VSX0RVUF9FTlRSWScpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgYWxyZWFkeSBzYXZlZCBieSB0aGlzIHVzZXInIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoJ0Vycm9yIHNhdmluZyBwb3N0Jyk7XG4gICAgfVxufSk7XG4vLyBnZXQgc2F2ZWQgcG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0U2F2ZWRQb3N0cycsIHZlcmlmeVVzZXIsIGdldFNhdmVkUG9zdHMpO1xuLy8gRGVsZXRlIGEgUG9zdFxucm91dGVyLmRlbGV0ZSgnL2FwaS9kZWxldGVTYXZlZFBvc3QnLCBkZWxldGVTYXZlZFBvc3QpO1xuLy8gRGVsZXRlIGEgbGlrZVxucm91dGVyLmRlbGV0ZSgnL2FwaS9kZWxldGVMaWtlUG9zdCcsIGRlbGV0ZUxpa2VkUG9zdCk7XG4vLyBHZXQgSW5maW5pdGUgUG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0SW5maW5pdGVQb3N0cycsIGdldEluZmluaXRlUG9zdHMpO1xuLy8gU2VhcmNoIFBvc3RzXG5yb3V0ZXIucG9zdCgnL2FwaS9zZWFyY2hQb3N0cycsIHNlYXJjaFBvc3RzKTtcbi8vIEdldCB1c2VyJ3Mgc2F2ZWQgcG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0VXNlclBvc3RzJywgZ2V0VXNlclBvc3RzKTtcbi8vIEdldCBwb3B1bGFyIHBvc3RzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFBvcHVsYXJQb3N0cycsIGdldFBvcHVsYXJQb3N0cyk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnO1xuaW1wb3J0IGFkbWluUm91dGVzIGZyb20gJy4vYWRtaW5Sb3V0ZXMnO1xuaW1wb3J0IGF1dGhSb3V0ZXMgZnJvbSAnLi9hdXRoUm91dGVzJztcbmltcG9ydCBjdXJyZW50VXNlclJvdXRlcyBmcm9tICcuL2N1cnJlbnRVc2VyUm91dGVzJztcbmltcG9ydCBpbWFnZVJvdXRlcyBmcm9tICcuL2ltYWdlUm91dGVzJztcbmltcG9ydCBwb3N0Um91dGVzIGZyb20gJy4vcG9zdFJvdXRlcyc7XG5pbXBvcnQgdXNlckRhdGFSb3V0ZXMgZnJvbSAnLi91c2VyRGF0YVJvdXRlcyc7XG5pbXBvcnQgdXNlclJvdXRlcyBmcm9tICcuL3VzZXJSb3V0ZXMnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBpZiAocmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICAgIHJldHVybiByZXMuc2VuZFN0YXR1cygyMDApOyAvLyBIYW5kbGUgcHJlZmxpZ2h0IHJlcXVlc3QgZm9yIENPUlNcbiAgICB9XG4gICAgcmV0dXJuIG5leHQoKTtcbn0pO1xuLy8gYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvJywgKF9yZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiBgJHtlbnYuTk9ERV9FTlZ9YCxcbiAgICAgICAgbWVzc2FnZTogYCR7ZW52LlJFU1BPTlNFX1NUQVRVU31gLFxuICAgICAgICBuYW1lOiBgJHtlbnYuQVBQX05BTUV9YCxcbiAgICB9KTtcbn0pO1xucm91dGVyLnVzZShhZG1pblJvdXRlcyk7XG5yb3V0ZXIudXNlKGF1dGhSb3V0ZXMpO1xucm91dGVyLnVzZSh1c2VyUm91dGVzKTtcbnJvdXRlci51c2UoY3VycmVudFVzZXJSb3V0ZXMpO1xucm91dGVyLnVzZSh1c2VyRGF0YVJvdXRlcyk7XG5yb3V0ZXIudXNlKHBvc3RSb3V0ZXMpO1xucm91dGVyLnVzZShpbWFnZVJvdXRlcyk7XG5leHBvcnQgeyByb3V0ZXIgfTtcbiIsImltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgZ2V0VXNlckRhdGFCeUlEIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXInO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbi8vICoqIGN1cnJlbnQgdXNlciBkYXRhcyhwb3N0LCBsaWtlcywgdXNlcl9pZClcbnJvdXRlci5nZXQoJy9hcGkvZ2V0VXNlckRhdGEnLCBnZXRVc2VyRGF0YUJ5SUQpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBnZXRBbGxVc2VycywgZ2V0Q3VycmVudFVzZXIsIGdldFVzZXJCeUlELCB1cGRhdGVVc2VyLCB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3VzZXJDb250cm9sbGVyJztcbmltcG9ydCB7IHZlcmlmeVVzZXIgfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvdXNlckF1dGgnO1xuLy8gaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG4vLyBpbXBvcnQgeyBMaWtlcywgUG9zdHMsIFVzZXJzIH0gZnJvbSAnLi4vbW9kZWxzL2luZGV4Lm1vZGVsJztcbi8vIGltcG9ydCB7IHZhbGlkYXRlQW5kUGFyc2VQYXJhbXMgfSBmcm9tICcuLi91dGlscy92YWxpZGF0ZUFuZFBhcnNlUGFyYW1zJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvYXBpL2dldEN1cnJlbnRVc2VyJywgdmVyaWZ5VXNlciwgZ2V0Q3VycmVudFVzZXIpO1xuLy8gR2V0IGFsbCB1c2Vyc1xucm91dGVyLmdldCgnL2FwaS9nZXRBbGxVc2VycycsIGdldEFsbFVzZXJzKTtcbi8vIEdldCB1c2VyIGJ5IElEXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFVzZXJCeUlEJywgZ2V0VXNlckJ5SUQpO1xuLy8gVXBkYXRlIHVzZXIgYnkgSURcbnJvdXRlci5wdXQoJy9hcGkvdXBkYXRlVXNlcicsIHVwZGF0ZVVzZXIpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyB2YWxpZGF0ZU1JTUVUeXBlIH0gZnJvbSAndmFsaWRhdGUtaW1hZ2UtdHlwZSc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuLy8gRGVmaW5lIGN1c3RvbSBkZXN0aW5hdGlvbiBkaXJlY3RvcnlcbmNvbnN0IHVwbG9hZERpciA9ICcvaG9tZS9iYWJzZGV2c3lzL2FwcFYtMS9wdWJsaWMvYXNzZXRzL2ltYWdlcyc7XG4vLyBFbnN1cmUgdGhlIGRpcmVjdG9yeSBleGlzdHNcbmlmICghZnMuZXhpc3RzU3luYyh1cGxvYWREaXIpKSB7XG4gICAgZnMubWtkaXJTeW5jKHVwbG9hZERpciwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG59XG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKF9yZXEsIF9maWxlLCBjYikge1xuICAgICAgICBjYihudWxsLCB1cGxvYWREaXIpO1xuICAgIH0sXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChfcmVxLCBmaWxlLCBjYikge1xuICAgICAgICBjb25zdCB1bmlxdWVTdWZmaXggPSBEYXRlLm5vdygpICsgJy0nICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMWU5KTtcbiAgICAgICAgY2IobnVsbCwgZmlsZS5maWVsZG5hbWUgKyAnLScgKyB1bmlxdWVTdWZmaXggKyBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpKTtcbiAgICB9LFxufSk7XG4vLyBDaGVjayBmaWxlIHR5cGVcbmNvbnN0IHZhbGlkYXRlTWltZVR5cGUgPSBhc3luYyAoZmlsZSwgY2IpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gYXdhaXQgdmFsaWRhdGVNSU1FVHlwZShmaWxlLnBhdGgsIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRmlsZW5hbWU6IGZpbGUub3JpZ2luYWxuYW1lLFxuICAgICAgICAgICAgYWxsb3dNaW1lVHlwZXM6IFsnaW1hZ2UvanBlZycsICdpbWFnZS9wbmcnLCAnaW1hZ2Uvc3ZnK3htbCddLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0Lm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IobmV3IEVycm9yKCdJbnZhbGlkIGZpbGUgdHlwZScpKTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCB0cnVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZhbGlkYXRpbmcgZmlsZSB0eXBlOicsIGVycm9yKTtcbiAgICAgICAgY2IobmV3IEVycm9yKCdFcnJvciB2YWxpZGF0aW5nIGZpbGUgdHlwZScpKTtcbiAgICB9XG59O1xuY29uc3QgdXBsb2FkID0gbXVsdGVyKHtcbiAgICBzdG9yYWdlOiBzdG9yYWdlLFxuICAgIGxpbWl0czogeyBmaWxlU2l6ZTogMTAwMDAwMDAgfSxcbiAgICBmaWxlRmlsdGVyOiBmdW5jdGlvbiAoX3JlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY29uc3QgZmlsZXR5cGVzID0gL2pwZWd8anBnfHBuZ3xzdmcvO1xuICAgICAgICBjb25zdCBtaW1ldHlwZSA9IGZpbGV0eXBlcy50ZXN0KGZpbGUubWltZXR5cGUpO1xuICAgICAgICBjb25zdCBleHRuYW1lID0gZmlsZXR5cGVzLnRlc3QocGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgaWYgKG1pbWV0eXBlICYmIGV4dG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihudWxsLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZU1pbWVUeXBlKGZpbGUucGF0aCwgY2IpO1xuICAgIH0sXG59KTtcbmV4cG9ydCBkZWZhdWx0IHVwbG9hZDtcbiIsImltcG9ydCB7IFBlcmZvcm1hbmNlT2JzZXJ2ZXIsIHBlcmZvcm1hbmNlIH0gZnJvbSAnbm9kZTpwZXJmX2hvb2tzJztcbi8vIFNldCB1cCB0aGUgUGVyZm9ybWFuY2VPYnNlcnZlclxuY29uc3Qgb2JzID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoaXRlbXMgPT4ge1xuICAgIGl0ZW1zLmdldEVudHJpZXMoKS5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coYCR7ZW50cnkubmFtZX06ICR7ZW50cnkuZHVyYXRpb259bXNgKTtcbiAgICB9KTtcbiAgICBwZXJmb3JtYW5jZS5jbGVhck1hcmtzKCk7XG59KTtcbm9icy5vYnNlcnZlKHsgdHlwZTogJ21lYXN1cmUnIH0pO1xuLy8gU2ltdWxhdGUgdGhlIGxvYWRlciBmdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gbG9hZGVyKCkge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIE1hcmsgdGhlIHN0YXJ0IG9mIHRoZSBsb2FkZXJcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyaygnTG9hZGVyIFN0YXJ0Jywge1xuICAgICAgICAgICAgZGV0YWlsOiAnTG9hZGVyIHN0YXJ0ZWQnLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUGVyZm9ybSBUYXNrIDFcbiAgICAgICAgYXdhaXQgZG9Tb21lTG9uZ1J1bm5pbmdQcm9jZXNzKCk7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoJ1Rhc2sgMSBFbmQnLCB7XG4gICAgICAgICAgICBkZXRhaWw6ICdUYXNrIDEgY29tcGxldGVkJyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFBlcmZvcm0gVGFzayAyXG4gICAgICAgIGF3YWl0IGRvU29tZUxvbmdSdW5uaW5nUHJvY2VzcygpO1xuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKCdUYXNrIDIgRW5kJywge1xuICAgICAgICAgICAgZGV0YWlsOiAnVGFzayAyIGNvbXBsZXRlZCcsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBsb2dpbk1lYXN1cmUgPSBwZXJmb3JtYW5jZS5tZWFzdXJlKCdUYXNrIDIgRHVyYXRpb24nLCAnVGFzayAxIEVuZCcsICdUYXNrIDIgRW5kJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKGxvZ2luTWVhc3VyZS5kdXJhdGlvbik7XG4gICAgICAgIC8vIEVuZCBvZiB0aGUgbG9hZGVyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoJ0xvYWRlciBFbmQnKTtcbiAgICAgICAgcGVyZm9ybWFuY2UubWVhc3VyZSgnVG90YWwgTG9hZGVyIER1cmF0aW9uJywgJ0xvYWRlciBTdGFydCcsICdMb2FkZXIgRW5kJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBsb2FkZXI6JywgZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRvU29tZUxvbmdSdW5uaW5nUHJvY2VzcygpIHtcbiAgICAvLyBSZXR1cm4gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgYSB0aW1lb3V0IHRvIHNpbXVsYXRlIGEgbG9uZy1ydW5uaW5nIHByb2Nlc3NcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCAxMDAwKTsgLy8gMSBzZWNvbmQgdGltZW91dCB0byBzaW11bGF0ZSB0aGUgcHJvY2VzcyBkdXJhdGlvblxuICAgIH0pO1xufVxuZXhwb3J0IGRlZmF1bHQgbG9hZGVyO1xuIiwiLy8gRGVzYzogVHJ1bmNhdGUgdGFibGVzIGluIHRoZSBkYXRhYmFzZVxuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uLmpzJztcbmltcG9ydCBJbWFnZVN0b3JhZ2VzIGZyb20gJy4uL21vZGVscy9pbWFnZS5tb2RlbC5qcyc7XG5pbXBvcnQgUHJvZmlsZVBpY3R1cmVzIGZyb20gJy4uL21vZGVscy9wcm9maWxlUGljLm1vZGVsLmpzJztcbi8vICoqIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG4vLyAqKiB0cnVuY2F0ZVRhYmxlcyBmdW5jdGlvblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRydW5jYXRlVGFibGVzKCkge1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gYXdhaXQgc2VxdWVsaXplLnRyYW5zYWN0aW9uKCk7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gYXdhaXQgVXNlcnMuZGVzdHJveSh7IHdoZXJlOiB7fSwgdHJ1bmNhdGU6IHRydWUgfSk7XG4gICAgICAgIC8vIGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZGVzdHJveSh7IHdoZXJlOiB7fSwgdHJ1bmNhdGU6IHRydWUgfSk7XG4gICAgICAgIGF3YWl0IEltYWdlU3RvcmFnZXMudHJ1bmNhdGUoeyB0cmFuc2FjdGlvbiB9KTtcbiAgICAgICAgYXdhaXQgUHJvZmlsZVBpY3R1cmVzLnRydW5jYXRlKHsgdHJhbnNhY3Rpb24gfSk7XG4gICAgICAgIC8vIElmIGV2ZXJ5dGhpbmcgaXMgc3VjY2Vzc2Z1bCwgY29tbWl0IHRoZSB0cmFuc2FjdGlvblxuICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5jb21taXQoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ1RhYmxlcyBoYXZlIGJlZW4gdHJ1bmNhdGVkLi4uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCByb2xsIGJhY2sgdGhlIHRyYW5zYWN0aW9uXG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLnJvbGxiYWNrKCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRydW5jYXRpbmcgdGFibGVzOicsIGVycm9yKTtcbiAgICB9XG59XG4iLCIvLyBJbXBvcnQgbmVjZXNzYXJ5IG1vZHVsZXNcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgaGFzaCBmcm9tIGEgc3RyaW5nXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVIYXNoKHN0cikge1xuICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cikuZGlnZXN0KCdoZXgnKTtcbn1cbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGF2YXRhciBVUkwgYmFzZWQgb24gdXNlciBpbml0aWFsc1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQXZhdGFyVXJsKG5hbWUpIHtcbiAgICAvLyBFeHRyYWN0IHRoZSBpbml0aWFscyBmcm9tIHRoZSB1c2VyJ3MgbmFtZVxuICAgIGNvbnN0IGluaXRpYWxzID0gbmFtZVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAubWFwKHBhcnQgPT4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgIC8vIFVzZSBhIHNlcnZpY2UgdGhhdCBnZW5lcmF0ZXMgYXZhdGFycyB3aXRoIGluaXRpYWxzXG4gICAgY29uc3Qgc2l6ZSA9IDIwMDsgLy8gU3BlY2lmeSB0aGUgZGVzaXJlZCBzaXplIG9mIHRoZSBhdmF0YXJcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSAncmFuZG9tJzsgLy8gVXNlIGEgcmFuZG9tIGJhY2tncm91bmQgY29sb3JcbiAgICBjb25zdCB0ZXh0Q29sb3IgPSAnZmZmJzsgLy8gVXNlIHdoaXRlIHRleHQgY29sb3JcbiAgICBjb25zdCBiYXNlVXJsID0gYGh0dHBzOi8vdWktYXZhdGFycy5jb20vYXBpLz9uYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGluaXRpYWxzKX0mc2l6ZT0ke3NpemV9JmJhY2tncm91bmQ9JHtiYWNrZ3JvdW5kQ29sb3J9JmNvbG9yPSR7dGV4dENvbG9yfWA7XG4gICAgcmV0dXJuIGJhc2VVcmw7XG59XG4iLCIvLyBzcmMvZXJyb3JIYW5kbGVyLnRzXG5pbXBvcnQgcHJvY2VzcyBmcm9tICdub2RlOnByb2Nlc3MnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5leHBvcnQgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAvLyBJbml0aWFsaXplIGVycm9ycyBvYmplY3RcbiAgICBsZXQgZXJyb3JzID0ge307XG4gICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9ycyBjYXNlc1xuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnTmV3IFVzZXIgdmFsaWRhdGlvbiBlcnJvcicpKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdOYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiAndXNlcm5hbWUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgZW1haWw6ICdlbWFpbCBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdVc2VyUmVnaXN0cmF0aW9ucy5lbWFpbCcpKSB7XG4gICAgICAgIGVycm9ycy5lbWFpbCA9ICdFbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2luY29ycmVjdCBlbWFpbCcpKSB7XG4gICAgICAgIGVycm9ycy5lbWFpbCA9ICdlbWFpbCBpcyBub3QgcmVnaXN0ZXJlZCc7XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnSW5jb3JyZWN0IHBhc3N3b3JkJykpIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gJ3Bhc3N3b3JkIGlzIGluY29ycmVjdCc7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBTZXF1ZWxpemUgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdTZXF1ZWxpemVWYWxpZGF0aW9uRXJyb3InICYmIGVyci5lcnJvcikge1xuICAgICAgICBlcnJvcnMgPSBlcnIuZXJyb3IucmVkdWNlKChhY2MsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBhY2NbZXJyb3IucGF0aF0gPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICByZXMuc3RhdHVzKGVyci5jb2RlIHx8IDUwMCkuanNvbih7IGVycm9ycyB9KTtcbn07XG4vLyBGdW5jdGlvbiB0byBsb2cgZXJyb3JzIHRvIGEgZmlsZVxuZnVuY3Rpb24gbG9nRXJyb3JUb0ZpbGUoZXJyKSB7XG4gICAgY29uc3QgbG9nID0gYCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAtICR7ZXJyLm1lc3NhZ2V9XFxuJHtlcnIuc3RhY2t9XFxuYDtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnZXJyb3IubG9nJywgbG9nKTtcbn1cbmNvbnN0IHVuaGFuZGxlZFJlamVjdGlvbnMgPSBuZXcgTWFwKCk7XG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAocmVhc29uLCBwcm9taXNlKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIFJlamVjdGlvbiBhdDonLCBwcm9taXNlLCAncmVhc29uOicsIHJlYXNvbik7XG4gICAgdW5oYW5kbGVkUmVqZWN0aW9ucy5zZXQocHJvbWlzZSwgcmVhc29uKTtcbn0pO1xucHJvY2Vzcy5vbigncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UgPT4ge1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuZGVsZXRlKHByb21pc2UpO1xufSk7XG4vLyBHbG9iYWwgZXJyb3IgaGFuZGxpbmcgbWlkZGxld2FyZSBmb3IgRXhwcmVzc1xuZXhwb3J0IGZ1bmN0aW9uIGdsb2JhbEVycm9ySGFuZGxlcihlcnIsIF9yZXEsIHJlcywgbmV4dCkge1xuICAgIGxvZ0Vycm9yVG9GaWxlKGVycik7XG4gICAgLy8gU2VuZCBnZW5lcmljIGVycm9yIHJlc3BvbnNlXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsXG4gICAgfSk7XG4gICAgbmV4dChlcnIpO1xufVxuLy8gQ2F0Y2ggdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uc1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICAgIGxvZ0Vycm9yVG9GaWxlKHJlYXNvbik7XG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIFJlamVjdGlvbiBhdDonLCBwcm9taXNlLCAncmVhc29uOicsIHJlYXNvbik7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xufSk7XG4vLyBDYXRjaCB1bmNhdWdodCBleGNlcHRpb25zXG5wcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHtcbiAgICBsb2dFcnJvclRvRmlsZShlcnIpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuY2F1Z2h0IEV4Y2VwdGlvbjonLCBlcnIpO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7XG4gICAgZnMud3JpdGVTeW5jKHByb2Nlc3Muc3RkZXJyLmZkLCBgQ2F1Z2h0IGV4Y2VwdGlvbjogJHtlcnJ9XFxuYCArIGBFeGNlcHRpb24gT3JpZ2luOiAke29yaWdpbn1cXG5gKTtcbn0pO1xuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1RoaXMgd2lsbCBzdGlsbCBydW4uJyk7XG59LCBlbnYuRVJST1JfVElNRU9VVCk7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZ2xvYmFsRXJyb3JIYW5kbGVyLFxuICAgIGhhbmRsZUVycm9yLFxufTtcbiIsImltcG9ydCBOb2RlQ2FjaGUgZnJvbSAnbm9kZS1jYWNoZSc7XG5leHBvcnQgY29uc3QgYXBwQ2FjaGUgPSBuZXcgTm9kZUNhY2hlKHsgc3RkVFRMOiAzNjAwLCBjaGVja3BlcmlvZDogMTIwIH0pOyAvLyBDYWNoZSBlbnRyaWVzIGV4cGlyZSBhZnRlciAxIGhvdXJcbmV4cG9ydCBkZWZhdWx0IHsgYXBwQ2FjaGUgfTtcbiIsIi8vIEhlbHBlciBmdW5jdGlvbiB0byB2YWxpZGF0ZSBhbmQgcGFyc2UgcXVlcnkgcGFyYW1ldGVyc1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQW5kUGFyc2VQYXJhbXMocmVxKSB7XG4gICAgLy8gRXh0cmFjdCBxdWVyeSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgeyB1c2VyX2lkLCBwb3N0X2lkLCBsaWtlc19pZCwgY3JlYXRvcl9pZCwgcmVxdWVzdGVkVXNlcklkLCBsaW1pdCB9ID0gcmVxLnF1ZXJ5O1xuICAgIC8vIFZhbGlkYXRlIHByZXNlbmNlIG9mIHJlcXVpcmVkIHBhcmFtZXRlcnNcbiAgICBpZiAodXNlcl9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlcl9pZCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICBpZiAocG9zdF9pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncG9zdF9pZCBpcyByZXF1aXJlZCcpO1xuICAgIH1cbiAgICAvLyBQYXJzZSBwYXJhbWV0ZXJzXG4gICAgY29uc3QgcGFyc2VkVXNlcklkID0gdXNlcl9pZCAhPT0gdW5kZWZpbmVkID8gcGFyc2VJbnQodXNlcl9pZCwgMTApIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBhcnNlZFBvc3RJZCA9IHBvc3RfaWQgIT09IHVuZGVmaW5lZCA/IHBhcnNlSW50KHBvc3RfaWQsIDEwKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwYXJzZWRMaWtlc0lkID0gbGlrZXNfaWQgIT09IHVuZGVmaW5lZCA/IHBhcnNlSW50KGxpa2VzX2lkLCAxMCkgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyc2VkQ3JlYXRvcklkID0gY3JlYXRvcl9pZCAhPT0gdW5kZWZpbmVkID8gcGFyc2VJbnQoY3JlYXRvcl9pZCwgMTApIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHBhcnNlZFJlcXVlc3RlZFVzZXJJZCA9IHJlcXVlc3RlZFVzZXJJZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyc2VJbnQocmVxdWVzdGVkVXNlcklkLCAxMClcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcGFyc2VkTGltaXQgPSBsaW1pdCAhPT0gdW5kZWZpbmVkID8gcGFyc2VJbnQobGltaXQsIDEwKSA6IHVuZGVmaW5lZDtcbiAgICAvLyBEZWJ1Z2dpbmcgbG9nc1xuICAgIGNvbnNvbGUubG9nKCdSZWNlaXZlZCBwYXJhbWV0ZXJzOicsIHtcbiAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgcG9zdF9pZCxcbiAgICAgICAgbGlrZXNfaWQsXG4gICAgICAgIGNyZWF0b3JfaWQsXG4gICAgICAgIHJlcXVlc3RlZFVzZXJJZCxcbiAgICAgICAgbGltaXQsXG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ1BhcnNlZCBwYXJhbWV0ZXJzOicsIHtcbiAgICAgICAgcGFyc2VkVXNlcklkLFxuICAgICAgICBwYXJzZWRQb3N0SWQsXG4gICAgICAgIHBhcnNlZExpa2VzSWQsXG4gICAgICAgIHBhcnNlZENyZWF0b3JJZCxcbiAgICAgICAgcGFyc2VkUmVxdWVzdGVkVXNlcklkLFxuICAgICAgICBwYXJzZWRMaW1pdCxcbiAgICB9KTtcbiAgICBpZiAoaXNOYU4ocGFyc2VkVXNlcklkID8/IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndXNlcl9pZCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgfVxuICAgIGlmIChpc05hTihwYXJzZWRQb3N0SWQgPz8gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb3N0X2lkIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHBhcnNlZExpa2VzSWQgPz8gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdsaWtlc19pZCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgfVxuICAgIGlmIChpc05hTihwYXJzZWRDcmVhdG9ySWQgPz8gMCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdG9yX2lkIG11c3QgYmUgYSBudW1iZXInKTtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHBhcnNlZFJlcXVlc3RlZFVzZXJJZCA/PyAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3JlcXVlc3RlZFVzZXJJZCBtdXN0IGJlIGEgbnVtYmVyJyk7XG4gICAgfVxuICAgIGlmIChpc05hTihwYXJzZWRMaW1pdCA/PyAwKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2xpbWl0IG11c3QgYmUgYSBudW1iZXInKTtcbiAgICB9XG4gICAgLy8gQWRkaXRpb25hbCBjaGVja3MgYW5kIGVycm9yIGhhbmRsaW5nXG4gICAgaWYgKChwYXJzZWRVc2VySWQgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRVc2VySWQgPCAwKSB8fFxuICAgICAgICAocGFyc2VkUG9zdElkICE9PSB1bmRlZmluZWQgJiYgcGFyc2VkUG9zdElkIDwgMCkgfHxcbiAgICAgICAgKHBhcnNlZExpa2VzSWQgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRMaWtlc0lkIDwgMCkgfHxcbiAgICAgICAgKHBhcnNlZENyZWF0b3JJZCAhPT0gdW5kZWZpbmVkICYmIHBhcnNlZENyZWF0b3JJZCA8IDApIHx8XG4gICAgICAgIChwYXJzZWRSZXF1ZXN0ZWRVc2VySWQgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRSZXF1ZXN0ZWRVc2VySWQgPCAwKSB8fFxuICAgICAgICAocGFyc2VkTGltaXQgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRMaW1pdCA8IDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBxdWVyeSBwYXJhbWV0ZXJzOiBwb3N0X2lkLCBsaWtlc19pZCwgYW5kIGNyZWF0b3JfaWQgbXVzdCBiZSBub24tbmVnYXRpdmUnKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdXNlcl9pZDogcGFyc2VkVXNlcklkLFxuICAgICAgICBwb3N0X2lkOiBwYXJzZWRQb3N0SWQsXG4gICAgICAgIGxpa2VzX2lkOiBwYXJzZWRMaWtlc0lkLFxuICAgICAgICBjcmVhdG9yX2lkOiBwYXJzZWRDcmVhdG9ySWQsXG4gICAgICAgIHJlcXVlc3RlZFVzZXJJZDogcGFyc2VkUmVxdWVzdGVkVXNlcklkLFxuICAgICAgICBsaW1pdDogcGFyc2VkTGltaXQsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtdXN0RmluZChhcnIsIHByZWRpY2F0ZSkge1xuICAgIGNvbnN0IGZvdW5kID0gYXJyLmZpbmQocHJlZGljYXRlKTtcbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGZpbmQgaXRlbSB3aXRoIGlkICR7cHJlZGljYXRlfWApO1xuICAgIH1cbiAgICByZXR1cm4gZm91bmQ7XG59XG4vLyBWYWxpZGF0aW9uIG1pZGRsZXdhcmVcbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVVzZXJDcmVhdGlvbihyZXEsIHJlcykge1xuICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgY29uc3QgZXJyb3JzID0ge307XG4gICAgaWYgKCFuYW1lKVxuICAgICAgICBlcnJvcnMubmFtZSA9ICdOYW1lIGlzIHJlcXVpcmVkJztcbiAgICBpZiAoIXVzZXJuYW1lKVxuICAgICAgICBlcnJvcnMudXNlcm5hbWUgPSAnVXNlcm5hbWUgaXMgcmVxdWlyZWQnO1xuICAgIGlmICghZW1haWwpXG4gICAgICAgIGVycm9ycy5lbWFpbCA9ICdFbWFpbCBpcyByZXF1aXJlZCc7XG4gICAgaWYgKCFwYXNzd29yZClcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJztcbiAgICBpZiAoT2JqZWN0LmtleXMoZXJyb3JzKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9ycyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgdXNlcm5hbWUsXG4gICAgICAgIGVtYWlsLFxuICAgICAgICBwYXNzd29yZCxcbiAgICB9O1xufVxuZXhwb3J0IGRlZmF1bHQge1xuICAgIHZhbGlkYXRlQW5kUGFyc2VQYXJhbXMsXG4gICAgdmFsaWRhdGVVc2VyQ3JlYXRpb24sXG59O1xuIl0sIm5hbWVzIjpbImNvcnNTY2hlbWFFTlYiLCJsb2FkIiwiQ09SU19PUklHSU4iLCJTdHJpbmciLCJDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMiLCJOdW1iZXIiLCJDT1JTX0NSRURFTlRJQUxTIiwiQm9vbGVhbiIsIkNPUlNfTUVUSE9EUyIsIm9rIiwiY29yc0VOViIsImNvck9wdGlvbnMiLCJvcmlnaW4iLCJtZXRob2RzIiwiY3JlZGVudGlhbHMiLCJvcHRpb25zU3VjY2Vzc1N0YXR1cyIsImRhdGFTY2hlbWFFTlYiLCJEQl9IT1NUIiwiREJfUE9SVCIsIkRCX1VTRVIiLCJEQl9QQVNTIiwiREJfTkFNRSIsIkRCX1NPQ0tFVF9QQVRIIiwiREJfU09DS0VUX1RJTUVPVVQiLCJEQl9DT01QUkVTUyIsIkRCX0RFQlVHIiwiREJfUEVSTUlUX0xPQ0FMX0lORklMRSIsIkRCX1RSQUNFIiwiREJfQ0hFQ0tfRFVQTElDQVRFIiwiREJfU1NMIiwiREJfU1NMX0NBIiwiREJfU1NMX0tFWSIsIkRCX1NTTF9DRVJUIiwiREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTIiwiREJfQ09OTkVDVElPTl9USU1FT1VUIiwiZGF0YWJhc2VFTlYiLCJqd3RTY2hlbWFFTlYiLCJKV1RfU0VDUkVUIiwiSldUX0VYUElSRVNfSU4iLCJKV1RfUkVGUkVTSF9TRUNSRVQiLCJKV1RfUkVGUkVTSF9FWFBJUkVTX0lOIiwiSldUX1JFRlJFU0hfTUFYX0FHRSIsIkpXVF9BTEdPUklUSE0iLCJKV1RfSVNTVUVSIiwiSldUX01BWF9BR0UiLCJKV1RfSFRUUF9PTkxZIiwiSldUX1NBTUVfU0lURSIsIkpXVF9DT09LSUVfTkFNRSIsIkpXVF9TRUNVUkUiLCJqd3RFTlYiLCJjcmVhdGVQb3N0IiwiYXN5bmMiLCJyZXEiLCJyZXMiLCJjYXB0aW9uIiwibG9jYXRpb24iLCJ0YWdzIiwiYm9keSIsInRva2VuIiwiY29va2llcyIsImp3dCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyIiwiZGVjb2RlZFRva2VuIiwiY29uc29sZSIsImxvZyIsInVzZXJfaWQiLCJpZCIsInVzZXIiLCJmaW5kQnlQayIsImltYWdlUmVjb3JkIiwiZmluZEltYWdlQnlSZWZlcmVuY2VLZXkiLCJuZXdQb3N0IiwiY3JlYXRlIiwiaW1hZ2VVUkwiLCJpbWFnZVVybCIsImNyZWF0ZWRfQXQiLCJEYXRlIiwiY3JlYXRvcl9JZCIsImVycm9yIiwiZGVsZXRlRmlsZSIsIl9yZXEiLCJpbWFnZSIsImZpbmRPbmUiLCJ3aGVyZSIsImRlc3Ryb3kiLCJ1cGRhdGVQb3N0IiwibmV3SW1hZ2VVcmwiLCJwb3N0X2lkIiwicGFyc2VJbnQiLCJxdWVyeSIsInBvc3QiLCJwcmV2aWV3SW1hZ2VVcmwiLCJ1cGRhdGVkUG9zdCIsInVwZGF0ZSIsImdldEFsbFBvc3RzIiwicG9zdHMiLCJmaW5kQWxsIiwiaW5jbHVkZSIsIm1vZGVsIiwiYXMiLCJhdHRyaWJ1dGVzIiwibGlrZVBvc3QiLCJpc05hTiIsIm5ld0xpa2UiLCJjcmVhdGVMaWtlIiwibGlrZXNfQ291bnQiLCJsaWtlc0NvdW50IiwibGlrZSIsImdldExpa2VkUG9zdHMiLCJyZXF1ZXN0ZWRVc2VySWQiLCJsaWtlcyIsImxpa2VkUG9zdHMiLCJtYXAiLCJnZXRQb3N0QnlJZCIsImNyZWF0b3JfaWQiLCJkZWxldGVMaWtlZFBvc3QiLCJleGlzdGluZ0xpa2UiLCJjdXJyZW50TGlrZXMiLCJzYXZlIiwic2F2ZVBvc3QiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInNwbGl0IiwibmV3U2F2ZSIsImNyZWF0ZVNhdmUiLCJzYXZlRGF0ZSIsImRlbGV0ZVNhdmVkUG9zdCIsImV4aXN0aW5nU2F2ZSIsImdldFNhdmVkUG9zdHMiLCJzYXZlZFBvc3RzIiwiZGVsZXRlUG9zdCIsImdldEluZmluaXRlUG9zdHMiLCJwYWdlIiwibGltaXQiLCJvZmZzZXQiLCJmaW5kQW5kQ291bnRBbGwiLCJvcmRlciIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImNvdW50IiwidG90YWxDb3VudCIsInNlYXJjaFBvc3RzIiwic2VhcmNoVmFsdWUiLCJPcCIsIm9yIiwiZ2V0VXNlclBvc3RzIiwiZ2V0UG9wdWxhclBvc3RzIiwicG9wdWxhclBvc3RzIiwidXNlclJlZ2lzdGVyIiwibmFtZSIsInVzZXJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsIkVycm9yIiwibmV3VXNlciIsImhhc2hlZHBhc3N3b3JkIiwiY3JlYXRlZEF0IiwiY29va2llIiwiaHR0cE9ubHkiLCJtYXhBZ2UiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInVzZXJMb2dpbiIsImxvZ2luVXNlciIsInJlZnJlc2hUb2tlbiIsInNldEhlYWRlciIsImxvY2FscyIsInVzZXJMb2dvdXQiLCJhY2Nlc3NUb2tlbiIsIm5ld1Rva2VuIiwiZXhwaXJlc0luIiwiYWxnb3JpdGhtIiwiaXNzdWVyIiwiZ2V0SW1hZ2VQcmV2aWV3VXJsIiwicHJvY2VzcyIsImVudiIsImdldFByb2ZpbGVQaWNQcmV2aWV3VXJsIiwicHJvZmlsZVBpYyIsImZpbmRQcm9maWxlUGljQnlSZWZlcmVuY2VLZXkiLCJnZXRBbGxVc2VycyIsInVzZXJzX2lkIiwibGVuZ3RoIiwidXNlcnNPYmplY3QiLCJyZWR1Y2UiLCJhY2MiLCJnZXRVc2VyQnlJRCIsInVwZGF0ZVVzZXIiLCJyZXN0IiwiT2JqZWN0Iiwia2V5cyIsInNwYWNlSW5kZXgiLCJsYXN0SW5kZXhPZiIsImZpcnN0TmFtZSIsInNsaWNlIiwibGFzdE5hbWUiLCJhZmZlY3RlZENvdW50IiwidXBkYXRlZFVzZXJzIiwiZ2V0VXNlckRhdGFCeUlEIiwidXNlclBvc3REYXRhIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXRDdXJyZW50VXNlciIsImFkbWluTG9naW4iLCJhZG1pbiIsImlzQWRtaW4iLCJuZXh0IiwibG9nZ2VkSW5BZG1pbiIsIkEiLCJyb2xlIiwibGltaXRlciIsIndpbmRvd01zIiwiUkFSRV9MSU1JVF9XSU5ET1dfTVMiLCJtYXgiLCJNQVgiLCJSQVJFX0xJTUlUX01FU1NBR0UiLCJzdGF0dXNDb2RlIiwiUkFSRV9MSU1JVF9DT0RFIiwiaGFuZGxlciIsImtleUdlbmVyYXRvciIsImlwIiwicmVwbGFjZSIsInNlbmQiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwiand0R2VuZXJhdG9yIiwicGF5bG9hZCIsImp3dFJlZnJlc2giLCJ2ZXJpZnlVc2VyIiwid2FpdEZvckRCIiwic2VxdWVsaXplIiwiYXR0ZW1wdHMiLCJhdXRoZW50aWNhdGUiLCJzeW5jIiwiZm9yY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJkYkNvbmZpZyIsIkRpYWxlY3QiLCJob3N0IiwiZGF0YWJhc2UiLCJzb2NrZXRQYXRoIiwic29ja2V0VGltZW91dCIsImNvbXByZXNzIiwiZGVidWciLCJwZXJtaXRMb2NhbEluZmlsZSIsInRyYWNlIiwiY2hlY2tEdXBsaWNhdGUiLCJjb25uZWN0QXR0cmlidXRlcyIsIkpTT04iLCJwYXJzZSIsImNvbm5lY3Rpb25UaW1lb3V0IiwicG9ydCIsInNzbCIsImRpYWxlY3RPcHRpb25zIiwiY2EiLCJ0b1N0cmluZyIsImtleSIsImNlcnQiLCJjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSIsIlNlcXVlbGl6ZSIsImRpYWxlY3QiLCJfX2Rpcm5hbWUiLCJkaXJuYW1lIiwiZmlsZVVSTFRvUGF0aCIsIk1hcmlhRGJEaWFsZWN0IiwibW9kZWxzIiwiaW1wb3J0TW9kZWxzIiwiYXBwIiwidXNlIiwiaGVhZGVyIiwibWV0aG9kIiwic2VuZFN0YXR1cyIsImV4dGVuZGVkIiwiVHJ1c3RfUHJveHkiLCJUUlVTVF9QUk9YWSIsIm51bWJlck9mUHJveGllcyIsIk5VTUJFUl9PRl9QUk9YSUVTIiwic2V0IiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY29udGVudFNlY3VyaXR5UG9saWN5IiwiTU9SR0FOIiwiZmx1c2hBbGwiLCJBZG1pbiIsIk1vZGVsIiwibG9naW5BZG1pbiIsInRoaXMiLCJsb2dvdXRVc2VyIiwicmVzZXRQYXNzd29yZCIsImluaXQiLCJ0eXBlIiwiRGF0YVR5cGVzIiwiSU5URUdFUiIsImF1dG9JbmNyZW1lbnQiLCJwcmltYXJ5S2V5IiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwiREFURSIsImRlZmF1bHRWYWx1ZSIsIk5PVyIsImF2YXRhclVybCIsInRhYmxlTmFtZSIsInRoZW4iLCJjYXRjaCIsIkltYWdlU3RvcmFnZXMiLCJmaW5kSW1hZ2VCeUlkIiwidmFsdWUiLCJyZWZlcmVuY2VzIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImFmdGVyQ3JlYXRlIiwiaGFzTWFueSIsImZvcmVpZ25LZXkiLCJvbkRlbGV0ZSIsIm9uVXBkYXRlIiwiYmVsb25nc1RvIiwiTGlrZXMiLCJmaW5kTGlrZUJ5SWQiLCJmaW5kTGlrZUJ5UmVmZXJlbmNlS2V5IiwiZmluZEFsbExpa2VzQnlSZWZlcmVuY2VLZXkiLCJkZWxldGVMaWtlQnlSZWZlcmVuY2VLZXkiLCJmcmVlemVUYWJsZU5hbWUiLCJQb3N0cyIsInVwZGF0ZWRQb3N0cyIsInJldHVybmluZyIsImdldFBvc3RCeUlEIiwiZ2V0U2F2ZWRQb3N0IiwiZ2V0UG9zdEJ5UmVmZXJlbmNlSUQiLCJQcm9maWxlUGljdHVyZXMiLCJmaW5kUHJvZmlsZVBpY3R1cmVCeUlkIiwiZ2V0UHJvZmlsZVBpY0J5UmVmZXJlbmNlSUQiLCJ1cGRhdGVkX0F0IiwidXBkYXRlZEF0IiwiaGFzT25lIiwiU2F2ZXMiLCJjaGVja0lmU2F2ZWQiLCJpbmRleGVzIiwidW5pcXVlIiwiZmllbGRzIiwidGFyZ2V0S2V5IiwiVXNlcnMiLCJ2YWxpZGF0ZSIsIm5vdEVtcHR5IiwiaXMiLCJsZW4iLCJpc0VtYWlsIiwiYmlvIiwiam9pbiIsImxhYmVsIiwibGFzdF9hY3Rpdml0eSIsInVwZGF0ZWRfYXQiLCJVc2VyUmVnaXN0cmF0aW9uSUQiLCJVVUlEIiwiVXNlclJlZ2lzdHJhdGlvbiIsImJlZm9yZUNyZWF0ZSIsInNhbHQiLCJoYXNoZWRQYXNzd29yZCIsImZpcnN0X05hbWUiLCJhdmF0YXIiLCJ1cHNlcnQiLCJyb3V0ZXIiLCJzaW5nbGUiLCJmaWxlIiwicmVsYXRpdmVQYXRoIiwiZmlsZW5hbWUiLCJwb3N0SWQiLCJwdXQiLCJkZWxldGUiLCJjb2RlIiwiTk9ERV9FTlYiLCJSRVNQT05TRV9TVEFUVVMiLCJBUFBfTkFNRSIsInVwbG9hZERpciIsInJlY3Vyc2l2ZSIsInN0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsIl9maWxlIiwiY2IiLCJ1bmlxdWVTdWZmaXgiLCJub3ciLCJyb3VuZCIsInJhbmRvbSIsImZpZWxkbmFtZSIsIm9yaWdpbmFsbmFtZSIsImxpbWl0cyIsImZpbGVTaXplIiwiZmlsZUZpbHRlciIsImZpbGV0eXBlcyIsIm1pbWV0eXBlIiwidGVzdCIsImV4dG5hbWUiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkYXRlTUlNRVR5cGUiLCJwYXRoIiwib3JpZ2luYWxGaWxlbmFtZSIsImFsbG93TWltZVR5cGVzIiwidmFsaWRhdGVNaW1lVHlwZSIsImRvU29tZUxvbmdSdW5uaW5nUHJvY2VzcyIsIlBlcmZvcm1hbmNlT2JzZXJ2ZXIiLCJpdGVtcyIsImdldEVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJkdXJhdGlvbiIsInBlcmZvcm1hbmNlIiwiY2xlYXJNYXJrcyIsIm9ic2VydmUiLCJtYXJrIiwiZGV0YWlsIiwibG9naW5NZWFzdXJlIiwibWVhc3VyZSIsInRydW5jYXRlVGFibGVzIiwidHJhbnNhY3Rpb24iLCJ0cnVuY2F0ZSIsImNvbW1pdCIsInJvbGxiYWNrIiwiZ2VuZXJhdGVBdmF0YXJVcmwiLCJpbml0aWFscyIsInBhcnQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhhbmRsZUVycm9yIiwiZXJyb3JzIiwiaW5jbHVkZXMiLCJsb2dFcnJvclRvRmlsZSIsInRvSVNPU3RyaW5nIiwic3RhY2siLCJ1bmhhbmRsZWRSZWplY3Rpb25zIiwiTWFwIiwiZ2xvYmFsRXJyb3JIYW5kbGVyIiwicmVhc29uIiwicHJvbWlzZSIsImZkIiwiRVJST1JfVElNRU9VVCIsImFwcENhY2hlIiwic3RkVFRMIiwiY2hlY2twZXJpb2QiLCJ2YWxpZGF0ZUFuZFBhcnNlUGFyYW1zIiwibGlrZXNfaWQiLCJ1bmRlZmluZWQiLCJwYXJzZWRVc2VySWQiLCJwYXJzZWRQb3N0SWQiLCJwYXJzZWRMaWtlc0lkIiwicGFyc2VkQ3JlYXRvcklkIiwicGFyc2VkUmVxdWVzdGVkVXNlcklkIiwicGFyc2VkTGltaXQiXSwic291cmNlUm9vdCI6IiJ9