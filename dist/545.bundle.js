"use strict";exports.id=545,exports.ids=[545],exports.modules={1976:(e,s,t)=>{t.d(s,{v:()=>l});var r=t(2613);const a=(0,t(7546).load)({CORS_ORIGIN:String,CORS_OPTIONS_SUCCESS_STATUS:Number,CORS_CREDENTIALS:Boolean,CORS_METHODS:String}),{CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c}=a;r.strict.ok(o,"CORS origin should be present"),r.strict.ok(n,"CORS options success status should be present"),r.strict.ok(i,"CORS credentials should be present"),r.strict.ok(c,"CORS methods should be present");const d={CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c};t(818).config();const l={origin:d.CORS_ORIGIN,methods:d.CORS_METHODS,credentials:d.CORS_CREDENTIALS,optionsSuccessStatus:d.CORS_OPTIONS_SUCCESS_STATUS}},3085:(e,s,t)=>{t.d(s,{L:()=>A});var r=t(2613);const a=(0,t(7546).load)({DB_HOST:String,DB_PORT:Number,DB_USER:String,DB_PASS:String,DB_NAME:String,DB_SOCKET_PATH:String,DB_SOCKET_TIMEOUT:Number,DB_COMPRESS:Boolean,DB_DEBUG:Boolean,DB_PERMIT_LOCAL_INFILE:Boolean,DB_TRACE:Boolean,DB_CHECK_DUPLICATE:Boolean,DB_SSL:Boolean,DB_SSL_CA:String,DB_SSL_KEY:String,DB_SSL_CERT:String,DB_CONNECTION_ATTRIBUTES:String,DB_CONNECTION_TIMEOUT:Number}),{DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:d,DB_SOCKET_PATH:l,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:g,DB_DEBUG:y,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:T,DB_CHECK_DUPLICATE:m,DB_SSL:E,DB_SSL_CA:h,DB_SSL_KEY:f,DB_SSL_CERT:_,DB_CONNECTION_ATTRIBUTES:w,DB_CONNECTION_TIMEOUT:S}=a;r.strict.ok(o,"Database host should be present"),r.strict.ok(n,"Database port should be present"),r.strict.ok(i,"Database user should be present"),r.strict.ok(c,"Database password should be present"),r.strict.ok(d,"Database name should be present");const A={DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:d,DB_SOCKET_PATH:l,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:g,DB_DEBUG:y,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:T,DB_CHECK_DUPLICATE:m,DB_CONNECTION_ATTRIBUTES:w,DB_CONNECTION_TIMEOUT:S,DB_SSL:E,DB_SSL_CA:h,DB_SSL_KEY:f,DB_SSL_CERT:_}},3101:(e,s,t)=>{t.d(s,{n:()=>E});var r=t(2613);const a=(0,t(7546).load)({JWT_SECRET:String,JWT_EXPIRES_IN:String,JWT_REFRESH_SECRET:String,JWT_REFRESH_EXPIRES_IN:String,JWT_REFRESH_MAX_AGE:Number,JWT_ALGORITHM:String,JWT_ISSUER:String,JWT_MAX_AGE:Number,JWT_HTTP_ONLY:Boolean,JWT_SAME_SITE:String,JWT_COOKIE_NAME:String,JWT_SECURE:Boolean}),{JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:d,JWT_ALGORITHM:l,JWT_ISSUER:u,JWT_MAX_AGE:g,JWT_HTTP_ONLY:y,JWT_SAME_SITE:p,JWT_COOKIE_NAME:T,JWT_SECURE:m}=a;r.strict.ok(o,"JWT secret should be present"),r.strict.ok(n,"JWT expires in should be present"),r.strict.ok(i,"JWT refresh secret should be present"),r.strict.ok(c,"JWT refresh expires in should be present"),r.strict.ok(l,"JWT algorithm should be present"),r.strict.ok(u,"JWT issuer should be present"),r.strict.ok(g,"JWT max age should be present"),r.strict.ok(y,"JWT http only should be present"),r.strict.ok(p,"JWT same site should be present"),r.strict.ok(T,"JWT cookie name should be present"),r.strict.ok(m,"JWT secure should be present"),r.strict.ok(d,"JWT refresh max age should be present");const E={JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:d,JWT_ALGORITHM:l,JWT_ISSUER:u,JWT_MAX_AGE:g,JWT_HTTP_ONLY:y,JWT_SAME_SITE:p,JWT_COOKIE_NAME:T,JWT_SECURE:m}},6184:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CI:()=>C,E0:()=>I,Eu:()=>U,Zv:()=>D,bI:()=>O,gg:()=>f,hv:()=>j,kL:()=>w,lM:()=>v,pD:()=>E,tY:()=>S,ys:()=>R,zX:()=>_,zh:()=>A});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(5595),d=t(6153),l=t(3101),u=t(452),g=t(2993),y=t(8995),p=t(581),T=t(9031),m=e([c,d,u,g,y,p]);[c,d,u,g,y,p]=m.then?(await m)():m,o().config();const E=async(e,s)=>{try{const{caption:t,location:r,tags:a}=e.body,o=e.cookies.jwt;if(!o)return void s.status(401).json({message:"Unauthorized"});i().verify(o,l.n.JWT_SECRET,(async(e,o)=>{if(e)return console.log(e.message),void s.status(401).json({message:"Unauthorized"});const n=o.id,i=await d.A.findByPk(n);if(!i)return void s.status(404).json({message:"User not found"});const l=await c.A.findImageByReferenceKey("user_id",n);if(!l)return s.status(404).json({message:"Image not found"});const g=await u.A.create({caption:t,imageURL:l.imageUrl,location:r,tags:a||"",created_At:new Date,creator_Id:i.id});if(g)return s.status(201).json({message:"Post created successfully",newPost:g}),g;s.status(400).json({message:"Error creating new post."})}))}catch(e){console.error("Error creating post:",e),s.status(500).json({message:"Internal server error"})}},h=async(e,s,t)=>{try{const e=await c.A.findOne({where:{imageUrl:t}});if(!e)return void s.status(404).json({message:"Image not found"});await e.destroy(),s.status(200).json({message:"Image deleted successfully"})}catch(e){console.error("Error deleting image:",e),s.status(500).json({message:"Internal server error"})}},f=async(e,s)=>{try{const{caption:t,location:r,tags:a,imageUrl:o}=e.body,n=parseInt(e.query.post_id,10);if(!n)return void s.status(400).json({message:"Post ID is required"});const c=e.cookies.jwt;if(!c)return void s.status(401).json({message:"Unauthorized"});i().verify(c,l.n.JWT_SECRET,(async(i,c)=>{if(i)return console.log(i.message),void s.status(401).json({message:"Unauthorized"});const l=c.id,y=await d.A.findByPk(l);if(!y)return void s.status(404).json({message:"User not found"});const p=await u.A.findOne({where:{id:n,creator_Id:l}});if(!p)return void s.status(404).json({message:"Post not found"});if(p.creator_Id!==y.id)return void s.status(403).json({message:"Unauthorized attempt!"});let T=p?.imageURL;if(o)try{const t=await(0,g.A)(e,s);if(!t)return void s.status(404).json({message:"Image not found"});T=t}catch(e){return void s.status(401).json({message:"Unauthorized"})}const m=await p.update({id:p.id,caption:t,imageURL:T,location:r,tags:a,created_At:new Date});return m?(s.status(200).json({message:"Post updated successfully",post:m}),m):(o&&await h(e,s,o),void s.status(400).json({message:"Error updating post"}))}))}catch(e){console.error("Error updating post:",e),s.status(500).json({message:"Internal server error"})}},_=async(e,s)=>{try{const e=await u.A.findAll({include:[{model:d.A,as:"User",attributes:["id","username","email","profilePic","bio","firstName","lastName","imageURL","avatarUrl"]}]});s.status(200).json({posts:e})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},w=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id,o=parseInt(e.body.post_id,10);if(isNaN(o))return void s.status(400).json({message:"Invalid post ID"});if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});if(await y.A.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already liked"});const i=await y.A.createLike({user_id:a,post_id:o,created_At:new Date});n.likes_Count||(n.likes_Count=0);const c=n.likes_Count+1;await n.update({likes_Count:c})?s.status(201).json({message:"Post liked successfully",like:i}):s.status(400).json({message:"Error liking post."})}))}catch(e){console.error("Error liking post:",e),s.status(500).json({message:"Internal server error"})}},S=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.query.user_id,10);if(!o)return void s.status(400).json({message:"post User ID is required"});const n=await d.A.findOne({where:{id:o}});if(!n)return void s.status(404).json({message:"User not found"});const i=parseInt(e.query.post_id,10);if(!i)return void s.status(400).json({message:"Post ID is required"});const c=await u.A.findByPk(i);c?s.status(200).json({post:c,requestedUser:n}):s.status(404).json({message:"Post not found here"})}))}catch(e){console.error("Error getting post:",e),s.status(500).json({message:"Internal server error"})}},A=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await y.A.findOne({where:{post_id:o,user_id:a}});i&&await i.destroy();let c=n.likes_Count||0;c>0&&(c-=1),await n.update({likes_Count:c}),await n.save(),s.status(200).json({message:i?"Like removed successfully":"Post liked successfully",post:n})}))}catch(e){console.error("Error toggling like:",e),s.status(500).json({message:"Internal server error"})}},I=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required"});if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await u.A.findByPk(o))return void s.status(404).json({message:"Post not found"});if(await p.A.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already saved"});const n=await p.A.createSave({id:a,user_id:a,post_id:o,saveDate:new Date});n?s.status(201).json({message:"Post saved successfully",save:n}):s.status(400).json({message:"Error saving post."})}))}catch(e){console.error("Error saving post:",e),s.status(500).json({message:"Internal server error"})}},D=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required"});if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await u.A.findByPk(o))return void s.status(404).json({message:"Post not found"});const n=await p.A.findOne({where:{post_id:o,user_id:a}});n&&await n.destroy(),s.status(200).json({message:n?"Post unsaved successfully":"Post not saved"})}))}catch(e){console.error("Error deleting saved post:",e),s.status(500).json({message:"Internal server error"})}},v=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});if(!await d.A.findByPk(r))return void s.status(404).json({message:"User not found"});const a=await p.A.getSavedPosts(r);s.status(200).json({savedPosts:a})}))}catch(e){console.error("Error getting saved posts:",e),s.status(500).json({message:"Internal server error"})}},R=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required from server"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await p.A.findOne({where:{post_id:o,user_id:a}});if(i&&await i.destroy(),n.imageURL){const e=await c.A.findOne({where:{imageUrl:n.imageURL}});e&&await e.destroy()}await n.destroy(),s.status(200).json({message:"Post deleted successfully"})}))}catch(e){console.error("Error deleting post:",e),s.status(500).json({message:"Internal server error"})}},U=async(e,s)=>{try{const{page:t=0,limit:r=10}=e.query,a=t?parseInt(t,10)*parseInt(r,10):0,o=await u.A.findAndCountAll({limit:parseInt(r,10),offset:a,order:[["created_At","DESC"]]});s.status(200).json({posts:o,page:parseInt(t,10),totalPages:Math.ceil(o.count/parseInt(r,10)),totalCount:o.count})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},C=async(e,s)=>{try{const{searchValue:t}=e.body;if(!t)return void s.status(400).json({message:"Search value is required"});const r=await u.A.findAll({where:{[T.Op.or]:[{caption:{[T.Op.like]:`%${t}%`}},{tags:{[T.Op.like]:`%${t}%`}},{location:{[T.Op.like]:`%${t}%`}}]}});s.status(200).json({posts:r})}catch(e){console.error("Error searching posts:",e),s.status(500).json({message:"Internal server error"})}},j=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,l.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});const a=await u.A.findAll({where:{creator_Id:r}});s.status(200).json({posts:a})}))}catch(e){console.error("Error getting user posts:",e),s.status(500).json({message:"Internal server error"})}},O=async(e,s)=>{try{const e=await u.A.findAll({order:[["likes_Count","DESC"]]});s.status(200).json({popularPosts:e})}catch(e){console.error("Error getting popular posts:",e),s.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},9024:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Be:()=>m,TU:()=>y,Ub:()=>T,pH:()=>p});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(16),l=t(80),u=t(2300),g=e([l]);l=(g.then?(await g)():g)[0],o().config();const y=async(e,s)=>{try{const{name:t,username:r,email:a,password:o}=e.body;if(!(t&&r&&a&&o))return(0,u.H4)(new Error("New User validation error"),s);if(await l.A.findOne({where:{email:a}}))return(0,u.H4)(new Error("UserRegistrations.email: User already exists "),s);const n=await l.A.create({newUser:t,username:r,email:a,hashedpassword:o,createdAt:new Date}),i=(0,d.Jj)({id:n.id});s.cookie("jwt",i,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(201).json({id:n.id,name:n.newUser,username:n.username,email:n.email,token:i})}catch(e){(0,u.H4)(e,s)}},p=async(e,s)=>{try{const{email:t,password:r}=e.body;if(!t||!r)return(0,u.H4)(new Error("Login Validation Error!"),s);const a=await l.A.loginUser(t,r);if(!a)throw new Error("User not found");const o=(0,d.Jj)({id:a.id}),n=(0,d.v3)({id:a.id});console.log("User logged in:",n),s.cookie("jwt",o,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.cookie("refreshToken",n,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.setHeader("Authorization",`Bearer ${o}`),s.locals.user=a,s.json({token:o,refreshToken:n,user:a.id})}catch(e){(0,u.H4)(e,s)}},T=async(e,s)=>{try{const t=e.cookies.jwt,r=e.cookies.refreshToken;if(!t&&!r)return void s.status(400).json({message:"No tokens provided!"});s.cookie("jwt","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.cookie("refreshToken","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.status(200).json({message:"User logged out"})}catch(e){(0,u.H4)(e,s)}},m=async(e,s)=>{const t=e.cookies.refreshToken;t?i().verify(t,c.n.JWT_REFRESH_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=t.id;if(console.log("User ID:",e),!e)return void s.status(400).json({message:"User ID is required"});const r=await l.A.findByPk(e);if(!r)return s.status(404).json({message:"User not found"});const a=i().sign({id:r.id},c.n.JWT_SECRET,{expiresIn:c.n.JWT_EXPIRES_IN,algorithm:c.n.JWT_ALGORITHM,issuer:c.n.JWT_ISSUER});s.cookie("jwt",a,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(200).json({token:a,user:r.id})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}})):s.status(401).json({message:"Unauthorized"})};r()}catch(e){r(e)}}))},2993:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>d});var a=t(5595),o=t(829),n=t.n(o),i=(t(4469),t(6153)),c=e([a,i]);[a,i]=c.then?(await c)():c;const d=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});n().verify(t,process.env.JWT_SECRET,(async(e,t)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const r=t.id;if(!r)return void s.status(401).json({message:"Unauthorized"});if(!await i.A.findByPk(r))return void s.status(401).json({message:"Unauthorized"});const o=await a.A.findImageByReferenceKey("user_id",r);o?s.status(200).json({imageUrl:o.imageUrl}):s.status(200).json({message:"No image found"})}))}catch(e){throw console.error("Error getting image preview:",e),new Error("Failed to get image preview")}};r()}catch(e){r(e)}}))},4361:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CF:()=>p,TK:()=>m,k7:()=>T});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(6153),l=t(2993),u=t(452),g=t(8995),y=e([d,l,u,g]);[d,l,u,g]=y.then?(await y)():y,o().config();const p=async(e,s)=>{const t=e.cookies.jwt;if(t)try{i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!await d.A.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.query.limit,10)||10,n=await d.A.getAllUsers(o,["id","firstName","lastName","username","imageURL","avatarUrl","bio"]);s.status(200).json({users:n})}))}catch(e){console.error("Error getting all users:",e),s.status(500).json({message:"Internal server error"})}else s.status(401).json({message:"Unauthorized"})},T=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id,o=parseInt(e.query.user_id,10),n=await d.A.findByPk(a);if(!n)return void s.status(404).json({message:"User not found"});if(n.id!==a)return void s.status(403).json({message:"Unauthorized attempt!"});const i=await d.A.findOne({where:{id:o}});if(!i)return void s.status(404).json({message:"Requested User not found"});const c=await u.A.getPostByReferenceID(o);if(!c)return void s.status(400).json({message:"Post ID is required"});const l=await g.A.findByPk(a);l?s.status(200).json({requestedUser:i,post:c,userLikes:l,requestedUserId:o}):s.status(400).json({message:"User ID is required S routes"})}))}catch(e){console.error("Error getting user by ID:",e),s.status(500).json({message:"Internal server error"})}},m=async(e,s)=>{try{const{id:t}=e.params,r=e.body,a=e.cookies.jwt;if(!a)return void s.status(401).json({message:"Unauthorized"});i().verify(a,c.n.JWT_SECRET,(async(a,o)=>{if(a)return console.log(a.message),void s.status(401).json({message:"Unauthorized"});const n=o.id,i=await d.A.findByPk(n);if(!i)return void s.status(404).json({message:"User not found"});if(i.id!==Number(t))return void s.status(403).json({message:"Unauthorized attempt!"});let{imageUrl:c}=e.body;if(c)try{const t=await(0,l.A)(e,s);if(!t)return void s.status(404).json({message:"Image not found"});r.imageUrl=t}catch(e){return console.error("Error fetching image preview URL:",e),void s.status(500).json({message:"Error updating profile picture"})}const[u,g]=await d.A.updateUser(Number(t),r);0!==u?s.status(200).json({updatedUsers:g}):s.status(400).json({message:"Error updating user"})}))}catch(e){console.error("Error updating user:",e),s.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},2785:(e,s,t)=>{t.d(s,{TA:()=>n});var r=t(1763),a=t.n(r),o=t(9469);const n=a()({windowMs:o._.RARE_LIMIT_WINDOW_MS,max:o._.MAX,message:o._.RARE_LIMIT_MESSAGE,statusCode:o._.RARE_LIMIT_CODE,handler:(e,s)=>{s.status(o._.RARE_LIMIT_CODE).json({message:o._.RARE_LIMIT_MESSAGE})},keyGenerator:async(e,s)=>e.ip?e.ip.replace(/:\d+[^:]*$/,""):(s.status(500).send({message:"Warning: request.ip is missing!"}),e.socket.remoteAddress)})},16:(e,s,t)=>{t.d(s,{Jj:()=>c,v3:()=>d});var r=t(818),a=t.n(r),o=t(829),n=t.n(o),i=t(3101);a().config();const c=e=>{try{return n().sign(e,i.n.JWT_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}},d=e=>{try{return n().sign(e,i.n.JWT_REFRESH_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_REFRESH_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}}},2051:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{FH:()=>u});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),d=t(6153),l=e([d]);d=(l.then?(await l)():l)[0],o().config();const u=async(e,s,t)=>{try{const r=e.cookies.jwt;if(!r)return s.locals.user=null,t();i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),s.locals.user=null,t();try{const e=await d.A.findByPk(r.id);console.log("decodedToken:",r),s.locals.user=e||null}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}t()}))}catch(e){console.error("Error verifying user:",e),s.locals.user=null,t()}};r()}catch(e){r(e)}}))},1125:(e,s,t)=>{t.d(s,{r:()=>a});var r=t(128);async function a(){const e=(0,r.J)();let s=0;for(;s<10;)try{return await e.authenticate(),console.log("Database connection established, Starting Server....."),await e.sync({force:!0}),console.log("Drop and re-sync db."),e}catch(e){console.error("Database connection failed:",e),s++,await new Promise((e=>setTimeout(e,1e3)))}throw console.error("Max attempts reached, database connection failed"),new Error("Database connection failed")}},128:(e,s,t)=>{t.d(s,{J:()=>c});var r=t(9031),a=t(3085),o=t(3024),n=t.n(o);const i={Dialect:"mariadb",host:a.L.DB_HOST||"localhost",username:a.L.DB_USER||"metalbrain",password:a.L.DB_PASS||"password",database:a.L.DB_NAME||"FindSomeOne",socketPath:a.L.DB_SOCKET_PATH||"/var/run/mysqld/mysqld.sock",socketTimeout:a.L.DB_SOCKET_TIMEOUT||1e3,compress:a.L.DB_COMPRESS||!1,debug:a.L.DB_DEBUG||!1,permitLocalInfile:a.L.DB_PERMIT_LOCAL_INFILE||!1,trace:a.L.DB_TRACE||!0,checkDuplicate:a.L.DB_CHECK_DUPLICATE||!1,connectAttributes:JSON.parse(a.L.DB_CONNECTION_ATTRIBUTES||"{}"),connectionTimeout:a.L.DB_CONNECTION_TIMEOUT||1e3,port:a.L.DB_PORT||3306,ssl:a.L.DB_SSL||!1,dialectOptions:{ssl:{ca:a.L.DB_SSL_CA?n().readFileSync(a.L.DB_SSL_CA).toString():"",key:a.L.DB_SSL_KEY?n().readFileSync(a.L.DB_SSL_KEY).toString():"",cert:a.L.DB_SSL_CERT?n().readFileSync(a.L.DB_SSL_CERT).toString():""}}};function c(){return new r.Sequelize(i.database,i.username,i.password,{host:i.host,dialect:i.Dialect,port:i.port,ssl:i.ssl,dialectOptions:i.dialectOptions})}},3121:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>d});var a=t(423),o=t(5520),n=t(3136),i=t(6760),c=t(3085);const e=(0,i.dirname)((0,n.fileURLToPath)("file:///home/babsdevsys/appV-1/src/server/loaders/dataLoader/sequlize.ts")),d=new a.Sequelize({dialect:o.MariaDbDialect,host:c.L.DB_HOST,user:c.L.DB_USER,password:c.L.DB_PASS,database:c.L.DB_NAME,port:c.L.DB_PORT,ssl:c.L.DB_SSL,models:await(0,a.importModels)(e+"/src/server/models/**/*.model.{ts,js}")});r()}catch(e){r(e)}}),1)},6633:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>w});var a=t(7252),o=t.n(a),n=t(6898),i=t.n(n),c=t(3268),d=t.n(c),l=t(2525),u=t.n(l),g=t(2096),y=t.n(g),p=t(9469),T=t(4388),m=t(2785),E=t(2300),h=t(6928),f=t.n(h),_=e([T]);async function w({app:e}){e.get("/status",((e,s)=>s.sendStatus(200).end())),e.use(((e,s,t)=>(s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?s.sendStatus(204):t()))),e.use(d().urlencoded({extended:!0})),e.use(o().json()),e.use(o().urlencoded({extended:!0})),e.use(i()()),e.use(d().json()),e.use(o().static(f().join(__dirname,"dist"))),e.use("/assets",o().static(f().join(__dirname,"assets")));const s=p._.TRUST_PROXY||"false",t=p._.NUMBER_OF_PROXIES||1;return s?e.set("trust proxy",!0):"false"===s?e.set("trust proxy",!1):(e.set("trust proxy",s),e.set("trust proxy",t)),e.set("trust proxy",t),e.get("/ip",((e,s)=>s.send(e.ip))),e.use(u()({contentSecurityPolicy:!1})),e.use(y()(p._.MORGAN)),e.use(m.TA),e.use(T.Q),e.use(E.sh),e}T=(_.then?(await _)():_)[0],r()}catch(S){r(S)}}))},1545:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.r(s),t.d(s,{default:()=>l});var a=t(6633),o=t(3121),n=t(1125),i=t(2541),c=t(2273),d=e([a,o,i]);async function l({app:e}){await(0,i.K)(),await(0,n.r)(),o.A,await(0,a.A)({app:e}),(0,c.A)(),console.log("Express Server Intialized!")}[a,o,i]=d.then?(await d)():d,r()}catch(u){r(u)}}))},5595:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async findImageById(e){return await this.findByPk(e)}static async findImageByReferenceKey(e,s){try{return await this.findOne({where:{[e]:s},order:[["created_At","DESC"]]})}catch(t){throw console.error(`Error finding image by reference key: ${e}, value: ${s}`,t),t}}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:d,modelName:"ImageStorages",timestamps:!1}),l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"},allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:d,modelName:"ImageStorages",timestamps:!1}),l.afterCreate((async e=>{const s=await n.A.findByPk(e.user_id);s&&(s.imageURL=e.imageUrl,await s.save())})),n.A.hasMany(l,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),i.A.hasMany(l,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(n.A,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(i.A,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await d.sync({force:!1}).then((()=>{console.log("New Image synced successfully")})).catch((e=>{console.error("Error syncing new image:",e)}));const u=l;r()}catch(e){r(e)}}),1)},8995:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async createLike(e){return await this.create(e)}static async findLikeById(e){return await this.findByPk(e)}static async findLikeByReferenceKey(e,s){return await this.findOne({where:{[e]:s}})}static async findAllLikesByReferenceKey(e,s){return await this.findAll({where:{[e]:s}})}static async deleteLikeByReferenceKey(e,s){await this.destroy({where:{[e]:s}})}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!0}},{sequelize:d,modelName:"Likes",timestamps:!1,freezeTableName:!0}),n.A.hasMany(l,{foreignKey:"user_id",onDelete:"CASCADE"}),l.belongsTo(n.A,{foreignKey:"user_id"}),i.A.hasMany(l,{foreignKey:"post_id",onDelete:"CASCADE"}),l.belongsTo(i.A,{foreignKey:"post_id"}),l.sync({force:!1}).then((()=>{console.log("Like synced successfully")})).catch((e=>{console.error("Error syncing like:",e)}));const u=l;r()}catch(e){r(e)}}))},452:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var a=t(9031),o=t(128),n=t(6153),i=e([n]);n=(i.then?(await i)():i)[0];const c=(0,o.J)();class d extends a.Model{static async createPost(e){return await this.create(e)}static async updatePost(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}static async deletePost(e){const s=await this.findOne({where:{id:e}});s&&await s.destroy()}static async getAllPosts(){return await this.findAll()}static async getInfinitePosts(e,s){return await this.findAll({offset:e,limit:s})}static async getPostByID(e){return await this.findOne({where:{id:e}})}static async getUserPosts(e){return await this.findAll({where:{creator_Id:e}})}static async getSavedPost(e){return await this.findOne({where:{id:e}})}static async getPostByReferenceID(e){return await this.findOne({where:{creator_Id:e}})}}d.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},caption:{type:a.DataTypes.STRING,allowNull:!1},imageURL:{type:a.DataTypes.STRING,allowNull:!0},location:{type:a.DataTypes.STRING,allowNull:!0},tags:{type:a.DataTypes.STRING,allowNull:!1},likes_Count:{type:a.DataTypes.INTEGER,allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!0},creator_Id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}}},{sequelize:c,modelName:"Posts",timestamps:!1}),d.createPost=async function(e){try{return await this.create(e)}catch(e){throw console.error("Error creating new post:",e),e}},d.updatePost=async function(e,s){try{const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}catch(e){throw console.error("Error updating post:",e),e}},d.getInfinitePosts=async function(e,s){try{return await this.findAll({offset:e,limit:s})}catch(e){throw console.error("Error getting infinite posts:",e),e}},d.getPostByID=async function(e){try{return await this.findOne({where:{id:e}})}catch(e){throw console.error("Error getting post by ID:",e),e}},d.getUserPosts=async function(e){try{return await this.findAll({where:{creator_Id:e}})}catch(e){throw console.error("Error getting user posts:",e),e}},n.A.hasMany(d,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(n.A,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await c.sync({force:!1}).then((()=>{console.log("Post synced successfully")})).catch((e=>{console.error("Error syncing Post:",e)}));const l=d;r()}catch(e){r(e)}}),1)},581:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const d=(0,o.J)();class l extends a.Model{static async createSave(e){return await this.create(e)}static async checkIfSaved(e,s){return!!await this.findOne({where:{user_id:e,post_id:s}})}static async deleteSavedPost(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()}static async getSavedPosts(e){return await this.findAll({where:{user_id:e},include:[{model:i.A,as:"Post"}]})}}l.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},saveDate:{type:a.DataTypes.DATE,allowNull:!0,defaultValue:a.DataTypes.NOW}},{sequelize:d,tableName:"Saves",timestamps:!1,freezeTableName:!0}),l.deleteSavedPost=async function(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()},l.belongsTo(n.A,{foreignKey:"user_id",targetKey:"id"}),l.belongsTo(i.A,{foreignKey:"post_id",targetKey:"id"}),l.sync({force:!1}).then((()=>{console.log("Save Post synced successfully")})).catch((e=>{console.error("Error syncing Save post:",e)}));const u=l;r()}catch(e){r(e)}}))},6153:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>n});var a=t(9031);const e=(0,t(128).J)();class o extends a.Model{static async getUserByID(e){return await this.findOne({where:{id:e}})}static async getAllUsers(e,s){return await this.findAll({limit:e,attributes:s})}static async updateUser(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}}o.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},lastName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},username:{type:a.DataTypes.STRING,allowNull:!1,unique:!0,validate:{is:/^[a-zA-Z0-9_]*$/,len:[3,20]}},email:{type:a.DataTypes.STRING,unique:!0,allowNull:!1,validate:{isEmail:!0,len:[5,50],notEmpty:!0}},hashedpassword:{type:a.DataTypes.STRING(64)},status:{type:a.DataTypes.STRING,allowNull:!1,defaultValue:"unverified"},bio:{type:a.DataTypes.STRING,defaultValue:"This is a new user."},join:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},avatarUrl:{type:a.DataTypes.STRING},imageURL:{type:a.DataTypes.STRING},profilePic:{type:a.DataTypes.STRING},label:{type:a.DataTypes.STRING,defaultValue:"New User"},last_activity:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},updated_at:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},UserRegistrationID:{type:a.DataTypes.UUID,allowNull:!0,references:{model:"UserRegistration",key:"id"}}},{sequelize:e,modelName:"Users",timestamps:!1,updatedAt:"updated_at"}),await e.sync({force:!1}).then((()=>{console.log("New User synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const n=o;r()}catch(e){r(e)}}),1)},80:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>y});var a=t(9031),o=t(128),n=t(5486),i=t.n(n),c=t(8635),d=t(6153),l=e([d]);d=(l.then?(await l)():l)[0];const u=(0,o.J)();class g extends a.Model{static async loginUser(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}}g.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},newUser:{type:a.DataTypes.STRING,allowNull:!1},username:{type:a.DataTypes.STRING,allowNull:!1},email:{type:a.DataTypes.STRING,allowNull:!1},hashedpassword:{type:a.DataTypes.STRING,allowNull:!1},createdAt:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:u,modelName:"UserRegistration",createdAt:"createdAt",timestamps:!1,freezeTableName:!0}),g.beforeCreate((async e=>{try{if(e){const s=i().genSaltSync(10),t=await i().hash(String(e.hashedpassword),s);e.hashedpassword=t}}catch(e){throw console.error("Error hashing password:",e),new Error("Error hashing password")}})),g.afterCreate((async e=>{try{if(e){const s=e.newUser?.lastIndexOf(" "),t=-1!==s?e.newUser?.slice(0,s):e.newUser,r=-1!==s?e.newUser?.slice(s??1):"",a=(0,c.q)(e.username);await d.A.upsert({firstName:t,lastName:r,username:e.username,email:e.email,hashedpassword:e.hashedpassword,status:"unverified",bio:"I am a new user.",join:new Date,avatarUrl:a,imageURL:null,profilePic:null,label:"New User",last_activity:new Date,updated_at:new Date,UserRegistrationID:e.id})}}catch(e){throw console.error("Error registering new user:",e),new Error("Error registering new user")}})),g.loginUser=async function(e,s){try{const t=await this.findOne({where:{email:e}});if(t){if(await i().compare(s,t.hashedpassword))return t;throw new Error("Incorrect password")}throw new Error("Incorrect email")}catch(e){throw console.error("Error logging in user:",e),new Error("User not found")}},g.logoutUser=async function(e){try{return await this.findOne({where:{email:e}})}catch(e){throw console.error("Error logging out user:",e),new Error("User not found")}},await u.sync({force:!1}).then((()=>{console.log("New User Registered synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const y=g;r()}catch(e){r(e)}}),1)},2317:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>m});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(1976),d=t(9024),l=t(3268),u=t.n(l),g=t(6898),y=t.n(g),p=e([d]);d=(p.then?(await p)():p)[0];const T=o().Router();T.use(i()(c.v)),T.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),T.use(u().urlencoded({extended:!0})),T.use(y()()),T.use(o().json()),T.use(u().json()),T.post("/api/register",d.TU),T.post("/api/login",d.pH),T.get("/api/logout",d.Ub),T.post("/api/refresh-token",d.Be);const m=T;r()}catch(e){r(e)}}))},6010:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>w});var a=t(818),o=t.n(a),n=t(7252),i=t.n(n),c=t(8577),d=t.n(c),l=t(6153),u=t(3268),g=t.n(u),y=t(6898),p=t.n(y),T=t(2051),m=t(829),E=t.n(m),h=t(3101),f=e([l,T]);[l,T]=f.then?(await f)():f;const _=i().Router();o().config(),_.use(d()()),_.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),_.use(g().urlencoded({extended:!0})),_.use(p()()),_.use(i().json()),_.use(g().json()),_.get("/api/getUser",T.FH,(async(e,s,t)=>{const r=e.cookies.jwt;r?E().verify(r,h.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=await l.A.findByPk(r.id);if(!e)return void s.status(400).json({message:"User ID is required S routes"});s.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}return t()})):s.status(401).json({message:"Unauthorized"})}));const w=_;r()}catch(e){r(e)}}))},8358:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>I});var a=t(818),o=t.n(a),n=t(7252),i=t.n(n),c=t(8577),d=t.n(c),l=t(1976),u=t(3268),g=t.n(u),y=t(6898),p=t.n(y),T=t(6020),m=t(2993),E=t(5595),h=t(829),f=t.n(h),_=t(6153),w=t(3101),S=e([m,E,_]);[m,E,_]=S.then?(await S)():S,o().config();const A=i().Router();A.use(d()(l.v)),A.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),s.header("encoding","multipart/form-data"),t()})),A.use(g().urlencoded({extended:!0})),A.use(p()()),A.use(i().json()),A.use(g().json()),A.post("/api/uploadImage",T.A.single("image"),(async(e,s)=>{try{console.log("File uploaded:",e.file);const t=`assets/images/${e.file?.filename}`,r=e.cookies.jwt,a=parseInt(e.body.postId,10);if(!r)return void s.status(401).json({message:"Unauthorized"});f().verify(r,w.n.JWT_SECRET,(async(e,r)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const o=r.id;o&&await _.A.findByPk(o)?await E.A.create({imageUrl:t,user_id:o||null,post_id:a||null,created_At:new Date})?s.status(200).json({message:"Image uploaded successfully",imageUrl:t}):s.status(500).send({error:"Error creating image record"}):s.status(401).json({message:"Unauthorized"})}))}catch(e){console.error("Error uploading image:",e),s.status(500).json({message:"Internal server error"})}})),A.get("/api/sendImageUrl",m.A);const I=A;r()}catch(e){r(e)}}))},9785:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>m});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(6898),d=t.n(c),l=t(3268),u=t.n(l),g=t(6184),y=t(2051),p=e([g,y]);[g,y]=p.then?(await p)():p;const T=o().Router();T.use(i()()),T.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),T.use(u().urlencoded({extended:!0})),T.use(d()()),T.use(o().json()),T.use(u().json()),T.post("/api/createPost",g.pD),T.put("/api/updatePost",g.gg),T.delete("/api/deletePost",g.ys),T.get("/api/getAllPosts",g.zX),T.get("/api/getPostById",y.FH,g.tY),T.post("/api/likePost",g.kL),T.post("/api/savePost",y.FH,g.E0),T.get("/api/getSavedPosts",y.FH,g.lM),T.delete("/api/deleteSavedPost",g.Zv),T.delete("/api/deleteLikePost",g.zh),T.get("/api/getInfinitePosts",g.Eu),T.post("/api/searchPosts",g.CI),T.get("/api/getUserPosts",g.hv),T.get("/api/getPopularPosts",g.bI);const m=T;r()}catch(e){r(e)}}))},4388:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Q:()=>E});var a=t(7252),o=t.n(a),n=t(9469),i=t(2317),c=t(6010),d=t(4704),l=t(3268),u=t.n(l),g=t(6898),y=t.n(g),p=t(9785),T=t(8358),m=e([i,c,d,p,T]);[i,c,d,p,T]=m.then?(await m)():m;const E=o().Router();E.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),E.use(u().urlencoded({extended:!0})),E.use(y()()),E.use(o().json()),E.use(u().json()),E.get("/",((e,s)=>{s.send({status:`${n._.NODE_ENV}`,message:`${n._.RESPONSE_STATUS}`,name:`${n._.APP_NAME}`})})),E.use(i.A),E.use(p.A),E.use(T.A),E.use(d.A),E.use(c.A),r()}catch(e){r(e)}}))},4704:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>S});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(3268),d=t.n(c),l=t(6898),u=t.n(l),g=t(4361),y=t(2051),p=t(829),T=t.n(p),m=t(3101),E=t(6153),h=t(8995),f=t(452),_=e([g,y,E,h,f]);[g,y,E,h,f]=_.then?(await _)():_;const w=o().Router();w.use(i()()),w.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),w.use(d().urlencoded({extended:!0})),w.use(u()()),w.use(o().json()),w.use(d().json()),w.get("/api/getCurrentUser",y.FH,(async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});T().verify(t,m.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(r)try{const e=await E.A.findByPk(r);if(!e)return void s.status(400).json({message:"User ID is required S routes"});const t=await f.A.getPostByReferenceID(r);if(!t)return void s.status(400).json({message:"Post ID is required"});const a=await h.A.findByPk(r);if(!a)return void s.status(400).json({message:"User ID is required S routes"});s.status(200).json({currentUser:e,post:t,userLikes:a})}catch(e){throw new Error(e)}else s.status(400).json({message:"User ID is required"})}))}catch(e){s.status(400).json({message:"User ID is required"})}})),w.get("/api/getAllUsers",g.CF),w.get("/api/getUserByID",g.k7),w.get("/api/updateUser",g.TK);const S=w;r()}catch(e){r(e)}}))},6020:(e,s,t)=>{t.d(s,{A:()=>g});var r=t(8461),a=t.n(r),o=t(6928),n=t.n(o),i=t(7189),c=t(9896),d=t.n(c);const l="/home/babsdevsys/appV-1/public/assets/images";d().existsSync(l)||d().mkdirSync(l,{recursive:!0});const u=a().diskStorage({destination:function(e,s,t){t(null,l)},filename:function(e,s,t){const r=Date.now()+"-"+Math.round(1e9*Math.random());t(null,s.fieldname+"-"+r+n().extname(s.originalname))}}),g=a()({storage:u,limits:{fileSize:1e7},fileFilter:function(e,s,t){const r=/jpeg|jpg|png|svg/,a=r.test(s.mimetype),o=r.test(n().extname(s.originalname).toLowerCase());if(a&&o)return t(null,!0);(async(e,s)=>{try{if(!(await(0,i.validateMIMEType)(e.path,{originalFilename:e.originalname,allowMimeTypes:["image/jpeg","image/png","image/svg+xml"]})).ok)return s(new Error("Invalid file type"));s(null,!0)}catch(e){console.error("Error validating file type:",e),s(new Error("Error validating file type"))}})(s.path,t)}})},2273:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(643);function a(){return new Promise((e=>{setTimeout((()=>{e()}),1e3)}))}new r.PerformanceObserver((e=>{e.getEntries().forEach((e=>{console.log(`${e.name}: ${e.duration}ms`)})),r.performance.clearMarks()})).observe({type:"measure"});const o=async function(){try{r.performance.mark("Loader Start",{detail:"Loader started"}),await a(),r.performance.mark("Task 1 End",{detail:"Task 1 completed"}),await a(),r.performance.mark("Task 2 End",{detail:"Task 2 completed"});const e=r.performance.measure("Task 2 Duration","Task 1 End","Task 2 End");console.log(e.duration),r.performance.mark("Loader End"),r.performance.measure("Total Loader Duration","Loader Start","Loader End")}catch(e){console.error("Error in loader:",e)}}},2541:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{K:()=>c});var a=t(128),o=t(5595),n=e([o]);o=(n.then?(await n)():n)[0];const i=(0,a.J)();async function c(){const e=await i.transaction();try{await o.A.truncate({transaction:e}),await e.commit(),console.log("Tables have been truncated...")}catch(s){await e.rollback(),console.error("Error truncating tables:",s)}}r()}catch(d){r(d)}}))},8635:(e,s,t)=>{function r(e){const s=e.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");return`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&size=200&background=random&color=fff`}t.d(s,{q:()=>r}),t(6982)},2300:(e,s,t)=>{t.d(s,{H4:()=>c,sh:()=>u});var r=t(1708),a=t.n(r),o=t(9896),n=t.n(o),i=t(9469);const c=(e,s)=>{console.error(e.message);let t={};e.message.includes("New User validation error")&&(t={name:"Name is required",username:"username is required",email:"email is required",password:"password is required"}),e.message.includes("UserRegistrations.email")&&(t.email="Email is already registered"),e.message.includes("incorrect email")&&(t.email="email is not registered"),e.message.includes("Incorrect password")&&(t.password="password is incorrect"),"SequelizeValidationError"===e.name&&e.error&&(t=e.error.reduce(((e,s)=>(e[s.path]=s.message,e)),{})),s.status(e.code||500).json({errors:t})};function d(e){const s=`${(new Date).toISOString()} - ${e.message}\n${e.stack}\n`;n().appendFileSync("error.log",s)}const l=new Map;function u(e,s,t,r){d(e),t.status(500).json({message:"An unexpected error occurred"}),r(e)}a().on("unhandledRejection",((e,s)=>{console.error("Unhandled Rejection at:",s,"reason:",e),l.set(s,e)})),a().on("rejectionHandled",(e=>{l.delete(e)})),a().on("unhandledRejection",((e,s)=>{d(e),console.error("Unhandled Rejection at:",s,"reason:",e),a().exit(1)})),a().on("uncaughtException",(e=>{d(e),console.error("Uncaught Exception:",e),a().exit(1)})),a().on("uncaughtException",(e=>{n().writeSync(a().stderr.fd,`Caught exception: ${e}\nException Origin: ${origin}\n`)})),setTimeout((()=>{console.log("This will still run.")}),i._.ERROR_TIMEOUT)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LHFCQUFxQjVWLHdCQUErQnBELFdBQVcsSUFFbkd5TSxZQUFXLEtBQ1BuSixRQUFRQyxJQUFJLHVCQUF1QixHQUNwQyxJQUFJMFYsYyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2NvcnNFVk4udHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb25maWcvY29yT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9kYXRhYmFzZUVOVi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9qd3RFTlYudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy9Qb3N0Q29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvaW1hZ2VDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2F1dGgvaXBDb25maWcudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2F1dGgvand0R2VuZXJhdG9yLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL3VzZXJBdXRoLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9kYXRhTG9hZGVyL21hcmlhZGIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVsaXplLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9leHByZXNzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9pbmRleC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy9pbWFnZS5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy9saWtlUG9zdC5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy9wb3N0Lm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3NhdmVQb3N0Lm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3VzZXIubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvdXNlclJlZ2lzdGVyLm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL2F1dGhSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvY3VycmVudFVzZXJSb3V0ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9pbWFnZVJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9wb3N0Um91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL3JvdXRlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy91c2VyUm91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvc2VydmljZXMvbXVsdGVyLmNvbmZpZy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3NlcnZpY2VzL3BlcmZvcm1hbmNlLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvc2VydmljZXMvdHJ1bmNhdGUudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci91dGlscy9hdmF0YXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci91dGlscy9lcnJvckhhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc3RyaWN0IGFzIGFzc2VydCB9IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSAndHMtZG90ZW52JztcbmNvbnN0IGNvcnNTY2hlbWFFTlYgPSBsb2FkKHtcbiAgICAvKiBMb2FkIENPUlMgKi9cbiAgICBDT1JTX09SSUdJTjogU3RyaW5nLFxuICAgIENPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUzogTnVtYmVyLFxuICAgIENPUlNfQ1JFREVOVElBTFM6IEJvb2xlYW4sXG4gICAgQ09SU19NRVRIT0RTOiBTdHJpbmcsXG59KTtcbi8vIGRlc3RydWN0dXJlIHRoZSBDT1JTIHNjaGVtYVxuY29uc3QgeyBDT1JTX09SSUdJTiwgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLCBDT1JTX0NSRURFTlRJQUxTLCBDT1JTX01FVEhPRFMsIH0gPSBjb3JzU2NoZW1hRU5WO1xuLy8gYXNzZXJ0IHRoYXQgdGhlIENPUlMgc2NoZW1hIGlzIHByZXNlbnRcbmFzc2VydC5vayhDT1JTX09SSUdJTiwgJ0NPUlMgb3JpZ2luIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLCAnQ09SUyBvcHRpb25zIHN1Y2Nlc3Mgc3RhdHVzIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soQ09SU19DUkVERU5USUFMUywgJ0NPUlMgY3JlZGVudGlhbHMgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX01FVEhPRFMsICdDT1JTIG1ldGhvZHMgc2hvdWxkIGJlIHByZXNlbnQnKTtcbi8vIGV4cG9ydCB0aGUgQ09SUyBzY2hlbWFcbmV4cG9ydCBjb25zdCBjb3JzRU5WID0ge1xuICAgIENPUlNfT1JJR0lOLFxuICAgIENPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUyxcbiAgICBDT1JTX0NSRURFTlRJQUxTLFxuICAgIENPUlNfTUVUSE9EUyxcbn07XG4vLyBleHBvcnQgdGhlIENPUlMgc2NoZW1hXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgY29yc0VOVixcbn07XG4iLCIvLyBFeHBvcnQgY29yT3B0aW9ucyBvYmplY3Qgd2l0aCBvcmlnaW4gYW5kIG9wdGlvbnNTdWNjZXNzU3RhdHVzIHByb3BlcnRpZXNcbnJlcXVpcmUoJ2RvdGVudicpLmNvbmZpZygpO1xuaW1wb3J0IHsgY29yc0VOViB9IGZyb20gJy4vY29yc0VWTic7XG5jb25zdCBjb3JPcHRpb25zID0ge1xuICAgIG9yaWdpbjogY29yc0VOVi5DT1JTX09SSUdJTixcbiAgICBtZXRob2RzOiBjb3JzRU5WLkNPUlNfTUVUSE9EUyxcbiAgICBjcmVkZW50aWFsczogY29yc0VOVi5DT1JTX0NSRURFTlRJQUxTLFxuICAgIG9wdGlvbnNTdWNjZXNzU3RhdHVzOiBjb3JzRU5WLkNPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUyxcbn07XG5leHBvcnQgeyBjb3JPcHRpb25zIH07XG4iLCJpbXBvcnQgeyBzdHJpY3QgYXMgYXNzZXJ0IH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IGxvYWQgfSBmcm9tICd0cy1kb3RlbnYnO1xuY29uc3QgZGF0YVNjaGVtYUVOViA9IGxvYWQoe1xuICAgIC8qIExvYWQgRGF0YWJhc2UgKi9cbiAgICBEQl9IT1NUOiBTdHJpbmcsXG4gICAgREJfUE9SVDogTnVtYmVyLFxuICAgIERCX1VTRVI6IFN0cmluZyxcbiAgICBEQl9QQVNTOiBTdHJpbmcsXG4gICAgREJfTkFNRTogU3RyaW5nLFxuICAgIERCX1NPQ0tFVF9QQVRIOiBTdHJpbmcsXG4gICAgREJfU09DS0VUX1RJTUVPVVQ6IE51bWJlcixcbiAgICBEQl9DT01QUkVTUzogQm9vbGVhbixcbiAgICBEQl9ERUJVRzogQm9vbGVhbixcbiAgICBEQl9QRVJNSVRfTE9DQUxfSU5GSUxFOiBCb29sZWFuLFxuICAgIERCX1RSQUNFOiBCb29sZWFuLFxuICAgIERCX0NIRUNLX0RVUExJQ0FURTogQm9vbGVhbixcbiAgICBEQl9TU0w6IEJvb2xlYW4sXG4gICAgREJfU1NMX0NBOiBTdHJpbmcsXG4gICAgREJfU1NMX0tFWTogU3RyaW5nLFxuICAgIERCX1NTTF9DRVJUOiBTdHJpbmcsXG4gICAgREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTOiBTdHJpbmcsXG4gICAgREJfQ09OTkVDVElPTl9USU1FT1VUOiBOdW1iZXIsXG59KTtcbmNvbnN0IHsgREJfSE9TVCwgREJfUE9SVCwgREJfVVNFUiwgREJfUEFTUywgREJfTkFNRSwgREJfU09DS0VUX1BBVEgsIERCX1NPQ0tFVF9USU1FT1VULCBEQl9DT01QUkVTUywgREJfREVCVUcsIERCX1BFUk1JVF9MT0NBTF9JTkZJTEUsIERCX1RSQUNFLCBEQl9DSEVDS19EVVBMSUNBVEUsIERCX1NTTCwgREJfU1NMX0NBLCBEQl9TU0xfS0VZLCBEQl9TU0xfQ0VSVCwgREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTLCBEQl9DT05ORUNUSU9OX1RJTUVPVVQsIH0gPSBkYXRhU2NoZW1hRU5WO1xuYXNzZXJ0Lm9rKERCX0hPU1QsICdEYXRhYmFzZSBob3N0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfUE9SVCwgJ0RhdGFiYXNlIHBvcnQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9VU0VSLCAnRGF0YWJhc2UgdXNlciBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX1BBU1MsICdEYXRhYmFzZSBwYXNzd29yZCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX05BTUUsICdEYXRhYmFzZSBuYW1lIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5leHBvcnQgY29uc3QgZGF0YWJhc2VFTlYgPSB7XG4gICAgREJfSE9TVCxcbiAgICBEQl9QT1JULFxuICAgIERCX1VTRVIsXG4gICAgREJfUEFTUyxcbiAgICBEQl9OQU1FLFxuICAgIERCX1NPQ0tFVF9QQVRILFxuICAgIERCX1NPQ0tFVF9USU1FT1VULFxuICAgIERCX0NPTVBSRVNTLFxuICAgIERCX0RFQlVHLFxuICAgIERCX1BFUk1JVF9MT0NBTF9JTkZJTEUsXG4gICAgREJfVFJBQ0UsXG4gICAgREJfQ0hFQ0tfRFVQTElDQVRFLFxuICAgIERCX0NPTk5FQ1RJT05fQVRUUklCVVRFUyxcbiAgICBEQl9DT05ORUNUSU9OX1RJTUVPVVQsXG4gICAgREJfU1NMLFxuICAgIERCX1NTTF9DQSxcbiAgICBEQl9TU0xfS0VZLFxuICAgIERCX1NTTF9DRVJULFxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBkYXRhYmFzZUVOVixcbiAgICBtYXJpYWRiOiB7XG4gICAgICAgIHNzbDogREJfU1NMLFxuICAgICAgICBzc2xPcHRpb25zOiB7XG4gICAgICAgICAgICBjYTogREJfU1NMX0NBLFxuICAgICAgICAgICAga2V5OiBEQl9TU0xfS0VZLFxuICAgICAgICAgICAgY2VydDogREJfU1NMX0NFUlQsXG4gICAgICAgIH0sXG4gICAgfSxcbn07XG4iLCJpbXBvcnQgeyBzdHJpY3QgYXMgYXNzZXJ0IH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IGxvYWQgfSBmcm9tICd0cy1kb3RlbnYnO1xuY29uc3Qgand0U2NoZW1hRU5WID0gbG9hZCh7XG4gICAgLyogTG9hZCBKV1QgKi9cbiAgICBKV1RfU0VDUkVUOiBTdHJpbmcsXG4gICAgSldUX0VYUElSRVNfSU46IFN0cmluZyxcbiAgICBKV1RfUkVGUkVTSF9TRUNSRVQ6IFN0cmluZyxcbiAgICBKV1RfUkVGUkVTSF9FWFBJUkVTX0lOOiBTdHJpbmcsXG4gICAgSldUX1JFRlJFU0hfTUFYX0FHRTogTnVtYmVyLFxuICAgIEpXVF9BTEdPUklUSE06IFN0cmluZyxcbiAgICBKV1RfSVNTVUVSOiBTdHJpbmcsXG4gICAgSldUX01BWF9BR0U6IE51bWJlcixcbiAgICBKV1RfSFRUUF9PTkxZOiBCb29sZWFuLFxuICAgIEpXVF9TQU1FX1NJVEU6IFN0cmluZyxcbiAgICBKV1RfQ09PS0lFX05BTUU6IFN0cmluZyxcbiAgICBKV1RfU0VDVVJFOiBCb29sZWFuLFxufSk7XG4vLyBkZXN0cnVjdHVyZSB0aGUgSldUIHNjaGVtYVxuY29uc3QgeyBKV1RfU0VDUkVULCBKV1RfRVhQSVJFU19JTiwgSldUX1JFRlJFU0hfU0VDUkVULCBKV1RfUkVGUkVTSF9FWFBJUkVTX0lOLCBKV1RfUkVGUkVTSF9NQVhfQUdFLCBKV1RfQUxHT1JJVEhNLCBKV1RfSVNTVUVSLCBKV1RfTUFYX0FHRSwgSldUX0hUVFBfT05MWSwgSldUX1NBTUVfU0lURSwgSldUX0NPT0tJRV9OQU1FLCBKV1RfU0VDVVJFLCB9ID0gand0U2NoZW1hRU5WO1xuLy8gYXNzZXJ0IHRoYXQgdGhlIEpXVCBzY2hlbWEgaXMgcHJlc2VudFxuYXNzZXJ0Lm9rKEpXVF9TRUNSRVQsICdKV1Qgc2VjcmV0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX0VYUElSRVNfSU4sICdKV1QgZXhwaXJlcyBpbiBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9SRUZSRVNIX1NFQ1JFVCwgJ0pXVCByZWZyZXNoIHNlY3JldCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9SRUZSRVNIX0VYUElSRVNfSU4sICdKV1QgcmVmcmVzaCBleHBpcmVzIGluIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX0FMR09SSVRITSwgJ0pXVCBhbGdvcml0aG0gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfSVNTVUVSLCAnSldUIGlzc3VlciBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9NQVhfQUdFLCAnSldUIG1heCBhZ2Ugc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfSFRUUF9PTkxZLCAnSldUIGh0dHAgb25seSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9TQU1FX1NJVEUsICdKV1Qgc2FtZSBzaXRlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX0NPT0tJRV9OQU1FLCAnSldUIGNvb2tpZSBuYW1lIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1NFQ1VSRSwgJ0pXVCBzZWN1cmUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfUkVGUkVTSF9NQVhfQUdFLCAnSldUIHJlZnJlc2ggbWF4IGFnZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuLy8gZXhwb3J0IHRoZSBKV1Qgc2NoZW1hXG5leHBvcnQgY29uc3Qgand0RU5WID0ge1xuICAgIEpXVF9TRUNSRVQsXG4gICAgSldUX0VYUElSRVNfSU4sXG4gICAgSldUX1JFRlJFU0hfU0VDUkVULFxuICAgIEpXVF9SRUZSRVNIX0VYUElSRVNfSU4sXG4gICAgSldUX1JFRlJFU0hfTUFYX0FHRSxcbiAgICBKV1RfQUxHT1JJVEhNLFxuICAgIEpXVF9JU1NVRVIsXG4gICAgSldUX01BWF9BR0UsXG4gICAgSldUX0hUVFBfT05MWSxcbiAgICBKV1RfU0FNRV9TSVRFLFxuICAgIEpXVF9DT09LSUVfTkFNRSxcbiAgICBKV1RfU0VDVVJFLFxufTtcbi8vIGV4cG9ydCB0aGUgSldUIHNjaGVtYVxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGp3dEVOVixcbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgSW1hZ2VTdG9yYWdlIGZyb20gJy4uL21vZGVscy9pbWFnZS5tb2RlbCc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi4vbW9kZWxzL3Bvc3QubW9kZWwnO1xuaW1wb3J0IGdldEltYWdlUHJldmlld1VybCBmcm9tICcuL2ltYWdlQ29udHJvbGxlcic7XG5pbXBvcnQgTGlrZXMgZnJvbSAnLi4vbW9kZWxzL2xpa2VQb3N0Lm1vZGVsJztcbmltcG9ydCBTYXZlcyBmcm9tICcuLi9tb2RlbHMvc2F2ZVBvc3QubW9kZWwnO1xuaW1wb3J0IHsgT3AgfSBmcm9tICdzZXF1ZWxpemUnO1xuZG90ZW52LmNvbmZpZygpO1xuLy8gQ3JlYXRlIFBvc3QgTWV0aG9kIC0gQ3JlYXRlIGEgbmV3IHBvc3RcbmV4cG9ydCBjb25zdCBjcmVhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBjYXB0aW9uLCBsb2NhdGlvbiwgdGFncyB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkOyAvLyBFbnN1cmUgdGhhdCB0aGUgdG9rZW4gY29udGFpbnMgdGhlIHVzZXIgSURcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSB0aGUgaW1hZ2UgVVJMIGZyb20gdGhlIEltYWdlU3RvcmFnZSB0YWJsZSB1c2luZyB0aGUgc3RhdGljIG1ldGhvZFxuICAgICAgICAgICAgY29uc3QgaW1hZ2VSZWNvcmQgPSBhd2FpdCBJbWFnZVN0b3JhZ2UuZmluZEltYWdlQnlSZWZlcmVuY2VLZXkoJ3VzZXJfaWQnLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghaW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnSW1hZ2Ugbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBhd2FpdCBQb3N0cy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGNhcHRpb246IGNhcHRpb24sXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IGltYWdlUmVjb3JkLmltYWdlVXJsLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICB0YWdzOiB0YWdzIHx8ICcnLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgY3JlYXRvcl9JZDogdXNlci5pZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFuZXdQb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgY3JlYXRpbmcgbmV3IHBvc3QuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgY3JlYXRlZCBzdWNjZXNzZnVsbHknLCBuZXdQb3N0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1Bvc3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBkZWxldGVGaWxlID0gYXN5bmMgKF9yZXEsIHJlcywgaW1hZ2VVcmwpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IEltYWdlU3RvcmFnZS5maW5kT25lKHsgd2hlcmU6IHsgaW1hZ2VVcmw6IGltYWdlVXJsIH0gfSk7XG4gICAgICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgaW1hZ2UuZGVzdHJveSgpO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdJbWFnZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIFVwZGF0ZSBQb3N0IE1ldGhvZCAtIFVwZGF0ZSBhIHBvc3RcbmV4cG9ydCBjb25zdCB1cGRhdGVQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBjYXB0aW9uLCBsb2NhdGlvbiwgdGFncywgaW1hZ2VVcmw6IG5ld0ltYWdlVXJsIH0gPSByZXEuYm9keTtcbiAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5xdWVyeS5wb3N0X2lkLCAxMCk7XG4gICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7IC8vIEVuc3VyZSB0aGF0IHRoZSB0b2tlbiBjb250YWlucyB0aGUgdXNlciBJRFxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogcG9zdF9pZCwgY3JlYXRvcl9JZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvc3QuY3JlYXRvcl9JZCAhPT0gdXNlci5pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBhdHRlbXB0IScgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGltYWdlVXJsID0gcG9zdD8uaW1hZ2VVUkw7XG4gICAgICAgICAgICBpZiAobmV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3SW1hZ2VVcmwgPSBhd2FpdCBnZXRJbWFnZVByZXZpZXdVcmwocmVxLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXZpZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnSW1hZ2Ugbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpbWFnZVVybCA9IHByZXZpZXdJbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1cGRhdGVkUG9zdCA9IGF3YWl0IHBvc3QudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBpZDogcG9zdC5pZCxcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uLFxuICAgICAgICAgICAgICAgIGltYWdlVVJMOiBpbWFnZVVybCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgdGFnczogdGFncyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXVwZGF0ZWRQb3N0KSB7XG4gICAgICAgICAgICAgICAgaWYgKG5ld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGRlbGV0ZUZpbGUocmVxLCByZXMsIG5ld0ltYWdlVXJsKTsgLy8gRW5zdXJlIGRlbGV0ZUZpbGUgaXMgZGVmaW5lZCBlbHNld2hlcmVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgdXBkYXRpbmcgcG9zdCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgLnN0YXR1cygyMDApXG4gICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnUG9zdCB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsIHBvc3Q6IHVwZGF0ZWRQb3N0IH0pO1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRQb3N0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyBHZXQgYWxsIHBvc3RzXG5leHBvcnQgY29uc3QgZ2V0QWxsUG9zdHMgPSBhc3luYyAoX3JlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQWxsKHtcbiAgICAgICAgICAgIGluY2x1ZGU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBVc2VycyxcbiAgICAgICAgICAgICAgICAgICAgYXM6ICdVc2VyJyxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd1c2VybmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZW1haWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2ZpbGVQaWMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JpbycsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmlyc3ROYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdsYXN0TmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaW1hZ2VVUkwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2F2YXRhclVybCcsXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHBvc3RzOiBwb3N0cyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9zdHM6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyBGdW5jdGlvbiB0byBsaWtlIGEgcG9zdCBieSB1c2VyXG5leHBvcnQgY29uc3QgbGlrZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0X2lkLCAxMCk7XG4gICAgICAgICAgICBpZiAoaXNOYU4ocG9zdF9pZCkpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIHBvc3QgSUQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMaWtlID0gYXdhaXQgTGlrZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMaWtlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBhbHJlYWR5IGxpa2VkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdMaWtlID0gYXdhaXQgTGlrZXMuY3JlYXRlTGlrZSh7XG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBwb3N0X2lkLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcG9zdC5saWtlc19Db3VudCkge1xuICAgICAgICAgICAgICAgIHBvc3QubGlrZXNfQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbGlrZXNDb3VudCA9IHBvc3QubGlrZXNfQ291bnQgKyAxO1xuICAgICAgICAgICAgY29uc3QgdXBkYXRlZFBvc3QgPSBhd2FpdCBwb3N0LnVwZGF0ZSh7IGxpa2VzX0NvdW50OiBsaWtlc0NvdW50IH0pO1xuICAgICAgICAgICAgaWYgKCF1cGRhdGVkUG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGxpa2luZyBwb3N0LicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgLnN0YXR1cygyMDEpXG4gICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBsaWtlZCBzdWNjZXNzZnVsbHknLCBsaWtlOiBuZXdMaWtlIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpa2luZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IHBvc3QgYnkgSURcbmV4cG9ydCBjb25zdCBnZXRQb3N0QnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZFVzZXJJZCA9IHBhcnNlSW50KHJlcS5xdWVyeS51c2VyX2lkLCAxMCk7XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RlZFVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ3Bvc3QgVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiByZXF1ZXN0ZWRVc2VySWQgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0ZWRVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEucXVlcnkucG9zdF9pZCwgMTApO1xuICAgICAgICAgICAgaWYgKCFwb3N0X2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeVBrKHBvc3RfaWQpO1xuICAgICAgICAgICAgaWYgKCFwb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBub3QgZm91bmQgaGVyZScgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3N0LCByZXF1ZXN0ZWRVc2VyIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIHRvZ2dsZSBsaWtlc1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUxpa2VkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMaWtlID0gYXdhaXQgTGlrZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZDogcG9zdF9pZCwgdXNlcl9pZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMaWtlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdMaWtlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50TGlrZXMgPSBwb3N0Lmxpa2VzX0NvdW50IHx8IDA7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpa2VzID4gMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaWtlcyAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcG9zdC51cGRhdGUoeyBsaWtlc19Db3VudDogY3VycmVudExpa2VzIH0pO1xuICAgICAgICAgICAgYXdhaXQgcG9zdC5zYXZlKCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXhpc3RpbmdMaWtlXG4gICAgICAgICAgICAgICAgICAgID8gJ0xpa2UgcmVtb3ZlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgICAgIDogJ1Bvc3QgbGlrZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICBwb3N0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdG9nZ2xpbmcgbGlrZTonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEZ1bmN0aW9uIHRvIHNhdmUgYSBwb3N0IGJ5IHVzZXJcbmV4cG9ydCBjb25zdCBzYXZlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBhbHJlYWR5IHNhdmVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdTYXZlID0gYXdhaXQgU2F2ZXMuY3JlYXRlU2F2ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBwb3N0X2lkLFxuICAgICAgICAgICAgICAgIHNhdmVEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW5ld1NhdmUpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBzYXZpbmcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5Jywgc2F2ZTogbmV3U2F2ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEZ1bmN0aW9uIHRvIGRlbGV0ZSBhIHNhdmVkIHBvc3QgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVNhdmVkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdTYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBleGlzdGluZ1NhdmVcbiAgICAgICAgICAgICAgICAgICAgPyAnUG9zdCB1bnNhdmVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICAgICAgOiAnUG9zdCBub3Qgc2F2ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc2F2ZWQgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEdldCBhbGwgc2F2ZWQgcG9zdHMgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYXZlZFBvc3RzID0gYXdhaXQgU2F2ZXMuZ2V0U2F2ZWRQb3N0cyh1c2VyX2lkKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBzYXZlZFBvc3RzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzYXZlZCBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIERlbGV0ZSBhIHBvc3QgLVxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0X2lkLCAxMCk7XG4gICAgICAgICAgICBpZiAoIXBvc3RfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IElEIGlzIHJlcXVpcmVkIGZyb20gc2VydmVyJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdTYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmQgYXNzb2NpYXRlZCBpbWFnZXMgYW5kIGRlbGV0ZSB0aGVtXG4gICAgICAgICAgICBpZiAocG9zdC5pbWFnZVVSTCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgSW1hZ2VTdG9yYWdlLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpbWFnZVVybDogcG9zdC5pbWFnZVVSTCB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbWFnZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcG9zdC5kZXN0cm95KCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IGFsbCBpbmZpbml0ZSBwb3N0c1xuZXhwb3J0IGNvbnN0IGdldEluZmluaXRlUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHBhZ2UgPSAwLCBsaW1pdCA9IDEwIH0gPSByZXEucXVlcnk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHBhZ2VcbiAgICAgICAgICAgID8gcGFyc2VJbnQocGFnZSwgMTApICogcGFyc2VJbnQobGltaXQsIDEwKVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgICAgICBsaW1pdDogcGFyc2VJbnQobGltaXQsIDEwKSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkX0F0JywgJ0RFU0MnXV0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBwb3N0cyxcbiAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KHBhZ2UsIDEwKSxcbiAgICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbChwb3N0cy5jb3VudCAvIHBhcnNlSW50KGxpbWl0LCAxMCkpLFxuICAgICAgICAgICAgdG90YWxDb3VudDogcG9zdHMuY291bnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIFNlYXJjaCBwb3N0c1xuLy8gZXhwb3J0IGNvbnN0IHNlYXJjaFBvc3RzID0gYXN5bmMgKFxuLy8gICByZXE6IFJlcXVlc3QsXG4vLyAgIHJlczogUmVzcG9uc2UsXG4vLyApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCB7IHNlYXJjaFZhbHVlIH0gPSByZXEuYm9keTtcbi8vICAgICBpZiAoIXNlYXJjaFZhbHVlKSB7XG4vLyAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdTZWFyY2ggdmFsdWUgaXMgcmVxdWlyZWQnIH0pO1xuLy8gICAgICAgcmV0dXJuO1xuLy8gICAgIH1cbi8vICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuLy8gICAgICAgd2hlcmU6IHtcbi8vICAgICAgICAgY2FwdGlvbjoge1xuLy8gICAgICAgICAgIFtPcC5saWtlXTogYCUke3NlYXJjaFZhbHVlfSVgLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgfSxcbi8vICAgICB9KTtcbi8vICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4vLyAgICAgICBwb3N0cyxcbi8vICAgICB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgcG9zdHM6JywgZXJyb3IpO1xuLy8gICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4vLyAgIH1cbi8vIH07XG4vLyBHZXQgdXNlcidzIHBvc3RzXG5leHBvcnQgY29uc3Qgc2VhcmNoUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFZhbHVlIH0gPSByZXEuYm9keTtcbiAgICAgICAgaWYgKCFzZWFyY2hWYWx1ZSkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnU2VhcmNoIHZhbHVlIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBbT3Aub3JdOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IGAlJHtzZWFyY2hWYWx1ZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IGAlJHtzZWFyY2hWYWx1ZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW09wLmxpa2VdOiBgJSR7c2VhcmNoVmFsdWV9JWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgcG9zdHMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VhcmNoaW5nIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGdldFVzZXJQb3N0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBjcmVhdG9yX0lkOiB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdHMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IFBvcHVsYXIgUG9zdHNcbmV4cG9ydCBjb25zdCBnZXRQb3B1bGFyUG9zdHMgPSBhc3luYyAoX3JlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9wdWxhclBvc3RzID0gYXdhaXQgUG9zdHMuZmluZEFsbCh7XG4gICAgICAgICAgICBvcmRlcjogW1snbGlrZXNfQ291bnQnLCAnREVTQyddXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9wdWxhclBvc3RzIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3B1bGFyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyBqd3RHZW5lcmF0b3IsIGp3dFJlZnJlc2ggfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvand0R2VuZXJhdG9yJztcbmltcG9ydCBVc2VyUmVnaXN0cmF0aW9uIGZyb20gJy4uL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICcuLi91dGlscy9lcnJvckhhbmRsZXInO1xuZG90ZW52LmNvbmZpZygpO1xuZXhwb3J0IGNvbnN0IHVzZXJSZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghbmFtZSB8fCAhdXNlcm5hbWUgfHwgIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTmV3IFVzZXIgdmFsaWRhdGlvbiBlcnJvcicpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3QgdXNlckV4aXN0cyA9IGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VyRXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdVc2VyUmVnaXN0cmF0aW9ucy5lbWFpbDogVXNlciBhbHJlYWR5IGV4aXN0cyAnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgbmV3VXNlcjogbmFtZSxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0R2VuZXJhdG9yKHsgaWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIHRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5ld1VzZXIsXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXNlckxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTG9naW4gVmFsaWRhdGlvbiBFcnJvciEnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0UmVmcmVzaCh7IGlkOiB1c2VyLmlkIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBsb2dnZWQgaW46JywgcmVmcmVzaFRva2VuKTtcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgYWNjZXNzIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdqd3QnLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTZXR0aW5nIHRoZSByZWZyZXNoIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCByZWZyZXNoVG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9SRUZSRVNIX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApO1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXMuanNvbih7IHRva2VuLCByZWZyZXNoVG9rZW4sIHVzZXI6IHVzZXIuaWQgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHVzZXJMb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmNvb2tpZXMucmVmcmVzaFRva2VuO1xuICAgICAgICBpZiAoIWFjY2Vzc1Rva2VuICYmICFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ05vIHRva2VucyBwcm92aWRlZCEnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIHRoZSBhY2Nlc3MgdG9rZW5cbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgJycsIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgbWF4QWdlOiAxLCAvLyAxIG1pbGxpc2Vjb25kIHRvIGVmZmVjdGl2ZWx5IGV4cGlyZSB0aGUgY29va2llXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGVhciB0aGUgcmVmcmVzaCB0b2tlblxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCAnJywge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDEsIC8vIDEgbWlsbGlzZWNvbmQgdG8gZWZmZWN0aXZlbHkgZXhwaXJlIHRoZSBjb29raWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbG9nZ2VkIG91dCcgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHJlZnJlc2hUb2tlbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5jb29raWVzLnJlZnJlc2hUb2tlbjtcbiAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGp3dC52ZXJpZnkocmVmcmVzaFRva2VuLCBqd3RFTlYuSldUX1JFRlJFU0hfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3InLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEOicsIHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdG9rZW5cbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gand0LnNpZ24oeyBpZDogdXNlci5pZCB9LCBqd3RFTlYuSldUX1NFQ1JFVCwge1xuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLmNvb2tpZSgnand0JywgbmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX1JFRlJFU0hfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW46IG5ld1Rva2VuLCB1c2VyOiB1c2VyLmlkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlclJlZ2lzdGVyLFxuICAgIHVzZXJMb2dpbixcbiAgICB1c2VyTG9nb3V0LFxuICAgIHJlZnJlc2hUb2tlbixcbn07XG4iLCJpbXBvcnQgSW1hZ2VTdG9yYWdlcyBmcm9tICcuLi9tb2RlbHMvaW1hZ2UubW9kZWwnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG4vLyBSZWZhY3RvcmVkIGZ1bmN0aW9uIHRvIHJldHVybiBpbWFnZSBVUkxcbmV4cG9ydCBjb25zdCBnZXRJbWFnZVByZXZpZXdVcmwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBJbWFnZVN0b3JhZ2VzLmZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KCd1c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTm8gaW1hZ2UgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBpbWFnZVVybDogaW1hZ2UuaW1hZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbWFnZSBwcmV2aWV3OicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IGltYWdlIHByZXZpZXcnKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2V0SW1hZ2VQcmV2aWV3VXJsO1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IGdldEltYWdlUHJldmlld1VybCBmcm9tICcuL2ltYWdlQ29udHJvbGxlcic7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi4vbW9kZWxzL3Bvc3QubW9kZWwnO1xuaW1wb3J0IExpa2VzIGZyb20gJy4uL21vZGVscy9saWtlUG9zdC5tb2RlbCc7XG5kb3RlbnYuY29uZmlnKCk7XG4vLyBHZXQgYWxsIFVzZXJzIGZyb20gZGF0YWJhc2Ugd2l0aCBsaW1pdCBhbmQgb2Zmc2V0XG5leHBvcnQgY29uc3QgZ2V0QWxsVXNlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VySWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9wdGlvbmFsbHksIHlvdSBjb3VsZCBhZGQgcm9sZS1iYXNlZCBjaGVja3MgaGVyZVxuICAgICAgICAgICAgLy8gaWYgKHVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgICAgICAgLy8gICByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdGb3JiaWRkZW4nIH0pO1xuICAgICAgICAgICAgLy8gICByZXR1cm47XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCwgMTApIHx8IDEwOyAvLyBEZWZhdWx0IGxpbWl0IHRvIDEwXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW1xuICAgICAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAgICAgJ2ZpcnN0TmFtZScsXG4gICAgICAgICAgICAgICAgJ2xhc3ROYW1lJyxcbiAgICAgICAgICAgICAgICAndXNlcm5hbWUnLFxuICAgICAgICAgICAgICAgICdpbWFnZVVSTCcsXG4gICAgICAgICAgICAgICAgJ2F2YXRhclVybCcsXG4gICAgICAgICAgICAgICAgJ2JpbycsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2Vycy5nZXRBbGxVc2VycyhsaW1pdCwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJzIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYWxsIHVzZXJzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IHVzZXIgYnkgSURcbi8vIGV4cG9ydCBjb25zdCBnZXRVc2VyQnlJRCA9IGFzeW5jIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UpID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbi8vICAgICBpZiAoIXRva2VuKSB7XG4vLyAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuLy8gICAgICAgcmV0dXJuO1xuLy8gICAgIH1cbi8vICAgICBqd3QudmVyaWZ5KFxuLy8gICAgICAgdG9rZW4sXG4vLyAgICAgICBqd3RFTlYuSldUX1NFQ1JFVCxcbi8vICAgICAgIGFzeW5jIChlcnI6IGFueSwgZGVjb2RlZFRva2VuOiBhbnkpID0+IHtcbi8vICAgICAgICAgaWYgKGVycikge1xuLy8gICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbi8vICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuLy8gICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuLy8gICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4vLyAgICAgICAgIGlmICghdXNlcikge1xuLy8gICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbi8vICAgICAgICAgICByZXR1cm47XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgaWYgKHVzZXIuaWQgIT09IHVzZXJfaWQpIHtcbi8vICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgYXR0ZW1wdCEnIH0pO1xuLy8gICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICBjb25zdCByZXF1ZXN0ZWRVc2VyID0gYXdhaXQgVXNlcnMuZmluZEFsbCh7XG4vLyAgICAgICAgICAgd2hlcmU6IHsgaWQ6IHVzZXJfaWQgfSxcbi8vICAgICAgICAgICBpbmNsdWRlOiBbXG4vLyAgICAgICAgICAgICB7XG4vLyAgICAgICAgICAgICAgIG1vZGVsOiBQb3N0cyxcbi8vICAgICAgICAgICAgICAgYXR0cmlidXRlczogW1xuLy8gICAgICAgICAgICAgICAgICdpZCcsXG4vLyAgICAgICAgICAgICAgICAgJ2NhcHRpb24nLFxuLy8gICAgICAgICAgICAgICAgICdpbWFnZVVSTCcsXG4vLyAgICAgICAgICAgICAgICAgJ2xvY2F0aW9uJyxcbi8vICAgICAgICAgICAgICAgICAndGFncycsXG4vLyAgICAgICAgICAgICAgICAgJ2xpa2VzX0NvdW50Jyxcbi8vICAgICAgICAgICAgICAgICAnY3JlYXRlZF9BdCcsXG4vLyAgICAgICAgICAgICAgICAgJ2NyZWF0b3JfSWQnLFxuLy8gICAgICAgICAgICAgICBdLFxuLy8gICAgICAgICAgICAgfSxcbi8vICAgICAgICAgICBdLFxuLy8gICAgICAgICB9KTtcbi8vICAgICAgICAgaWYgKCFyZXF1ZXN0ZWRVc2VyKSB7XG4vLyAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuLy8gICAgICAgICAgIHJldHVybjtcbi8vICAgICAgICAgfVxuLy8gICAgICAgICByZXNcbi8vICAgICAgICAgICAuc3RhdHVzKDIwMClcbi8vICAgICAgICAgICAuanNvbih7IHJlcXVlc3RlZFVzZXI6IHJlcXVlc3RlZFVzZXIsIHVzZXJfaWQ6IHVzZXJfaWQgfSk7XG4vLyAgICAgICB9LFxuLy8gICAgICk7XG4vLyAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIGJ5IElEOicsIGVycm9yKTtcbi8vICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuLy8gICB9XG4vLyB9O1xuLy8gVXBkYXRlIHVzZXIgYnkgSURcbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJRCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlcklkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnVzZXJfaWQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlci5pZCAhPT0gdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBhdHRlbXB0IScgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlciA9IGF3YWl0IFVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiByZXF1ZXN0ZWRVc2VySWQgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0ZWRVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnUmVxdWVzdGVkIFVzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZ2V0UG9zdEJ5UmVmZXJlbmNlSUQocmVxdWVzdGVkVXNlcklkKTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJMaWtlcyA9IGF3YWl0IExpa2VzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyTGlrZXMpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIElEIGlzIHJlcXVpcmVkIFMgcm91dGVzJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgcmVxdWVzdGVkVXNlcjogcmVxdWVzdGVkVXNlcixcbiAgICAgICAgICAgICAgICBwb3N0LFxuICAgICAgICAgICAgICAgIHVzZXJMaWtlcyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0ZWRVc2VySWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyBVcGRhdGUgdXNlciBieSBJRFxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyLmlkICE9PSBOdW1iZXIoaWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIGF0dGVtcHQhJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeyBpbWFnZVVybDogbmV3SW1hZ2VVcmwgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgaWYgKG5ld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlld0ltYWdlVXJsID0gYXdhaXQgZ2V0SW1hZ2VQcmV2aWV3VXJsKHJlcSwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2aWV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5pbWFnZVVybCA9IHByZXZpZXdJbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGltYWdlIHByZXZpZXcgVVJMOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgdXBkYXRpbmcgcHJvZmlsZSBwaWN0dXJlJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCB1cGRhdGVkVXNlcnNdID0gYXdhaXQgVXNlcnMudXBkYXRlVXNlcihOdW1iZXIoaWQpLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGlmIChhZmZlY3RlZENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgdXBkYXRpbmcgdXNlcicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1cGRhdGVkVXNlcnMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbiIsImltcG9ydCByYXRlTGltaXQgZnJvbSAnZXhwcmVzcy1yYXRlLWxpbWl0JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2NvbmZpZy9pbmRleCc7XG5leHBvcnQgY29uc3Qga2V5R2VuZXJhdG9yID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXEuaXApIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnV2FybmluZzogcmVxdWVzdC5pcCBpcyBtaXNzaW5nIScgfSk7XG4gICAgICAgIHJldHVybiByZXEuc29ja2V0LnJlbW90ZUFkZHJlc3M7XG4gICAgfVxuICAgIHJldHVybiByZXEuaXAucmVwbGFjZSgvOlxcZCtbXjpdKiQvLCAnJyk7XG59O1xuZXhwb3J0IGNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xuICAgIHdpbmRvd01zOiBlbnYuUkFSRV9MSU1JVF9XSU5ET1dfTVMsXG4gICAgbWF4OiBlbnYuTUFYLFxuICAgIG1lc3NhZ2U6IGVudi5SQVJFX0xJTUlUX01FU1NBR0UsXG4gICAgc3RhdHVzQ29kZTogZW52LlJBUkVfTElNSVRfQ09ERSxcbiAgICBoYW5kbGVyOiAoX3JlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoZW52LlJBUkVfTElNSVRfQ09ERSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBlbnYuUkFSRV9MSU1JVF9NRVNTQUdFLFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGtleUdlbmVyYXRvcixcbn0pO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGxpbWl0ZXIsXG4gICAga2V5R2VuZXJhdG9yLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uLy4uL2NvbmZpZy9qd3RFTlYnO1xuZG90ZW52LmNvbmZpZygpO1xuZXhwb3J0IGNvbnN0IGp3dEdlbmVyYXRvciA9IChwYXlsb2FkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGp3dEVOVi5KV1RfU0VDUkVULCB7XG4gICAgICAgICAgICBhbGdvcml0aG06IGp3dEVOVi5KV1RfQUxHT1JJVEhNLFxuICAgICAgICAgICAgZXhwaXJlc0luOiBqd3RFTlYuSldUX0VYUElSRVNfSU4sXG4gICAgICAgICAgICBpc3N1ZXI6IGp3dEVOVi5KV1RfSVNTVUVSLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZ2VuZXJhdGluZyBKV1QnKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGp3dFZlcmlmaWVyID0gKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVUKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdmVyaWZ5aW5nIEpXVCcpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgand0UmVmcmVzaCA9IChwYXlsb2FkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGp3dEVOVi5KV1RfUkVGUkVTSF9TRUNSRVQsIHtcbiAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICBleHBpcmVzSW46IGp3dEVOVi5KV1RfUkVGUkVTSF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgSldUJyk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBqd3RHZW5lcmF0b3IsXG4gICAgand0VmVyaWZpZXIsXG4gICAgand0UmVmcmVzaCxcbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvand0RU5WJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi8uLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5kb3RlbnYuY29uZmlnKCk7XG5leHBvcnQgY29uc3QgcmVxdWlyZUF1dGggPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdmVyaWZ5VXNlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSldUIHZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVjb2RlZFRva2VuOicsIGRlY29kZWRUb2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gdXNlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7IHZlcmlmeVVzZXIsIHJlcXVpcmVBdXRoIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4vc2VxdWlsaXplQ29uJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yREIoKSB7XG4gICAgY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwOyAvLyAxMCBhdHRlbXB0c1xuICAgIGNvbnN0IGRlbGF5ID0gMTAwMDsgLy8gMSBzZWNvbmRcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCwgU3RhcnRpbmcgU2VydmVyLi4uLi4nKTtcbiAgICAgICAgICAgIC8vIFN5bmMgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgYW5kIHJlLXN5bmMgZGIuJyk7XG4gICAgICAgICAgICByZXR1cm4gc2VxdWVsaXplOyAvLyBSZXR1cm4gdGhlIFNlcXVlbGl6ZSBpbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ01heCBhdHRlbXB0cyByZWFjaGVkLCBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgd2FpdEZvckRCIH07XG4iLCJpbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuaW1wb3J0IGZzIGZyb20gJ25vZGU6ZnMnO1xuY29uc3QgZGJDb25maWcgPSB7XG4gICAgRGlhbGVjdDogJ21hcmlhZGInLFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gICAgdXNlcm5hbWU6IGRhdGFiYXNlRU5WLkRCX1VTRVIgfHwgJ21ldGFsYnJhaW4nLFxuICAgIHBhc3N3b3JkOiBkYXRhYmFzZUVOVi5EQl9QQVNTIHx8ICdwYXNzd29yZCcsXG4gICAgZGF0YWJhc2U6IGRhdGFiYXNlRU5WLkRCX05BTUUgfHwgJ0ZpbmRTb21lT25lJyxcbiAgICBzb2NrZXRQYXRoOiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfUEFUSCB8fCAnL3Zhci9ydW4vbXlzcWxkL215c3FsZC5zb2NrJyxcbiAgICBzb2NrZXRUaW1lb3V0OiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfVElNRU9VVCB8fCAxMDAwLFxuICAgIGNvbXByZXNzOiBkYXRhYmFzZUVOVi5EQl9DT01QUkVTUyB8fCBmYWxzZSxcbiAgICBkZWJ1ZzogZGF0YWJhc2VFTlYuREJfREVCVUcgfHwgZmFsc2UsXG4gICAgcGVybWl0TG9jYWxJbmZpbGU6IGRhdGFiYXNlRU5WLkRCX1BFUk1JVF9MT0NBTF9JTkZJTEUgfHwgZmFsc2UsXG4gICAgdHJhY2U6IGRhdGFiYXNlRU5WLkRCX1RSQUNFIHx8IHRydWUsXG4gICAgY2hlY2tEdXBsaWNhdGU6IGRhdGFiYXNlRU5WLkRCX0NIRUNLX0RVUExJQ0FURSB8fCBmYWxzZSxcbiAgICBjb25uZWN0QXR0cmlidXRlczogSlNPTi5wYXJzZShkYXRhYmFzZUVOVi5EQl9DT05ORUNUSU9OX0FUVFJJQlVURVMgfHwgJ3t9JyksXG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IGRhdGFiYXNlRU5WLkRCX0NPTk5FQ1RJT05fVElNRU9VVCB8fCAxMDAwLFxuICAgIHBvcnQ6IGRhdGFiYXNlRU5WLkRCX1BPUlQgfHwgMzMwNixcbiAgICBzc2w6IGRhdGFiYXNlRU5WLkRCX1NTTCB8fCBmYWxzZSxcbiAgICBkaWFsZWN0T3B0aW9uczoge1xuICAgICAgICBzc2w6IHtcbiAgICAgICAgICAgIGNhOiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0FcbiAgICAgICAgICAgICAgICA/IGZzLnJlYWRGaWxlU3luYyhkYXRhYmFzZUVOVi5EQl9TU0xfQ0EpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAga2V5OiBkYXRhYmFzZUVOVi5EQl9TU0xfS0VZXG4gICAgICAgICAgICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoZGF0YWJhc2VFTlYuREJfU1NMX0tFWSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBjZXJ0OiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0VSVFxuICAgICAgICAgICAgICAgID8gZnMucmVhZEZpbGVTeW5jKGRhdGFiYXNlRU5WLkRCX1NTTF9DRVJUKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgU2VxdWVsaXplIGluc3RhbmNlXG4gICAgY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShkYkNvbmZpZy5kYXRhYmFzZSwgZGJDb25maWcudXNlcm5hbWUsIGRiQ29uZmlnLnBhc3N3b3JkLCB7XG4gICAgICAgIGhvc3Q6IGRiQ29uZmlnLmhvc3QsXG4gICAgICAgIGRpYWxlY3Q6IGRiQ29uZmlnLkRpYWxlY3QsXG4gICAgICAgIHBvcnQ6IGRiQ29uZmlnLnBvcnQsXG4gICAgICAgIHNzbDogZGJDb25maWcuc3NsLFxuICAgICAgICBkaWFsZWN0T3B0aW9uczogZGJDb25maWcuZGlhbGVjdE9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlcXVlbGl6ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfTtcbiIsIi8vIHRoaXMgd2lsbCBsb2FkIGFsbCBtb2RlbCBjbGFzc2VzIGZvdW5kIGluIGZpbGVzIG1hdGNoaW5nIHRoaXMgZ2xvYiBwYXR0ZXJuLlxuaW1wb3J0IHsgU2VxdWVsaXplLCBpbXBvcnRNb2RlbHMgfSBmcm9tICdAc2VxdWVsaXplL2NvcmUnO1xuaW1wb3J0IHsgTWFyaWFEYkRpYWxlY3QgfSBmcm9tICdAc2VxdWVsaXplL21hcmlhZGInO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJztcbmltcG9ydCB7IGRpcm5hbWUgfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuY29uc3QgX19kaXJuYW1lID0gZGlybmFtZShmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCkpO1xuZXhwb3J0IGNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xuICAgIGRpYWxlY3Q6IE1hcmlhRGJEaWFsZWN0LFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QsXG4gICAgdXNlcjogZGF0YWJhc2VFTlYuREJfVVNFUixcbiAgICBwYXNzd29yZDogZGF0YWJhc2VFTlYuREJfUEFTUyxcbiAgICBkYXRhYmFzZTogZGF0YWJhc2VFTlYuREJfTkFNRSxcbiAgICBwb3J0OiBkYXRhYmFzZUVOVi5EQl9QT1JULFxuICAgIHNzbDogZGF0YWJhc2VFTlYuREJfU1NMLFxuICAgIG1vZGVsczogYXdhaXQgaW1wb3J0TW9kZWxzKF9fZGlybmFtZSArICcvc3JjL3NlcnZlci9tb2RlbHMvKiovKi5tb2RlbC57dHMsanN9JyksXG59KTtcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXMvcm91dGVyJztcbmltcG9ydCB7IGxpbWl0ZXIgfSBmcm9tICcuL2F1dGgvaXBDb25maWcnO1xuaW1wb3J0IHsgZ2xvYmFsRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhcHAuZ2V0KCcvc3RhdHVzJywgKF9yZXEsIHJlcykgPT4gcmVzLnNlbmRTdGF0dXMoMjAwKS5lbmQoKSk7XG4gICAgYXBwLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgICAgIGlmIChfcmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xuICAgIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuICAgIGFwcC51c2UoY29va2llUGFyc2VyKCkpO1xuICAgIGFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgIC8vIFNlcnZlIHN0YXRpYyBmaWxlcyBmcm9tICdkaXN0JyBkaXJlY3RvcnlcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdkaXN0JykpKTtcbiAgICBhcHAudXNlKCcvYXNzZXRzJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwgJ2Fzc2V0cycpKSk7XG4gICAgY29uc3QgVHJ1c3RfUHJveHkgPSBlbnYuVFJVU1RfUFJPWFkgfHwgJ2ZhbHNlJztcbiAgICBjb25zdCBudW1iZXJPZlByb3hpZXMgPSBlbnYuTlVNQkVSX09GX1BST1hJRVMgfHwgMTtcbiAgICBpZiAoVHJ1c3RfUHJveHkpIHtcbiAgICAgICAgYXBwLnNldCgndHJ1c3QgcHJveHknLCB0cnVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoVHJ1c3RfUHJveHkgPT09ICdmYWxzZScpIHtcbiAgICAgICAgYXBwLnNldCgndHJ1c3QgcHJveHknLCBmYWxzZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIFRydXN0X1Byb3h5KTtcbiAgICAgICAgYXBwLnNldCgndHJ1c3QgcHJveHknLCBudW1iZXJPZlByb3hpZXMpO1xuICAgIH1cbiAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIG51bWJlck9mUHJveGllcyk7XG4gICAgYXBwLmdldCgnL2lwJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiByZXNwb25zZS5zZW5kKHJlcXVlc3QuaXApKTtcbiAgICBhcHAudXNlKGhlbG1ldCh7XG4gICAgICAgIGNvbnRlbnRTZWN1cml0eVBvbGljeTogZmFsc2UsXG4gICAgfSkpO1xuICAgIGFwcC51c2UobW9yZ2FuKGVudi5NT1JHQU4pKTtcbiAgICBhcHAudXNlKGxpbWl0ZXIpO1xuICAgIGFwcC51c2Uocm91dGVyKTtcbiAgICBhcHAudXNlKGdsb2JhbEVycm9ySGFuZGxlcik7XG4gICAgcmV0dXJuIGFwcDtcbn1cbiIsImltcG9ydCBleHByZXNzTG9hZGVyIGZyb20gJy4vZXhwcmVzcyc7XG5pbXBvcnQgc2VxdWlsaXplTG9hZGVyIGZyb20gJy4vZGF0YUxvYWRlci9zZXF1bGl6ZSc7XG5pbXBvcnQgeyB3YWl0Rm9yREIgfSBmcm9tICcuL2RhdGFMb2FkZXIvbWFyaWFkYic7XG5pbXBvcnQgeyB0cnVuY2F0ZVRhYmxlcyB9IGZyb20gJy4uL3NlcnZpY2VzL3RydW5jYXRlJztcbmltcG9ydCBsb2FkZXIgZnJvbSAnLi4vc2VydmljZXMvcGVyZm9ybWFuY2UnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhd2FpdCB0cnVuY2F0ZVRhYmxlcygpO1xuICAgIGF3YWl0IHdhaXRGb3JEQigpO1xuICAgIHNlcXVpbGl6ZUxvYWRlcjtcbiAgICBhd2FpdCBleHByZXNzTG9hZGVyKHsgYXBwIH0pO1xuICAgIGxvYWRlcigpO1xuICAgIGNvbnNvbGUubG9nKCdFeHByZXNzIFNlcnZlciBJbnRpYWxpemVkIScpO1xufVxuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24uanMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbC5qcyc7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBJbWFnZVN0b3JhZ2VzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbiBpbWFnZSBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBmaW5kSW1hZ2VCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRCeVBrKGlkKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBba2V5XTogdmFsdWUgfSxcbiAgICAgICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZF9BdCcsICdERVNDJ11dLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBmaW5kaW5nIGltYWdlIGJ5IHJlZmVyZW5jZSBrZXk6ICR7a2V5fSwgdmFsdWU6ICR7dmFsdWV9YCwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IHRoZSBlcnJvciBhZnRlciBsb2dnaW5nIGl0XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBEZWZpbmUgdGhlIEltYWdlU3RvcmFnZSBtb2RlbFxuSW1hZ2VTdG9yYWdlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGltYWdlVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjcmVhdGVkX0F0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnSW1hZ2VTdG9yYWdlcycsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG59KTtcbi8vIERlZmluZSB0aGUgVXNlciBtb2RlbFxuSW1hZ2VTdG9yYWdlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGltYWdlVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIGNyZWF0ZWRfQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxufSwge1xuICAgIHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdJbWFnZVN0b3JhZ2VzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbn0pO1xuLy8gY3JlYXRlIGEgaG9vayB0aGF0IHNhdmVzIHVwbG9hZGVkIGltYWdlIHRvIHRoZSB1c2VyJ3MgY29sdW1ucyBpbiB0aGUgZGF0YWJhc2VcbkltYWdlU3RvcmFnZXMuYWZ0ZXJDcmVhdGUoYXN5bmMgKGltYWdlKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKGltYWdlLnVzZXJfaWQpO1xuICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHVzZXIuaW1hZ2VVUkwgPSBpbWFnZS5pbWFnZVVybDtcbiAgICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XG4gICAgfVxufSk7XG4vLyBBZnRlciBVcGxvYWRpbmcgYW4gaW1hZ2UsIHNhdmUgdG8gdXNlcidzIHRhYmxlXG5Vc2Vycy5oYXNNYW55KEltYWdlU3RvcmFnZXMsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG5Qb3N0cy5oYXNNYW55KEltYWdlU3RvcmFnZXMsIHtcbiAgICBmb3JlaWduS2V5OiAncG9zdF9pZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG4vLyBEZWZpbmUgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBVc2VyLCBOZXdQb3N0LCBhbmQgSW1hZ2VTdG9yYWdlIG1vZGVsc1xuSW1hZ2VTdG9yYWdlcy5iZWxvbmdzVG8oVXNlcnMsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG5JbWFnZVN0b3JhZ2VzLmJlbG9uZ3NUbyhQb3N0cywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbi8vIHN5bmMgdGhlIEltYWdlU3RvcmFnZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ05ldyBJbWFnZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IGltYWdlOicsIGVycik7XG59KTtcbi8vIEltYWdlU3RvcmFnZS5zeW5jKHsgZm9yY2U6IHRydWUgfSlcbi8vICAgLnRoZW4oKCkgPT4ge1xuLy8gICAgIGNvbnNvbGUubG9nKCdJbWFnZVN0b3JhZ2Ugc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xuLy8gICB9KVxuLy8gICAuY2F0Y2goZXJyID0+IHtcbi8vICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIEltYWdlU3RvcmFnZTonLCBlcnIpO1xuLy8gICB9KTtcbmV4cG9ydCBkZWZhdWx0IEltYWdlU3RvcmFnZXM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXIubW9kZWwuanMnO1xuaW1wb3J0IFBvc3QgZnJvbSAnLi9wb3N0Lm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBMaWtlcyBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBjcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBsaWtlXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZUxpa2UoYXR0cmlidXRlcykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jcmVhdGUoYXR0cmlidXRlcyk7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhIGxpa2UgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZmluZExpa2VCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRCeVBrKGlkKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBmaW5kIGEgbGlrZSBieSByZWZlcmVuY2Uga2V5ICh1c2VySWQgb3IgcG9zdElkKVxuICAgIHN0YXRpYyBhc3luYyBmaW5kTGlrZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IFtrZXldOiB2YWx1ZSB9IH0pO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGZpbmQgYWxsIGxpa2VzIGJ5IHJlZmVyZW5jZSBrZXkgKHVzZXJJZCBvciBwb3N0SWQpXG4gICAgc3RhdGljIGFzeW5jIGZpbmRBbGxMaWtlc0J5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCh7IHdoZXJlOiB7IFtrZXldOiB2YWx1ZSB9IH0pO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGZpbmQgYWxsIGxpa2VzIGJ5IHJlZmVyZW5jZSBrZXkgKHVzZXJJZCBvciBwb3N0SWQpXG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZUxpa2VCeVJlZmVyZW5jZUtleShrZXksIHZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVzdHJveSh7IHdoZXJlOiB7IFtrZXldOiB2YWx1ZSB9IH0pO1xuICAgIH1cbn1cbi8vIERlZmluZSB0aGUgVXNlciBtb2RlbFxuTGlrZXMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICB1c2VyX2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1VzZXJzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBvc3RfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnUG9zdHMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ0xpa2VzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICBmcmVlemVUYWJsZU5hbWU6IHRydWUsXG59KTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gVXNlciBhbmQgTGlrZVxuVXNlci5oYXNNYW55KExpa2VzLCB7XG4gICAgZm9yZWlnbktleTogJ3VzZXJfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG59KTtcbkxpa2VzLmJlbG9uZ3NUbyhVc2VyLCB7XG4gICAgZm9yZWlnbktleTogJ3VzZXJfaWQnLFxufSk7XG4vLyBEZWZpbmUgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFBvc3QgYW5kIExpa2VcblBvc3QuaGFzTWFueShMaWtlcywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxufSk7XG5MaWtlcy5iZWxvbmdzVG8oUG9zdCwge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbn0pO1xuLy8gU3luYyB0aGUgTGlrZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuTGlrZXMuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTGlrZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbGlrZTonLCBlcnIpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBMaWtlcztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFBvc3RzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlUG9zdChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVBvc3QoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRQb3N0c10gPSBhd2FpdCB0aGlzLnVwZGF0ZShhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGRlbGV0ZSBhIFBvc3QgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlUG9zdChpZCkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgICAgICAgaWYgKHBvc3QpIHtcbiAgICAgICAgICAgIGF3YWl0IHBvc3QuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IGFsbCBwb3N0c1xuICAgIHN0YXRpYyBhc3luYyBnZXRBbGxQb3N0cygpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCgpO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCBpbmZpbml0ZSBwb3N0c1xuICAgIHN0YXRpYyBhc3luYyBnZXRJbmZpbml0ZVBvc3RzKG9mZnNldCwgbGltaXQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCh7IG9mZnNldCwgbGltaXQgfSk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IHBvc3QgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZ2V0UG9zdEJ5SUQocG9zdF9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IHBvc3RfaWQgfSB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgdXNlcidzIHBvc3RzXG4gICAgc3RhdGljIGFzeW5jIGdldFVzZXJQb3N0cyh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRBbGwoeyB3aGVyZTogeyBjcmVhdG9yX0lkOiB1c2VyX2lkIH0gfSk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IFNhdmVkIHBvc3QgYnkgcG9zdCBJRFxuICAgIHN0YXRpYyBhc3luYyBnZXRTYXZlZFBvc3QocG9zdF9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IHBvc3RfaWQgfSB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgcG9zdCBieSByZWZlcmVuY2UgSUQgKGNyZWF0b3JfSWQpXG4gICAgc3RhdGljIGFzeW5jIGdldFBvc3RCeVJlZmVyZW5jZUlEKGNyZWF0b3JfSWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGNyZWF0b3JfSWQgfSB9KTtcbiAgICB9XG59XG4vLyBTeW5jIHRoZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuUG9zdHMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBjYXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBsaWtlc19Db3VudDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRvcl9JZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnUG9zdHMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxufSk7XG4vLyBDcmVhdGUgbmV3IHBvc3RcblBvc3RzLmNyZWF0ZVBvc3QgPSBhc3luYyBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICAgICAgcmV0dXJuIG5ld1Bvc3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBuZXcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBVcGRhdGUgcG9zdCBieSBJRFxuUG9zdHMudXBkYXRlUG9zdCA9IGFzeW5jIGZ1bmN0aW9uIChpZCwgYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdID0gYXdhaXQgdGhpcy51cGRhdGUoYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgICAgIHJldHVybmluZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFBvc3RzXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gaW5maW5pdGUgcG9zdHNcblBvc3RzLmdldEluZmluaXRlUG9zdHMgPSBhc3luYyBmdW5jdGlvbiAob2Zmc2V0LCBsaW1pdCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgdGhpcy5maW5kQWxsKHsgb2Zmc2V0LCBsaW1pdCB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3RzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbmZpbml0ZSBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBHZXQgc2VhcmNoIHJlc3VsdHMgLSBwb3N0c1xuUG9zdHMuZ2V0UG9zdEJ5SUQgPSBhc3luYyBmdW5jdGlvbiAoaWQpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQgfSB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHBvc3QgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gR2V0IHVzZXIncyBwb3N0c1xuUG9zdHMuZ2V0VXNlclBvc3RzID0gYXN5bmMgZnVuY3Rpb24gKHVzZXJfaWQpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IHRoaXMuZmluZEFsbCh7IHdoZXJlOiB7IGNyZWF0b3JfSWQ6IHVzZXJfaWQgfSB9KTtcbiAgICAgICAgcmV0dXJuIHBvc3RzO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIgYW5kIFBvc3QgbW9kZWxzXG5Vc2Vycy5oYXNNYW55KFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ2NyZWF0b3JfSWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuUG9zdHMuYmVsb25nc1RvKFVzZXJzLCB7XG4gICAgZm9yZWlnbktleTogJ2NyZWF0b3JfSWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1Bvc3Qgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIFBvc3Q6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgUG9zdHM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsLmpzJztcbmltcG9ydCBQb3N0cyBmcm9tICcuL3Bvc3QubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFNhdmVzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIENyZWF0ZSBjdXN0b20gY2xhc3MgbWV0aG9kcyB0byBjcmVhdGUgYSBuZXcgcG9zdFxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVTYXZlKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlKGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgY3VzdG9tIG1ldGhvZCB0byBjaGVjayBpZiBwb3N0IGlzIHNhdmVkXG4gICAgc3RhdGljIGFzeW5jIGNoZWNrSWZTYXZlZCh1c2VyX2lkLCBwb3N0X2lkKSB7XG4gICAgICAgIGNvbnN0IHNhdmUgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyB1c2VyX2lkLCBwb3N0X2lkIH0gfSk7XG4gICAgICAgIHJldHVybiAhIXNhdmU7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBjdXN0b20gbWV0aG9kIHRvIGRlbGV0ZSBhIHNhdmVkIHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlU2F2ZWRQb3N0KHBvc3RfaWQpIHtcbiAgICAgICAgY29uc3Qgc2F2ZSA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IHBvc3RfaWQgfSB9KTtcbiAgICAgICAgaWYgKHNhdmUpIHtcbiAgICAgICAgICAgIGF3YWl0IHNhdmUuZGVzdHJveSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBjdXN0b20gbWV0aG9kIHRvIGdldCBhbGwgc2F2ZWQgcG9zdHNcbiAgICBzdGF0aWMgYXN5bmMgZ2V0U2F2ZWRQb3N0cyh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRBbGwoe1xuICAgICAgICAgICAgd2hlcmU6IHsgdXNlcl9pZCB9LFxuICAgICAgICAgICAgaW5jbHVkZTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IFBvc3RzLFxuICAgICAgICAgICAgICAgICAgICBhczogJ1Bvc3QnLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBEZWZpbmUgdGhlIFNhdmVzIG1vZGVsXG5TYXZlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBzYXZlRGF0ZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgdGFibGVOYW1lOiAnU2F2ZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbn0pO1xuLy8gQ3JlYXRlIGEgZnVuY3Rpb24gdG8gZGVsZXRlIHNhdmVkIFBvc3QgdXNpbmcgdGhlIHN0YXRpYyBtZXRob2RcblNhdmVzLmRlbGV0ZVNhdmVkUG9zdCA9IGFzeW5jIGZ1bmN0aW9uIChwb3N0X2lkKSB7XG4gICAgY29uc3Qgc2F2ZSA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IHBvc3RfaWQgfSB9KTtcbiAgICBpZiAoc2F2ZSkge1xuICAgICAgICBhd2FpdCBzYXZlLmRlc3Ryb3koKTtcbiAgICB9XG59O1xuLy8gQ3JlYXRlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFNhdmVzIGFuZCBVc2Vyc1xuU2F2ZXMuYmVsb25nc1RvKFVzZXJzLCB7XG4gICAgZm9yZWlnbktleTogJ3VzZXJfaWQnLFxuICAgIHRhcmdldEtleTogJ2lkJyxcbn0pO1xuLy8gQ3JlYXRlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIFNhdmVzIGFuZCBQb3N0c1xuU2F2ZXMuYmVsb25nc1RvKFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIHRhcmdldEtleTogJ2lkJyxcbn0pO1xuU2F2ZXMuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnU2F2ZSBQb3N0IHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBTYXZlIHBvc3Q6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgU2F2ZXM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG4vLyBEZWZpbmUgSW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5jb25zdCBzZXF1ZWxpemUgPSBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpO1xuY2xhc3MgVXNlcnMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgdXNlciBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyQnlJRCh1c2VyX2lkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBpZDogdXNlcl9pZCB9IH0pO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZ2V0QWxsVXNlcnMobGltaXQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEFsbCh7XG4gICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIHVwZGF0ZSBhIHVzZXIgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgdXBkYXRlVXNlcihpZCwgYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFVzZXJzXSA9IGF3YWl0IHRoaXMudXBkYXRlKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRVc2Vyc107XG4gICAgfVxufVxuLy8gU3luYyB0aGUgbW9kZWwgd2l0aCB0aGUgZGF0YWJhc2VcblVzZXJzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgZmlyc3ROYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGxhc3ROYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGlzOiAvXlthLXpBLVowLTlfXSokLyxcbiAgICAgICAgICAgIGxlbjogWzMsIDIwXSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGlzRW1haWw6IHRydWUsXG4gICAgICAgICAgICBsZW46IFs1LCA1MF0sXG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGhhc2hlZHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjQpLFxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ3VudmVyaWZpZWQnLFxuICAgIH0sXG4gICAgYmlvOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ1RoaXMgaXMgYSBuZXcgdXNlci4nLFxuICAgIH0sXG4gICAgam9pbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgYXZhdGFyVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgcHJvZmlsZVBpYzoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnTmV3IFVzZXInLFxuICAgIH0sXG4gICAgbGFzdF9hY3Rpdml0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgdXBkYXRlZF9hdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgVXNlclJlZ2lzdHJhdGlvbklEOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlclJlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnVXNlcnMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIHVwZGF0ZWRBdDogJ3VwZGF0ZWRfYXQnLFxufSk7XG4vLyBTeW5jIFVzZXIgbW9kZWwgd2l0aCB0aGUgZGF0YWJhc2VcbmF3YWl0IHNlcXVlbGl6ZVxuICAgIC5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdOZXcgVXNlciBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlcnM7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YXRhclVybCB9IGZyb20gJy4uL3V0aWxzL2F2YXRhcic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBVc2VyUmVnaXN0cmF0aW9uIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gbG9nIGluIHVzZXIgdXBvbiBzdWNjZXNzZnVsIHJlZ2lzdHJhdGlvblxuICAgIHN0YXRpYyBhc3luYyBsb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLCBoYXNoZWRwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gbG9nIG91dCB1c2VyXG4gICAgc3RhdGljIGFzeW5jIGxvZ291dFVzZXIoZW1haWwpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gcmVzZXQgdGhlIHBhc3N3b3JkLCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcbiAgICBzdGF0aWMgYXN5bmMgcmVzZXRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwsIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCB9LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5Vc2VyUmVnaXN0cmF0aW9uLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgbmV3VXNlcjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBoYXNoZWRwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgY3JlYXRlZEF0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemU6IHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdVc2VyUmVnaXN0cmF0aW9uJyxcbiAgICBjcmVhdGVkQXQ6ICdjcmVhdGVkQXQnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbn0pO1xuLy8gSGFzaCB0aGUgcGFzc3dvcmQgYmVmb3JlIHNhdmluZ1xuVXNlclJlZ2lzdHJhdGlvbi5iZWZvcmVDcmVhdGUoYXN5bmMgKHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGJjcnlwdC5nZW5TYWx0U3luYygxMCk7XG4gICAgICAgICAgICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKFN0cmluZyh1c2VyLmhhc2hlZHBhc3N3b3JkKSwgc2FsdCk7XG4gICAgICAgICAgICB1c2VyLmhhc2hlZHBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhc2hpbmcgcGFzc3dvcmQ6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGhhc2hpbmcgcGFzc3dvcmQnKTtcbiAgICB9XG59KTtcblVzZXJSZWdpc3RyYXRpb24uYWZ0ZXJDcmVhdGUoYXN5bmMgKHVzZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2VJbmRleCA9IHVzZXIubmV3VXNlcj8ubGFzdEluZGV4T2YoJyAnKTtcbiAgICAgICAgICAgIC8vIEV4dHJhY3QgdGhlIGZpcnN0IG5hbWUgYW5kIGxhc3QgbmFtZSBiYXNlZCBvbiB0aGUgbGFzdCBzcGFjZVxuICAgICAgICAgICAgY29uc3QgZmlyc3RfTmFtZSA9IHNwYWNlSW5kZXggIT09IC0xID8gdXNlci5uZXdVc2VyPy5zbGljZSgwLCBzcGFjZUluZGV4KSA6IHVzZXIubmV3VXNlcjtcbiAgICAgICAgICAgIGNvbnN0IGxhc3ROYW1lID0gc3BhY2VJbmRleCAhPT0gLTEgPyB1c2VyLm5ld1VzZXI/LnNsaWNlKHNwYWNlSW5kZXggPz8gKzEpIDogbnVsbCA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IGF2YXRhciA9IGdlbmVyYXRlQXZhdGFyVXJsKHVzZXIudXNlcm5hbWUpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIG9yIHVwZGF0ZSB0aGUgdXNlciByZWNvcmQgaW4gdGhlIFVzZXJzIHRhYmxlXG4gICAgICAgICAgICBhd2FpdCBVc2Vycy51cHNlcnQoe1xuICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZmlyc3RfTmFtZSxcbiAgICAgICAgICAgICAgICBsYXN0TmFtZTogbGFzdE5hbWUsXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgICAgaGFzaGVkcGFzc3dvcmQ6IHVzZXIuaGFzaGVkcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiAndW52ZXJpZmllZCcsXG4gICAgICAgICAgICAgICAgYmlvOiAnSSBhbSBhIG5ldyB1c2VyLicsXG4gICAgICAgICAgICAgICAgam9pbjogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBhdmF0YXJVcmw6IGF2YXRhcixcbiAgICAgICAgICAgICAgICBpbWFnZVVSTDogbnVsbCxcbiAgICAgICAgICAgICAgICBwcm9maWxlUGljOiBudWxsLFxuICAgICAgICAgICAgICAgIGxhYmVsOiAnTmV3IFVzZXInLFxuICAgICAgICAgICAgICAgIGxhc3RfYWN0aXZpdHk6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBVc2VyUmVnaXN0cmF0aW9uSUQ6IHVzZXIuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmVnaXN0ZXJpbmcgbmV3IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG5ldyB1c2VyJyk7XG4gICAgfVxufSk7XG4vLyBEZWZpbmUgYSBjdXN0b20gbWV0aG9kIHRvIGxvZ2luIHVzZXIgd2l0aCBlbWFpbCBhbmQgcGFzc3dvcmQgYW5kIGNvbXBhcmUgdGhlIGhhc2hlZCBwYXNzd29yZFxuVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIgPSBhc3luYyBmdW5jdGlvbiAoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgY29uc3QgYXV0aCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCB1c2VyLmhhc2hlZHBhc3N3b3JkKTtcbiAgICAgICAgICAgIGlmIChhdXRoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVzZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29ycmVjdCBwYXNzd29yZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgZW1haWwnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBpbiB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cbn07XG4vLyBEZWZpbmUgYSBjdXN0b20gbWV0aG9kIHRvIGxvZ291dCB1c2VyXG5Vc2VyUmVnaXN0cmF0aW9uLmxvZ291dFVzZXIgPSBhc3luYyBmdW5jdGlvbiAoZW1haWwpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgZW1haWw6IGVtYWlsIH0gfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIG91dCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVc2VyIG5vdCBmb3VuZCcpO1xuICAgIH1cbn07XG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgUmVnaXN0ZXJlZCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlclJlZ2lzdHJhdGlvbjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgeyBjb3JPcHRpb25zIH0gZnJvbSAnLi4vY29uZmlnL2Nvck9wdGlvbnMnO1xuaW1wb3J0ICogYXMgYXV0aENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoY29yT3B0aW9ucykpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvcmVnaXN0ZXInLCBhdXRoQ29udHJvbGxlci51c2VyUmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hcGkvbG9naW4nLCBhdXRoQ29udHJvbGxlci51c2VyTG9naW4pO1xucm91dGVyLmdldCgnL2FwaS9sb2dvdXQnLCBhdXRoQ29udHJvbGxlci51c2VyTG9nb3V0KTtcbnJvdXRlci5wb3N0KCcvYXBpL3JlZnJlc2gtdG9rZW4nLCBhdXRoQ29udHJvbGxlci5yZWZyZXNoVG9rZW4pO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5kb3RlbnYuY29uZmlnKCk7XG5yb3V0ZXIudXNlKGNvcnMoKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFVzZXInLCB2ZXJpZnlVc2VyLCBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIElEIGlzIHJlcXVpcmVkIFMgcm91dGVzJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCB7IGNvck9wdGlvbnMgfSBmcm9tICcuLi9jb25maWcvY29yT3B0aW9ucyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHVwbG9hZCBmcm9tICcuLi9zZXJ2aWNlcy9tdWx0ZXIuY29uZmlnJztcbmltcG9ydCBnZXRJbWFnZVByZXZpZXdVcmwgZnJvbSAnLi4vY29udHJvbGxlcnMvaW1hZ2VDb250cm9sbGVyJztcbmltcG9ydCBJbWFnZVN0b3JhZ2VzIGZyb20gJy4uL21vZGVscy9pbWFnZS5tb2RlbCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5kb3RlbnYuY29uZmlnKCk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuLy8gRW5hYmxlIENPUlMgZm9yIGFsbCByb3V0ZXNcbnJvdXRlci51c2UoY29ycyhjb3JPcHRpb25zKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIHJlcy5oZWFkZXIoJ2VuY29kaW5nJywgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvdXBsb2FkSW1hZ2UnLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmlsZSB1cGxvYWRlZDonLCByZXEuZmlsZSk7XG4gICAgICAgIC8vIE1vZGlmeSB0aGUgZmlsZSBwYXRoIHRvIHRoZSByZXF1aXJlZCBmb3JtYXRcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gYGFzc2V0cy9pbWFnZXMvJHtyZXEuZmlsZT8uZmlsZW5hbWV9YDtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0SWQsIDEwKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVjb3JkID0gYXdhaXQgSW1hZ2VTdG9yYWdlcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHBvc3RfaWQ6IHBvc3RfaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWltYWdlUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBlcnJvcjogJ0Vycm9yIGNyZWF0aW5nIGltYWdlIHJlY29yZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn0pO1xucm91dGVyLmdldCgnL2FwaS9zZW5kSW1hZ2VVcmwnLCBnZXRJbWFnZVByZXZpZXdVcmwpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgeyBjcmVhdGVQb3N0LCBkZWxldGVMaWtlZFBvc3QsIGRlbGV0ZVBvc3QsIGRlbGV0ZVNhdmVkUG9zdCwgZ2V0QWxsUG9zdHMsIGdldFBvc3RCeUlkLCBsaWtlUG9zdCwgc2F2ZVBvc3QsIHVwZGF0ZVBvc3QsIGdldEluZmluaXRlUG9zdHMsIHNlYXJjaFBvc3RzLCBnZXRVc2VyUG9zdHMsIGdldFBvcHVsYXJQb3N0cywgZ2V0U2F2ZWRQb3N0cywgfSBmcm9tICcuLi9jb250cm9sbGVycy9Qb3N0Q29udHJvbGxlcic7XG5pbXBvcnQgeyB2ZXJpZnlVc2VyIH0gZnJvbSAnLi4vbG9hZGVycy9hdXRoL3VzZXJBdXRoJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG4vLyBDcmVhdGUgYSBuZXcgcG9zdFxucm91dGVyLnBvc3QoJy9hcGkvY3JlYXRlUG9zdCcsIGNyZWF0ZVBvc3QpO1xuLy8gVXBkYXRlIGEgcG9zdFxucm91dGVyLnB1dCgnL2FwaS91cGRhdGVQb3N0JywgdXBkYXRlUG9zdCk7XG4vLyBkZWxldGUgYSBwb3N0XG5yb3V0ZXIuZGVsZXRlKCcvYXBpL2RlbGV0ZVBvc3QnLCBkZWxldGVQb3N0KTtcbi8vIEdldCBSZWNlbnQgUG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0QWxsUG9zdHMnLCBnZXRBbGxQb3N0cyk7XG4vLyBHZXQgcG9zdCBieSBJRFxucm91dGVyLmdldCgnL2FwaS9nZXRQb3N0QnlJZCcsIHZlcmlmeVVzZXIsIGdldFBvc3RCeUlkKTtcbi8vIExpa2UgYSBQb3N0XG5yb3V0ZXIucG9zdCgnL2FwaS9saWtlUG9zdCcsIGxpa2VQb3N0KTtcbi8vIFNhdmUgYSBQb3N0XG5yb3V0ZXIucG9zdCgnL2FwaS9zYXZlUG9zdCcsIHZlcmlmeVVzZXIsIHNhdmVQb3N0KTtcbi8vIGdldCBzYXZlZCBwb3N0c1xucm91dGVyLmdldCgnL2FwaS9nZXRTYXZlZFBvc3RzJywgdmVyaWZ5VXNlciwgZ2V0U2F2ZWRQb3N0cyk7XG4vLyBEZWxldGUgYSBQb3N0XG5yb3V0ZXIuZGVsZXRlKCcvYXBpL2RlbGV0ZVNhdmVkUG9zdCcsIGRlbGV0ZVNhdmVkUG9zdCk7XG4vLyBEZWxldGUgYSBsaWtlXG5yb3V0ZXIuZGVsZXRlKCcvYXBpL2RlbGV0ZUxpa2VQb3N0JywgZGVsZXRlTGlrZWRQb3N0KTtcbi8vIEdldCBJbmZpbml0ZSBQb3N0c1xucm91dGVyLmdldCgnL2FwaS9nZXRJbmZpbml0ZVBvc3RzJywgZ2V0SW5maW5pdGVQb3N0cyk7XG4vLyBTZWFyY2ggUG9zdHNcbnJvdXRlci5wb3N0KCcvYXBpL3NlYXJjaFBvc3RzJywgc2VhcmNoUG9zdHMpO1xuLy8gR2V0IHVzZXIncyBzYXZlZCBwb3N0c1xucm91dGVyLmdldCgnL2FwaS9nZXRVc2VyUG9zdHMnLCBnZXRVc2VyUG9zdHMpO1xuLy8gR2V0IHBvcHVsYXIgcG9zdHNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0UG9wdWxhclBvc3RzJywgZ2V0UG9wdWxhclBvc3RzKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vY29uZmlnL2luZGV4JztcbmltcG9ydCBhdXRoUm91dGVzIGZyb20gJy4vYXV0aFJvdXRlcyc7XG5pbXBvcnQgY3VycmVudFVzZXJSb3V0ZSBmcm9tICcuL2N1cnJlbnRVc2VyUm91dGUnO1xuaW1wb3J0IHVzZXJSb3V0ZXMgZnJvbSAnLi91c2VyUm91dGVzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgcG9zdFJvdXRlcyBmcm9tICcuL3Bvc3RSb3V0ZXMnO1xuaW1wb3J0IGltYWdlUm91dGVzIGZyb20gJy4vaW1hZ2VSb3V0ZXMnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG4vLyBhcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbnJvdXRlci5nZXQoJy8nLCAoX3JlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoe1xuICAgICAgICBzdGF0dXM6IGAke2Vudi5OT0RFX0VOVn1gLFxuICAgICAgICBtZXNzYWdlOiBgJHtlbnYuUkVTUE9OU0VfU1RBVFVTfWAsXG4gICAgICAgIG5hbWU6IGAke2Vudi5BUFBfTkFNRX1gLFxuICAgIH0pO1xufSk7XG5yb3V0ZXIudXNlKGF1dGhSb3V0ZXMpO1xucm91dGVyLnVzZShwb3N0Um91dGVzKTtcbnJvdXRlci51c2UoaW1hZ2VSb3V0ZXMpO1xucm91dGVyLnVzZSh1c2VyUm91dGVzKTtcbnJvdXRlci51c2UoY3VycmVudFVzZXJSb3V0ZSk7XG5leHBvcnQgeyByb3V0ZXIgfTtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHsgZ2V0QWxsVXNlcnMsIGdldFVzZXJCeUlELCB1cGRhdGVVc2VyLCB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL3VzZXJDb250cm9sbGVyJztcbmltcG9ydCB7IHZlcmlmeVVzZXIgfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvdXNlckF1dGgnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IExpa2VzIGZyb20gJy4uL21vZGVscy9saWtlUG9zdC5tb2RlbCc7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi4vbW9kZWxzL3Bvc3QubW9kZWwnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbi8vIFVzZXIgQXV0aGVudGljYXRpb24gTWlkZGxld2FyZVxucm91dGVyLmdldCgnL2FwaS9nZXRDdXJyZW50VXNlcicsIHZlcmlmeVVzZXIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIElEIGlzIHJlcXVpcmVkIFMgcm91dGVzJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZ2V0UG9zdEJ5UmVmZXJlbmNlSUQodXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwb3N0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJMaWtlcyA9IGF3YWl0IExpa2VzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIGlmICghdXNlckxpa2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQgUyByb3V0ZXMnIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgY3VycmVudFVzZXI6IHVzZXIsIHBvc3QsIHVzZXJMaWtlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgfVxufSk7XG4vLyBHZXQgYWxsIHVzZXJzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldEFsbFVzZXJzJywgZ2V0QWxsVXNlcnMpO1xuLy8gR2V0IHVzZXIgYnkgSURcbnJvdXRlci5nZXQoJy9hcGkvZ2V0VXNlckJ5SUQnLCBnZXRVc2VyQnlJRCk7XG4vLyBVcGRhdGUgdXNlciBieSBJRFxucm91dGVyLmdldCgnL2FwaS91cGRhdGVVc2VyJywgdXBkYXRlVXNlcik7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcic7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHZhbGlkYXRlTUlNRVR5cGUgfSBmcm9tICd2YWxpZGF0ZS1pbWFnZS10eXBlJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG4vLyBEZWZpbmUgY3VzdG9tIGRlc3RpbmF0aW9uIGRpcmVjdG9yeVxuY29uc3QgdXBsb2FkRGlyID0gJy9ob21lL2JhYnNkZXZzeXMvYXBwVi0xL3B1YmxpYy9hc3NldHMvaW1hZ2VzJztcbi8vIEVuc3VyZSB0aGUgZGlyZWN0b3J5IGV4aXN0c1xuaWYgKCFmcy5leGlzdHNTeW5jKHVwbG9hZERpcikpIHtcbiAgICBmcy5ta2RpclN5bmModXBsb2FkRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbn1cbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAoX3JlcSwgX2ZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsIHVwbG9hZERpcik7XG4gICAgfSxcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKF9yZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNvbnN0IHVuaXF1ZVN1ZmZpeCA9IERhdGUubm93KCkgKyAnLScgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxZTkpO1xuICAgICAgICBjYihudWxsLCBmaWxlLmZpZWxkbmFtZSArICctJyArIHVuaXF1ZVN1ZmZpeCArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpO1xuICAgIH0sXG59KTtcbi8vIENoZWNrIGZpbGUgdHlwZVxuY29uc3QgdmFsaWRhdGVNaW1lVHlwZSA9IGFzeW5jIChmaWxlLCBjYikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBhd2FpdCB2YWxpZGF0ZU1JTUVUeXBlKGZpbGUucGF0aCwge1xuICAgICAgICAgICAgb3JpZ2luYWxGaWxlbmFtZTogZmlsZS5vcmlnaW5hbG5hbWUsXG4gICAgICAgICAgICBhbGxvd01pbWVUeXBlczogWydpbWFnZS9qcGVnJywgJ2ltYWdlL3BuZycsICdpbWFnZS9zdmcreG1sJ10sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQub2spIHtcbiAgICAgICAgICAgIHJldHVybiBjYihuZXcgRXJyb3IoJ0ludmFsaWQgZmlsZSB0eXBlJykpO1xuICAgICAgICB9XG4gICAgICAgIGNiKG51bGwsIHRydWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdmFsaWRhdGluZyBmaWxlIHR5cGU6JywgZXJyb3IpO1xuICAgICAgICBjYihuZXcgRXJyb3IoJ0Vycm9yIHZhbGlkYXRpbmcgZmlsZSB0eXBlJykpO1xuICAgIH1cbn07XG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoe1xuICAgIHN0b3JhZ2U6IHN0b3JhZ2UsXG4gICAgbGltaXRzOiB7IGZpbGVTaXplOiAxMDAwMDAwMCB9LFxuICAgIGZpbGVGaWx0ZXI6IGZ1bmN0aW9uIChfcmVxLCBmaWxlLCBjYikge1xuICAgICAgICBjb25zdCBmaWxldHlwZXMgPSAvanBlZ3xqcGd8cG5nfHN2Zy87XG4gICAgICAgIGNvbnN0IG1pbWV0eXBlID0gZmlsZXR5cGVzLnRlc3QoZmlsZS5taW1ldHlwZSk7XG4gICAgICAgIGNvbnN0IGV4dG5hbWUgPSBmaWxldHlwZXMudGVzdChwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICBpZiAobWltZXR5cGUgJiYgZXh0bmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlTWltZVR5cGUoZmlsZS5wYXRoLCBjYik7XG4gICAgfSxcbn0pO1xuZXhwb3J0IGRlZmF1bHQgdXBsb2FkO1xuIiwiaW1wb3J0IHsgUGVyZm9ybWFuY2VPYnNlcnZlciwgcGVyZm9ybWFuY2UgfSBmcm9tICdub2RlOnBlcmZfaG9va3MnO1xuLy8gU2V0IHVwIHRoZSBQZXJmb3JtYW5jZU9ic2VydmVyXG5jb25zdCBvYnMgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihpdGVtcyA9PiB7XG4gICAgaXRlbXMuZ2V0RW50cmllcygpLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhgJHtlbnRyeS5uYW1lfTogJHtlbnRyeS5kdXJhdGlvbn1tc2ApO1xuICAgIH0pO1xuICAgIHBlcmZvcm1hbmNlLmNsZWFyTWFya3MoKTtcbn0pO1xub2JzLm9ic2VydmUoeyB0eXBlOiAnbWVhc3VyZScgfSk7XG4vLyBTaW11bGF0ZSB0aGUgbG9hZGVyIGZ1bmN0aW9uXG5hc3luYyBmdW5jdGlvbiBsb2FkZXIoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gTWFyayB0aGUgc3RhcnQgb2YgdGhlIGxvYWRlclxuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKCdMb2FkZXIgU3RhcnQnLCB7XG4gICAgICAgICAgICBkZXRhaWw6ICdMb2FkZXIgc3RhcnRlZCcsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBQZXJmb3JtIFRhc2sgMVxuICAgICAgICBhd2FpdCBkb1NvbWVMb25nUnVubmluZ1Byb2Nlc3MoKTtcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyaygnVGFzayAxIEVuZCcsIHtcbiAgICAgICAgICAgIGRldGFpbDogJ1Rhc2sgMSBjb21wbGV0ZWQnLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUGVyZm9ybSBUYXNrIDJcbiAgICAgICAgYXdhaXQgZG9Tb21lTG9uZ1J1bm5pbmdQcm9jZXNzKCk7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoJ1Rhc2sgMiBFbmQnLCB7XG4gICAgICAgICAgICBkZXRhaWw6ICdUYXNrIDIgY29tcGxldGVkJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGxvZ2luTWVhc3VyZSA9IHBlcmZvcm1hbmNlLm1lYXN1cmUoJ1Rhc2sgMiBEdXJhdGlvbicsICdUYXNrIDEgRW5kJywgJ1Rhc2sgMiBFbmQnKTtcbiAgICAgICAgY29uc29sZS5sb2cobG9naW5NZWFzdXJlLmR1cmF0aW9uKTtcbiAgICAgICAgLy8gRW5kIG9mIHRoZSBsb2FkZXJcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyaygnTG9hZGVyIEVuZCcpO1xuICAgICAgICBwZXJmb3JtYW5jZS5tZWFzdXJlKCdUb3RhbCBMb2FkZXIgRHVyYXRpb24nLCAnTG9hZGVyIFN0YXJ0JywgJ0xvYWRlciBFbmQnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGxvYWRlcjonLCBlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gZG9Tb21lTG9uZ1J1bm5pbmdQcm9jZXNzKCkge1xuICAgIC8vIFJldHVybiBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBhIHRpbWVvdXQgdG8gc2ltdWxhdGUgYSBsb25nLXJ1bm5pbmcgcHJvY2Vzc1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0sIDEwMDApOyAvLyAxIHNlY29uZCB0aW1lb3V0IHRvIHNpbXVsYXRlIHRoZSBwcm9jZXNzIGR1cmF0aW9uXG4gICAgfSk7XG59XG5leHBvcnQgZGVmYXVsdCBsb2FkZXI7XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24uanMnO1xuaW1wb3J0IEltYWdlU3RvcmFnZXMgZnJvbSAnLi4vbW9kZWxzL2ltYWdlLm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJ1bmNhdGVUYWJsZXMoKSB7XG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBhd2FpdCBzZXF1ZWxpemUudHJhbnNhY3Rpb24oKTtcbiAgICB0cnkge1xuICAgICAgICAvLyBhd2FpdCBVc2Vycy5kZXN0cm95KHsgd2hlcmU6IHt9LCB0cnVuY2F0ZTogdHJ1ZSB9KTtcbiAgICAgICAgLy8gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5kZXN0cm95KHsgd2hlcmU6IHt9LCB0cnVuY2F0ZTogdHJ1ZSB9KTtcbiAgICAgICAgYXdhaXQgSW1hZ2VTdG9yYWdlcy50cnVuY2F0ZSh7IHRyYW5zYWN0aW9uIH0pO1xuICAgICAgICAvLyBJZiBldmVyeXRoaW5nIGlzIHN1Y2Nlc3NmdWwsIGNvbW1pdCB0aGUgdHJhbnNhY3Rpb25cbiAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24uY29tbWl0KCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdUYWJsZXMgaGF2ZSBiZWVuIHRydW5jYXRlZC4uLicpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciwgcm9sbCBiYWNrIHRoZSB0cmFuc2FjdGlvblxuICAgICAgICBhd2FpdCB0cmFuc2FjdGlvbi5yb2xsYmFjaygpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cnVuY2F0aW5nIHRhYmxlczonLCBlcnJvcik7XG4gICAgfVxufVxuIiwiLy8gSW1wb3J0IG5lY2Vzc2FyeSBtb2R1bGVzXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhIGhhc2ggZnJvbSBhIHN0cmluZ1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSGFzaChzdHIpIHtcbiAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShzdHIpLmRpZ2VzdCgnaGV4Jyk7XG59XG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhbiBhdmF0YXIgVVJMIGJhc2VkIG9uIHVzZXIgaW5pdGlhbHNcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUF2YXRhclVybChuYW1lKSB7XG4gICAgLy8gRXh0cmFjdCB0aGUgaW5pdGlhbHMgZnJvbSB0aGUgdXNlcidzIG5hbWVcbiAgICBjb25zdCBpbml0aWFscyA9IG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLm1hcChwYXJ0ID0+IHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAvLyBVc2UgYSBzZXJ2aWNlIHRoYXQgZ2VuZXJhdGVzIGF2YXRhcnMgd2l0aCBpbml0aWFsc1xuICAgIGNvbnN0IHNpemUgPSAyMDA7IC8vIFNwZWNpZnkgdGhlIGRlc2lyZWQgc2l6ZSBvZiB0aGUgYXZhdGFyXG4gICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gJ3JhbmRvbSc7IC8vIFVzZSBhIHJhbmRvbSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgY29uc3QgdGV4dENvbG9yID0gJ2ZmZic7IC8vIFVzZSB3aGl0ZSB0ZXh0IGNvbG9yXG4gICAgY29uc3QgYmFzZVVybCA9IGBodHRwczovL3VpLWF2YXRhcnMuY29tL2FwaS8/bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChpbml0aWFscyl9JnNpemU9JHtzaXplfSZiYWNrZ3JvdW5kPSR7YmFja2dyb3VuZENvbG9yfSZjb2xvcj0ke3RleHRDb2xvcn1gO1xuICAgIHJldHVybiBiYXNlVXJsO1xufVxuIiwiLy8gc3JjL2Vycm9ySGFuZGxlci50c1xuaW1wb3J0IHByb2Nlc3MgZnJvbSAnbm9kZTpwcm9jZXNzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnO1xuZXhwb3J0IGNvbnN0IGhhbmRsZUVycm9yID0gKGVyciwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgLy8gSW5pdGlhbGl6ZSBlcnJvcnMgb2JqZWN0XG4gICAgbGV0IGVycm9ycyA9IHt9O1xuICAgIC8vIEhhbmRsZSBzcGVjaWZpYyBlcnJvcnMgY2FzZXNcbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldyBVc2VyIHZhbGlkYXRpb24gZXJyb3InKSkge1xuICAgICAgICBlcnJvcnMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnTmFtZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB1c2VybmFtZTogJ3VzZXJuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIGVtYWlsOiAnZW1haWwgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCBpcyByZXF1aXJlZCcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnVXNlclJlZ2lzdHJhdGlvbnMuZW1haWwnKSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSAnRW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkJztcbiAgICB9XG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdpbmNvcnJlY3QgZW1haWwnKSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSAnZW1haWwgaXMgbm90IHJlZ2lzdGVyZWQnO1xuICAgIH1cbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ0luY29ycmVjdCBwYXNzd29yZCcpKSB7XG4gICAgICAgIGVycm9ycy5wYXNzd29yZCA9ICdwYXNzd29yZCBpcyBpbmNvcnJlY3QnO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgU2VxdWVsaXplIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgaWYgKGVyci5uYW1lID09PSAnU2VxdWVsaXplVmFsaWRhdGlvbkVycm9yJyAmJiBlcnIuZXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gZXJyLmVycm9yLnJlZHVjZSgoYWNjLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgYWNjW2Vycm9yLnBhdGhdID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgcmVzLnN0YXR1cyhlcnIuY29kZSB8fCA1MDApLmpzb24oeyBlcnJvcnMgfSk7XG59O1xuLy8gRnVuY3Rpb24gdG8gbG9nIGVycm9ycyB0byBhIGZpbGVcbmZ1bmN0aW9uIGxvZ0Vycm9yVG9GaWxlKGVycikge1xuICAgIGNvbnN0IGxvZyA9IGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0gLSAke2Vyci5tZXNzYWdlfVxcbiR7ZXJyLnN0YWNrfVxcbmA7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMoJ2Vycm9yLmxvZycsIGxvZyk7XG59XG5jb25zdCB1bmhhbmRsZWRSZWplY3Rpb25zID0gbmV3IE1hcCgpO1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQ6JywgcHJvbWlzZSwgJ3JlYXNvbjonLCByZWFzb24pO1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuc2V0KHByb21pc2UsIHJlYXNvbik7XG59KTtcbnByb2Nlc3Mub24oJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlID0+IHtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLmRlbGV0ZShwcm9taXNlKTtcbn0pO1xuLy8gR2xvYmFsIGVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUgZm9yIEV4cHJlc3NcbmV4cG9ydCBmdW5jdGlvbiBnbG9iYWxFcnJvckhhbmRsZXIoZXJyLCBfcmVxLCByZXMsIG5leHQpIHtcbiAgICBsb2dFcnJvclRvRmlsZShlcnIpO1xuICAgIC8vIFNlbmQgZ2VuZXJpYyBlcnJvciByZXNwb25zZVxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnLFxuICAgIH0pO1xuICAgIG5leHQoZXJyKTtcbn1cbi8vIENhdGNoIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbnNcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgICBsb2dFcnJvclRvRmlsZShyZWFzb24pO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQ6JywgcHJvbWlzZSwgJ3JlYXNvbjonLCByZWFzb24pO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuLy8gQ2F0Y2ggdW5jYXVnaHQgZXhjZXB0aW9uc1xucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7XG4gICAgbG9nRXJyb3JUb0ZpbGUoZXJyKTtcbiAgICBjb25zb2xlLmVycm9yKCdVbmNhdWdodCBFeGNlcHRpb246JywgZXJyKTtcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG59KTtcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4ge1xuICAgIGZzLndyaXRlU3luYyhwcm9jZXNzLnN0ZGVyci5mZCwgYENhdWdodCBleGNlcHRpb246ICR7ZXJyfVxcbmAgKyBgRXhjZXB0aW9uIE9yaWdpbjogJHtvcmlnaW59XFxuYCk7XG59KTtcbnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdUaGlzIHdpbGwgc3RpbGwgcnVuLicpO1xufSwgZW52LkVSUk9SX1RJTUVPVVQpO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGdsb2JhbEVycm9ySGFuZGxlcixcbiAgICBoYW5kbGVFcnJvcixcbn07XG4iXSwibmFtZXMiOlsiY29yc1NjaGVtYUVOViIsImxvYWQiLCJDT1JTX09SSUdJTiIsIlN0cmluZyIsIkNPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUyIsIk51bWJlciIsIkNPUlNfQ1JFREVOVElBTFMiLCJCb29sZWFuIiwiQ09SU19NRVRIT0RTIiwib2siLCJjb3JzRU5WIiwiY29yT3B0aW9ucyIsIm9yaWdpbiIsIm1ldGhvZHMiLCJjcmVkZW50aWFscyIsIm9wdGlvbnNTdWNjZXNzU3RhdHVzIiwiZGF0YVNjaGVtYUVOViIsIkRCX0hPU1QiLCJEQl9QT1JUIiwiREJfVVNFUiIsIkRCX1BBU1MiLCJEQl9OQU1FIiwiREJfU09DS0VUX1BBVEgiLCJEQl9TT0NLRVRfVElNRU9VVCIsIkRCX0NPTVBSRVNTIiwiREJfREVCVUciLCJEQl9QRVJNSVRfTE9DQUxfSU5GSUxFIiwiREJfVFJBQ0UiLCJEQl9DSEVDS19EVVBMSUNBVEUiLCJEQl9TU0wiLCJEQl9TU0xfQ0EiLCJEQl9TU0xfS0VZIiwiREJfU1NMX0NFUlQiLCJEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMiLCJEQl9DT05ORUNUSU9OX1RJTUVPVVQiLCJkYXRhYmFzZUVOViIsImp3dFNjaGVtYUVOViIsIkpXVF9TRUNSRVQiLCJKV1RfRVhQSVJFU19JTiIsIkpXVF9SRUZSRVNIX1NFQ1JFVCIsIkpXVF9SRUZSRVNIX0VYUElSRVNfSU4iLCJKV1RfUkVGUkVTSF9NQVhfQUdFIiwiSldUX0FMR09SSVRITSIsIkpXVF9JU1NVRVIiLCJKV1RfTUFYX0FHRSIsIkpXVF9IVFRQX09OTFkiLCJKV1RfU0FNRV9TSVRFIiwiSldUX0NPT0tJRV9OQU1FIiwiSldUX1NFQ1VSRSIsImp3dEVOViIsImNyZWF0ZVBvc3QiLCJhc3luYyIsInJlcSIsInJlcyIsImNhcHRpb24iLCJsb2NhdGlvbiIsInRhZ3MiLCJib2R5IiwidG9rZW4iLCJjb29raWVzIiwiand0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnIiLCJkZWNvZGVkVG9rZW4iLCJjb25zb2xlIiwibG9nIiwidXNlcl9pZCIsImlkIiwidXNlciIsImZpbmRCeVBrIiwiaW1hZ2VSZWNvcmQiLCJmaW5kSW1hZ2VCeVJlZmVyZW5jZUtleSIsIm5ld1Bvc3QiLCJjcmVhdGUiLCJpbWFnZVVSTCIsImltYWdlVXJsIiwiY3JlYXRlZF9BdCIsIkRhdGUiLCJjcmVhdG9yX0lkIiwiZXJyb3IiLCJkZWxldGVGaWxlIiwiX3JlcSIsImltYWdlIiwiZmluZE9uZSIsIndoZXJlIiwiZGVzdHJveSIsInVwZGF0ZVBvc3QiLCJuZXdJbWFnZVVybCIsInBvc3RfaWQiLCJwYXJzZUludCIsInF1ZXJ5IiwicG9zdCIsInByZXZpZXdJbWFnZVVybCIsInVwZGF0ZWRQb3N0IiwidXBkYXRlIiwiZ2V0QWxsUG9zdHMiLCJwb3N0cyIsImZpbmRBbGwiLCJpbmNsdWRlIiwibW9kZWwiLCJhcyIsImF0dHJpYnV0ZXMiLCJsaWtlUG9zdCIsImlzTmFOIiwibmV3TGlrZSIsImNyZWF0ZUxpa2UiLCJsaWtlc19Db3VudCIsImxpa2VzQ291bnQiLCJsaWtlIiwiZ2V0UG9zdEJ5SWQiLCJyZXF1ZXN0ZWRVc2VySWQiLCJyZXF1ZXN0ZWRVc2VyIiwiZGVsZXRlTGlrZWRQb3N0IiwiZXhpc3RpbmdMaWtlIiwiY3VycmVudExpa2VzIiwic2F2ZSIsInNhdmVQb3N0IiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzcGxpdCIsIm5ld1NhdmUiLCJjcmVhdGVTYXZlIiwic2F2ZURhdGUiLCJkZWxldGVTYXZlZFBvc3QiLCJleGlzdGluZ1NhdmUiLCJnZXRTYXZlZFBvc3RzIiwic2F2ZWRQb3N0cyIsImRlbGV0ZVBvc3QiLCJnZXRJbmZpbml0ZVBvc3RzIiwicGFnZSIsImxpbWl0Iiwib2Zmc2V0IiwiZmluZEFuZENvdW50QWxsIiwib3JkZXIiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjb3VudCIsInRvdGFsQ291bnQiLCJzZWFyY2hQb3N0cyIsInNlYXJjaFZhbHVlIiwiT3AiLCJvciIsImdldFVzZXJQb3N0cyIsImdldFBvcHVsYXJQb3N0cyIsInBvcHVsYXJQb3N0cyIsInVzZXJSZWdpc3RlciIsIm5hbWUiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJFcnJvciIsIm5ld1VzZXIiLCJoYXNoZWRwYXNzd29yZCIsImNyZWF0ZWRBdCIsImNvb2tpZSIsImh0dHBPbmx5IiwibWF4QWdlIiwic2VjdXJlIiwic2FtZVNpdGUiLCJ1c2VyTG9naW4iLCJsb2dpblVzZXIiLCJyZWZyZXNoVG9rZW4iLCJzZXRIZWFkZXIiLCJsb2NhbHMiLCJ1c2VyTG9nb3V0IiwiYWNjZXNzVG9rZW4iLCJ1c2VySWQiLCJuZXdUb2tlbiIsImV4cGlyZXNJbiIsImFsZ29yaXRobSIsImlzc3VlciIsInByb2Nlc3MiLCJlbnYiLCJnZXRBbGxVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SUQiLCJnZXRQb3N0QnlSZWZlcmVuY2VJRCIsInVzZXJMaWtlcyIsInVwZGF0ZVVzZXIiLCJwYXJhbXMiLCJhZmZlY3RlZENvdW50IiwidXBkYXRlZFVzZXJzIiwibGltaXRlciIsIndpbmRvd01zIiwiUkFSRV9MSU1JVF9XSU5ET1dfTVMiLCJtYXgiLCJNQVgiLCJSQVJFX0xJTUlUX01FU1NBR0UiLCJzdGF0dXNDb2RlIiwiUkFSRV9MSU1JVF9DT0RFIiwiaGFuZGxlciIsImtleUdlbmVyYXRvciIsImlwIiwicmVwbGFjZSIsInNlbmQiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwiand0R2VuZXJhdG9yIiwicGF5bG9hZCIsImp3dFJlZnJlc2giLCJ2ZXJpZnlVc2VyIiwibmV4dCIsIndhaXRGb3JEQiIsInNlcXVlbGl6ZSIsImF0dGVtcHRzIiwiYXV0aGVudGljYXRlIiwic3luYyIsImZvcmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZGJDb25maWciLCJEaWFsZWN0IiwiaG9zdCIsImRhdGFiYXNlIiwic29ja2V0UGF0aCIsInNvY2tldFRpbWVvdXQiLCJjb21wcmVzcyIsImRlYnVnIiwicGVybWl0TG9jYWxJbmZpbGUiLCJ0cmFjZSIsImNoZWNrRHVwbGljYXRlIiwiY29ubmVjdEF0dHJpYnV0ZXMiLCJKU09OIiwicGFyc2UiLCJjb25uZWN0aW9uVGltZW91dCIsInBvcnQiLCJzc2wiLCJkaWFsZWN0T3B0aW9ucyIsImNhIiwidG9TdHJpbmciLCJrZXkiLCJjZXJ0IiwiY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UiLCJTZXF1ZWxpemUiLCJkaWFsZWN0IiwiX19kaXJuYW1lIiwiZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJNYXJpYURiRGlhbGVjdCIsIm1vZGVscyIsImltcG9ydE1vZGVscyIsImFwcCIsImdldCIsInNlbmRTdGF0dXMiLCJlbmQiLCJ1c2UiLCJoZWFkZXIiLCJtZXRob2QiLCJleHRlbmRlZCIsIlRydXN0X1Byb3h5IiwiVFJVU1RfUFJPWFkiLCJudW1iZXJPZlByb3hpZXMiLCJOVU1CRVJfT0ZfUFJPWElFUyIsInNldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvbnRlbnRTZWN1cml0eVBvbGljeSIsIk1PUkdBTiIsIkltYWdlU3RvcmFnZXMiLCJNb2RlbCIsImZpbmRJbWFnZUJ5SWQiLCJ0aGlzIiwidmFsdWUiLCJpbml0IiwidHlwZSIsIkRhdGFUeXBlcyIsIklOVEVHRVIiLCJwcmltYXJ5S2V5IiwiYXV0b0luY3JlbWVudCIsImFsbG93TnVsbCIsIlNUUklORyIsInJlZmVyZW5jZXMiLCJEQVRFIiwiZGVmYXVsdFZhbHVlIiwiTk9XIiwibW9kZWxOYW1lIiwidGltZXN0YW1wcyIsImFmdGVyQ3JlYXRlIiwiaGFzTWFueSIsImZvcmVpZ25LZXkiLCJvbkRlbGV0ZSIsIm9uVXBkYXRlIiwiYmVsb25nc1RvIiwidGhlbiIsImNhdGNoIiwiTGlrZXMiLCJmaW5kTGlrZUJ5SWQiLCJmaW5kTGlrZUJ5UmVmZXJlbmNlS2V5IiwiZmluZEFsbExpa2VzQnlSZWZlcmVuY2VLZXkiLCJkZWxldGVMaWtlQnlSZWZlcmVuY2VLZXkiLCJmcmVlemVUYWJsZU5hbWUiLCJQb3N0cyIsInVwZGF0ZWRQb3N0cyIsInJldHVybmluZyIsImdldFBvc3RCeUlEIiwiZ2V0U2F2ZWRQb3N0IiwiU2F2ZXMiLCJjaGVja0lmU2F2ZWQiLCJ0YWJsZU5hbWUiLCJ0YXJnZXRLZXkiLCJVc2VycyIsImZpcnN0TmFtZSIsInZhbGlkYXRlIiwibm90RW1wdHkiLCJsYXN0TmFtZSIsInVuaXF1ZSIsImlzIiwibGVuIiwiaXNFbWFpbCIsImJpbyIsImpvaW4iLCJhdmF0YXJVcmwiLCJwcm9maWxlUGljIiwibGFiZWwiLCJsYXN0X2FjdGl2aXR5IiwidXBkYXRlZF9hdCIsIlVzZXJSZWdpc3RyYXRpb25JRCIsIlVVSUQiLCJ1cGRhdGVkQXQiLCJVc2VyUmVnaXN0cmF0aW9uIiwibG9nb3V0VXNlciIsInJlc2V0UGFzc3dvcmQiLCJiZWZvcmVDcmVhdGUiLCJzYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJzcGFjZUluZGV4IiwibGFzdEluZGV4T2YiLCJmaXJzdF9OYW1lIiwic2xpY2UiLCJhdmF0YXIiLCJ1cHNlcnQiLCJyb3V0ZXIiLCJzaW5nbGUiLCJmaWxlIiwicmVsYXRpdmVQYXRoIiwiZmlsZW5hbWUiLCJwb3N0SWQiLCJwdXQiLCJkZWxldGUiLCJOT0RFX0VOViIsIlJFU1BPTlNFX1NUQVRVUyIsIkFQUF9OQU1FIiwiY3VycmVudFVzZXIiLCJ1cGxvYWREaXIiLCJyZWN1cnNpdmUiLCJzdG9yYWdlIiwiZGVzdGluYXRpb24iLCJfZmlsZSIsImNiIiwidW5pcXVlU3VmZml4Iiwibm93Iiwicm91bmQiLCJyYW5kb20iLCJmaWVsZG5hbWUiLCJvcmlnaW5hbG5hbWUiLCJsaW1pdHMiLCJmaWxlU2l6ZSIsImZpbGVGaWx0ZXIiLCJmaWxldHlwZXMiLCJtaW1ldHlwZSIsInRlc3QiLCJleHRuYW1lIiwidG9Mb3dlckNhc2UiLCJ2YWxpZGF0ZU1JTUVUeXBlIiwicGF0aCIsIm9yaWdpbmFsRmlsZW5hbWUiLCJhbGxvd01pbWVUeXBlcyIsInZhbGlkYXRlTWltZVR5cGUiLCJkb1NvbWVMb25nUnVubmluZ1Byb2Nlc3MiLCJQZXJmb3JtYW5jZU9ic2VydmVyIiwiaXRlbXMiLCJnZXRFbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiZHVyYXRpb24iLCJwZXJmb3JtYW5jZSIsImNsZWFyTWFya3MiLCJvYnNlcnZlIiwibWFyayIsImRldGFpbCIsImxvZ2luTWVhc3VyZSIsIm1lYXN1cmUiLCJ0cnVuY2F0ZVRhYmxlcyIsInRyYW5zYWN0aW9uIiwidHJ1bmNhdGUiLCJjb21taXQiLCJyb2xsYmFjayIsImdlbmVyYXRlQXZhdGFyVXJsIiwiaW5pdGlhbHMiLCJtYXAiLCJwYXJ0IiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoYW5kbGVFcnJvciIsImVycm9ycyIsImluY2x1ZGVzIiwicmVkdWNlIiwiYWNjIiwiY29kZSIsImxvZ0Vycm9yVG9GaWxlIiwidG9JU09TdHJpbmciLCJzdGFjayIsInVuaGFuZGxlZFJlamVjdGlvbnMiLCJNYXAiLCJnbG9iYWxFcnJvckhhbmRsZXIiLCJyZWFzb24iLCJwcm9taXNlIiwiZmQiLCJFUlJPUl9USU1FT1VUIl0sInNvdXJjZVJvb3QiOiIifQ==