"use strict";exports.id=545,exports.ids=[545],exports.modules={1976:(e,s,t)=>{t.d(s,{v:()=>d});var r=t(2613);const a=(0,t(7546).load)({CORS_ORIGIN:String,CORS_OPTIONS_SUCCESS_STATUS:Number,CORS_CREDENTIALS:Boolean,CORS_METHODS:String}),{CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c}=a;r.strict.ok(o,"CORS origin should be present"),r.strict.ok(n,"CORS options success status should be present"),r.strict.ok(i,"CORS credentials should be present"),r.strict.ok(c,"CORS methods should be present");const l={CORS_ORIGIN:o,CORS_OPTIONS_SUCCESS_STATUS:n,CORS_CREDENTIALS:i,CORS_METHODS:c};t(818).config();const d={origin:l.CORS_ORIGIN,methods:l.CORS_METHODS,credentials:l.CORS_CREDENTIALS,optionsSuccessStatus:l.CORS_OPTIONS_SUCCESS_STATUS}},3085:(e,s,t)=>{t.d(s,{L:()=>A});var r=t(2613);const a=(0,t(7546).load)({DB_HOST:String,DB_PORT:Number,DB_USER:String,DB_PASS:String,DB_NAME:String,DB_SOCKET_PATH:String,DB_SOCKET_TIMEOUT:Number,DB_COMPRESS:Boolean,DB_DEBUG:Boolean,DB_PERMIT_LOCAL_INFILE:Boolean,DB_TRACE:Boolean,DB_CHECK_DUPLICATE:Boolean,DB_SSL:Boolean,DB_SSL_CA:String,DB_SSL_KEY:String,DB_SSL_CERT:String,DB_CONNECTION_ATTRIBUTES:String,DB_CONNECTION_TIMEOUT:Number}),{DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:d,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:g,DB_DEBUG:y,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:T,DB_CHECK_DUPLICATE:E,DB_SSL:m,DB_SSL_CA:h,DB_SSL_KEY:f,DB_SSL_CERT:_,DB_CONNECTION_ATTRIBUTES:w,DB_CONNECTION_TIMEOUT:S}=a;r.strict.ok(o,"Database host should be present"),r.strict.ok(n,"Database port should be present"),r.strict.ok(i,"Database user should be present"),r.strict.ok(c,"Database password should be present"),r.strict.ok(l,"Database name should be present");const A={DB_HOST:o,DB_PORT:n,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:d,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:g,DB_DEBUG:y,DB_PERMIT_LOCAL_INFILE:p,DB_TRACE:T,DB_CHECK_DUPLICATE:E,DB_CONNECTION_ATTRIBUTES:w,DB_CONNECTION_TIMEOUT:S,DB_SSL:m,DB_SSL_CA:h,DB_SSL_KEY:f,DB_SSL_CERT:_}},3101:(e,s,t)=>{t.d(s,{n:()=>m});var r=t(2613);const a=(0,t(7546).load)({JWT_SECRET:String,JWT_EXPIRES_IN:String,JWT_REFRESH_SECRET:String,JWT_REFRESH_EXPIRES_IN:String,JWT_REFRESH_MAX_AGE:Number,JWT_ALGORITHM:String,JWT_ISSUER:String,JWT_MAX_AGE:Number,JWT_HTTP_ONLY:Boolean,JWT_SAME_SITE:String,JWT_COOKIE_NAME:String,JWT_SECURE:Boolean}),{JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:d,JWT_ISSUER:u,JWT_MAX_AGE:g,JWT_HTTP_ONLY:y,JWT_SAME_SITE:p,JWT_COOKIE_NAME:T,JWT_SECURE:E}=a;r.strict.ok(o,"JWT secret should be present"),r.strict.ok(n,"JWT expires in should be present"),r.strict.ok(i,"JWT refresh secret should be present"),r.strict.ok(c,"JWT refresh expires in should be present"),r.strict.ok(d,"JWT algorithm should be present"),r.strict.ok(u,"JWT issuer should be present"),r.strict.ok(g,"JWT max age should be present"),r.strict.ok(y,"JWT http only should be present"),r.strict.ok(p,"JWT same site should be present"),r.strict.ok(T,"JWT cookie name should be present"),r.strict.ok(E,"JWT secure should be present"),r.strict.ok(l,"JWT refresh max age should be present");const m={JWT_SECRET:o,JWT_EXPIRES_IN:n,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:d,JWT_ISSUER:u,JWT_MAX_AGE:g,JWT_HTTP_ONLY:y,JWT_SAME_SITE:p,JWT_COOKIE_NAME:T,JWT_SECURE:E}},6184:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CI:()=>U,E0:()=>I,Eu:()=>C,Zv:()=>D,bI:()=>j,gg:()=>f,hv:()=>O,kL:()=>w,lM:()=>v,pD:()=>m,tY:()=>S,ys:()=>R,zX:()=>_,zh:()=>A});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(5595),l=t(6153),d=t(3101),u=t(452),g=t(2993),y=t(8995),p=t(581),T=t(9031),E=e([c,l,u,g,y,p]);[c,l,u,g,y,p]=E.then?(await E)():E,o().config();const m=async(e,s)=>{try{const{caption:t,location:r,tags:a}=e.body,o=e.cookies.jwt;if(!o)return void s.status(401).json({message:"Unauthorized"});i().verify(o,d.n.JWT_SECRET,(async(e,o)=>{if(e)return console.log(e.message),void s.status(401).json({message:"Unauthorized"});const n=o.id,i=await l.A.findByPk(n);if(!i)return void s.status(404).json({message:"User not found"});const d=await c.A.findImageByReferenceKey("user_id",n);if(!d)return s.status(404).json({message:"Image not found"});const g=await u.A.create({caption:t,imageURL:d.imageUrl,location:r,tags:a||"",created_At:new Date,creator_Id:i.id});if(g)return s.status(201).json({message:"Post created successfully",newPost:g}),g;s.status(400).json({message:"Error creating new post."})}))}catch(e){console.error("Error creating post:",e),s.status(500).json({message:"Internal server error"})}},h=async(e,s,t)=>{try{const e=await c.A.findOne({where:{imageUrl:t}});if(!e)return void s.status(404).json({message:"Image not found"});await e.destroy(),s.status(200).json({message:"Image deleted successfully"})}catch(e){console.error("Error deleting image:",e),s.status(500).json({message:"Internal server error"})}},f=async(e,s)=>{try{const{caption:t,location:r,tags:a,imageUrl:o}=e.body,n=parseInt(e.query.post_id,10);if(!n)return void s.status(400).json({message:"Post ID is required"});const c=e.cookies.jwt;if(!c)return void s.status(401).json({message:"Unauthorized"});i().verify(c,d.n.JWT_SECRET,(async(i,c)=>{if(i)return console.log(i.message),void s.status(401).json({message:"Unauthorized"});const d=c.id,y=await l.A.findByPk(d);if(!y)return void s.status(404).json({message:"User not found"});const p=await u.A.findOne({where:{id:n,creator_Id:d}});if(!p)return void s.status(404).json({message:"Post not found"});if(p.creator_Id!==y.id)return void s.status(403).json({message:"Unauthorized attempt!"});let T=p?.imageURL;if(o)try{const t=await(0,g.A)(e,s);if(!t)return void s.status(404).json({message:"Image not found"});T=t}catch(e){return void s.status(401).json({message:"Unauthorized"})}const E=await p.update({id:p.id,caption:t,imageURL:T,location:r,tags:a,created_At:new Date});return E?(s.status(200).json({message:"Post updated successfully",post:E}),E):(o&&await h(e,s,o),void s.status(400).json({message:"Error updating post"}))}))}catch(e){console.error("Error updating post:",e),s.status(500).json({message:"Internal server error"})}},_=async(e,s)=>{try{const e=await u.A.findAll();s.status(200).json({posts:e})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},w=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id,o=parseInt(e.body.post_id,10);if(isNaN(o))return void s.status(400).json({message:"Invalid post ID"});if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});if(await y.A.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already liked"});const i=await y.A.createLike({user_id:a,post_id:o,created_At:new Date});n.likes_Count||(n.likes_Count=0);const c=n.likes_Count+1;await n.update({likes_Count:c})?s.status(201).json({message:"Post liked successfully",like:i}):s.status(400).json({message:"Error liking post."})}))}catch(e){console.error("Error liking post:",e),s.status(500).json({message:"Internal server error"})}},S=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=e.query.post_id;if(!o)return void s.status(400).json({message:"Post ID is required"});const n=await u.A.findOne({where:{id:o,creator_Id:a}});n?s.status(200).json({post:n}):s.status(404).json({message:"Post not found"})}))}catch(e){console.error("Error getting post:",e),s.status(500).json({message:"Internal server error"})}},A=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await y.A.findOne({where:{post_id:o,user_id:a}});i&&await i.destroy();let c=n.likes_Count||0;c>0&&(c-=1),await n.update({likes_Count:c}),await n.save(),s.status(200).json({message:i?"Like removed successfully":"Post liked successfully",post:n})}))}catch(e){console.error("Error toggling like:",e),s.status(500).json({message:"Internal server error"})}},I=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required"});if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await u.A.findByPk(o))return void s.status(404).json({message:"Post not found"});if(await p.A.findOne({where:{post_id:o,user_id:a}}))return void s.status(400).json({message:"Post already saved"});const n=await p.A.createSave({id:a,user_id:a,post_id:o,saveDate:new Date});n?s.status(201).json({message:"Post saved successfully",save:n}):s.status(400).json({message:"Error saving post."})}))}catch(e){console.error("Error saving post:",e),s.status(500).json({message:"Internal server error"})}},D=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log("JWT verification error",t.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required"});if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});if(!await u.A.findByPk(o))return void s.status(404).json({message:"Post not found"});const n=await p.A.findOne({where:{post_id:o,user_id:a}});n&&await n.destroy(),s.status(200).json({message:n?"Post unsaved successfully":"Post not saved"})}))}catch(e){console.error("Error deleting saved post:",e),s.status(500).json({message:"Internal server error"})}},v=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});if(!await l.A.findByPk(r))return void s.status(404).json({message:"User not found"});const a=await p.A.getSavedPosts(r);s.status(200).json({savedPosts:a})}))}catch(e){console.error("Error getting saved posts:",e),s.status(500).json({message:"Internal server error"})}},R=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!a)return void s.status(400).json({message:"User ID is required"});if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.body.post_id,10);if(!o)return void s.status(400).json({message:"Post ID is required from server"});const n=await u.A.findByPk(o);if(!n)return void s.status(404).json({message:"Post not found"});const i=await p.A.findOne({where:{post_id:o,user_id:a}});if(i&&await i.destroy(),n.imageURL){const e=await c.A.findOne({where:{imageUrl:n.imageURL}});e&&await e.destroy()}await n.destroy(),s.status(200).json({message:"Post deleted successfully"})}))}catch(e){console.error("Error deleting post:",e),s.status(500).json({message:"Internal server error"})}},C=async(e,s)=>{try{const{page:t=0,limit:r=10}=e.query,a=t?parseInt(t,10)*parseInt(r,10):0,o=await u.A.findAndCountAll({limit:parseInt(r,10),offset:a,order:[["created_At","DESC"]]});s.status(200).json({posts:o,page:parseInt(t,10),totalPages:Math.ceil(o.count/parseInt(r,10)),totalCount:o.count})}catch(e){console.error("Error getting posts:",e),s.status(500).json({message:"Internal server error"})}},U=async(e,s)=>{try{const{searchValue:t}=e.body;if(!t)return void s.status(400).json({message:"Search value is required"});const r=await u.A.findAll({where:{[T.Op.or]:[{caption:{[T.Op.like]:`%${t}%`}},{tags:{[T.Op.like]:`%${t}%`}},{location:{[T.Op.like]:`%${t}%`}}]}});s.status(200).json({posts:r})}catch(e){console.error("Error searching posts:",e),s.status(500).json({message:"Internal server error"})}},O=async(e,s)=>{try{const t=e.cookies.jwt||e.headers.authorization?.split(" ")[1];if(!t)return void s.status(401).json({message:"Unauthorized"});i().verify(t,d.n.JWT_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});const r=t.id;if(!r)return void s.status(400).json({message:"User ID is required"});const a=await u.A.findAll({where:{creator_Id:r}});s.status(200).json({posts:a})}))}catch(e){console.error("Error getting user posts:",e),s.status(500).json({message:"Internal server error"})}},j=async(e,s)=>{try{const e=await u.A.findAll({order:[["likes_Count","DESC"]]});s.status(200).json({popularPosts:e})}catch(e){console.error("Error getting popular posts:",e),s.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},9024:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Be:()=>E,TU:()=>y,Ub:()=>T,oC:()=>m,pH:()=>p});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),l=t(16),d=t(80),u=t(2300),g=e([d]);d=(g.then?(await g)():g)[0],o().config();const y=async(e,s)=>{try{const{name:t,username:r,email:a,password:o}=e.body;if(!(t&&r&&a&&o))return(0,u.H4)(new Error("New User validation error"),s);if(await d.A.findOne({where:{email:a}}))return(0,u.H4)(new Error("UserRegistrations.email: User already exists "),s);const n=await d.A.create({newUser:t,username:r,email:a,hashedpassword:o,createdAt:new Date}),i=(0,l.Jj)({id:n.id});s.cookie("jwt",i,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(201).json({id:n.id,name:n.newUser,username:n.username,email:n.email,token:i})}catch(e){(0,u.H4)(e,s)}},p=async(e,s)=>{try{const{email:t,password:r}=e.body;if(!t||!r)return(0,u.H4)(new Error("Login Validation Error!"),s);const a=await d.A.loginUser(t,r);if(!a)throw new Error("User not found");const o=(0,l.Jj)({id:a.id}),n=(0,l.v3)({id:a.id});console.log("User logged in:",n),s.cookie("jwt",o,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.cookie("refreshToken",n,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.setHeader("Authorization",`Bearer ${o}`),s.locals.user=a,s.json({token:o,refreshToken:n,user:a.id})}catch(e){(0,u.H4)(e,s)}},T=async(e,s)=>{try{const t=e.cookies.jwt,r=e.cookies.refreshToken;if(!t&&!r)return void s.status(400).json({message:"No tokens provided!"});s.cookie("jwt","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.cookie("refreshToken","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.status(200).json({message:"User logged out"})}catch(e){(0,u.H4)(e,s)}},E=async(e,s)=>{const t=e.cookies.refreshToken;t?i().verify(t,c.n.JWT_REFRESH_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=t.id;if(console.log("User ID:",e),!e)return void s.status(400).json({message:"User ID is required"});const r=await d.A.findByPk(e);if(!r)return s.status(404).json({message:"User not found"});const a=i().sign({id:r.id},c.n.JWT_SECRET,{expiresIn:c.n.JWT_EXPIRES_IN,algorithm:c.n.JWT_ALGORITHM,issuer:c.n.JWT_ISSUER});s.cookie("jwt",a,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(200).json({token:a,user:r.id})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}})):s.status(401).json({message:"Unauthorized"})},m=(e,s,t)=>{const r=e.cookies.jwt;r?(i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log(e.message),s.status(401).json({message:"Unauthorized"});const a=r.id,o=await d.A.findByPk(a);return o?(s.locals.user=o,t()):s.status(404).json({message:"User not found"})})),t()):s.status(401).json({message:"Unauthorized"})};r()}catch(e){r(e)}}))},2993:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var a=t(5595),o=t(829),n=t.n(o),i=(t(4469),t(6153)),c=e([a,i]);[a,i]=c.then?(await c)():c;const l=async(e,s)=>{try{const t=e.cookies.jwt;if(!t)return void s.status(401).json({message:"Unauthorized"});n().verify(t,process.env.JWT_SECRET,(async(e,t)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const r=t.id;if(!r)return void s.status(401).json({message:"Unauthorized"});if(!await i.A.findByPk(r))return void s.status(401).json({message:"Unauthorized"});const o=await a.A.findImageByReferenceKey("user_id",r);o?s.status(200).json({imageUrl:o.imageUrl}):s.status(200).json({message:"No image found"})}))}catch(e){throw console.error("Error getting image preview:",e),new Error("Failed to get image preview")}};r()}catch(e){r(e)}}))},4361:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{CF:()=>g,TK:()=>p,k7:()=>y});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),l=t(6153),d=t(2993),u=e([l,d]);[l,d]=u.then?(await u)():u,o().config();const g=async(e,s)=>{const t=e.cookies.jwt;if(t)try{i().verify(t,c.n.JWT_SECRET,(async(t,r)=>{if(t)return console.log(t.message),void s.status(401).json({message:"Unauthorized"});const a=r.id;if(!await l.A.findByPk(a))return void s.status(404).json({message:"User not found"});const o=parseInt(e.query.limit,10)||10,n=await l.A.getAllUsers(o,["id","firstName","lastName","username","imageURL","avatarUrl","bio"]);s.status(200).json({users:n})}))}catch(e){console.error("Error getting all users:",e),s.status(500).json({message:"Internal server error"})}else s.status(401).json({message:"Unauthorized"})},y=async(e,s)=>{const{id:t}=e.params,r=e.cookies.jwt;if(r)try{i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log(e.message),void s.status(401).json({message:"Unauthorized"});const a=r.id,o=await l.A.findByPk(a);if(!o)return void s.status(404).json({message:"User not found"});if(o.id!==Number(t))return void s.status(403).json({message:"Unauthorized attempt!"});const n=await l.A.getUserByID(Number(t));n?s.status(200).json({user:n}):s.status(404).json({message:"User not found"})}))}catch(e){console.error("Error getting user by ID:",e),s.status(500).json({message:"Internal server error"})}else s.status(401).json({message:"Unauthorized"})},p=async(e,s)=>{try{const{id:t}=e.params,r=e.body,a=e.cookies.jwt;if(!a)return void s.status(401).json({message:"Unauthorized"});i().verify(a,c.n.JWT_SECRET,(async(a,o)=>{if(a)return console.log(a.message),void s.status(401).json({message:"Unauthorized"});const n=o.id,i=await l.A.findByPk(n);if(!i)return void s.status(404).json({message:"User not found"});if(i.id!==Number(t))return void s.status(403).json({message:"Unauthorized attempt!"});let{imageUrl:c}=e.body;if(c)try{const t=await(0,d.A)(e,s);if(!t)return void s.status(404).json({message:"Image not found"});r.imageUrl=t}catch(e){return console.error("Error fetching image preview URL:",e),void s.status(500).json({message:"Error updating profile picture"})}const[u,g]=await l.A.updateUser(Number(t),r);0!==u?s.status(200).json({updatedUsers:g}):s.status(400).json({message:"Error updating user"})}))}catch(e){console.error("Error updating user:",e),s.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},2785:(e,s,t)=>{t.d(s,{TA:()=>n});var r=t(1763),a=t.n(r),o=t(9469);const n=a()({windowMs:o._.RARE_LIMIT_WINDOW_MS,max:o._.MAX,message:o._.RARE_LIMIT_MESSAGE,statusCode:o._.RARE_LIMIT_CODE,handler:(e,s)=>{s.status(o._.RARE_LIMIT_CODE).json({message:o._.RARE_LIMIT_MESSAGE})},keyGenerator:async(e,s)=>e.ip?e.ip.replace(/:\d+[^:]*$/,""):(s.status(500).send({message:"Warning: request.ip is missing!"}),e.socket.remoteAddress)})},16:(e,s,t)=>{t.d(s,{Jj:()=>c,v3:()=>l});var r=t(818),a=t.n(r),o=t(829),n=t.n(o),i=t(3101);a().config();const c=e=>{try{return n().sign(e,i.n.JWT_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}},l=e=>{try{return n().sign(e,i.n.JWT_REFRESH_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_REFRESH_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}}},2051:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{FH:()=>g,oC:()=>u});var a=t(818),o=t.n(a),n=t(829),i=t.n(n),c=t(3101),l=t(6153),d=e([l]);l=(d.then?(await d)():d)[0],o().config();const u=async(e,s,t)=>{try{const r=e.cookies.jwt;r?i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)console.log(e.message),s.locals.user=null;else try{const e=await l.A.findByPk(r.id);s.locals.user=e}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}t()})):(s.locals.user=null,t())}catch(e){console.error("Error checking user:",e),s.locals.user=null,t()}},g=async(e,s,t)=>{try{const r=e.cookies.jwt;if(!r)return s.locals.user=null,t();i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),s.locals.user=null,t();try{const e=await l.A.findByPk(r.id);console.log("decodedToken:",r),s.locals.user=e||null}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}t()}))}catch(e){console.error("Error verifying user:",e),s.locals.user=null,t()}};r()}catch(e){r(e)}}))},1125:(e,s,t)=>{t.d(s,{r:()=>a});var r=t(128);async function a(){const e=(0,r.J)();let s=0;for(;s<10;)try{return await e.authenticate(),console.log("Database connection established, Starting Server....."),await e.sync({force:!0}),console.log("Drop and re-sync db."),e}catch(e){console.error("Database connection failed:",e),s++,await new Promise((e=>setTimeout(e,1e3)))}throw console.error("Max attempts reached, database connection failed"),new Error("Database connection failed")}},128:(e,s,t)=>{t.d(s,{J:()=>c});var r=t(9031),a=t(3085),o=t(3024),n=t.n(o);const i={Dialect:"mariadb",host:a.L.DB_HOST||"localhost",username:a.L.DB_USER||"metalbrain",password:a.L.DB_PASS||"password",database:a.L.DB_NAME||"FindSomeOne",socketPath:a.L.DB_SOCKET_PATH||"/var/run/mysqld/mysqld.sock",socketTimeout:a.L.DB_SOCKET_TIMEOUT||1e3,compress:a.L.DB_COMPRESS||!1,debug:a.L.DB_DEBUG||!1,permitLocalInfile:a.L.DB_PERMIT_LOCAL_INFILE||!1,trace:a.L.DB_TRACE||!0,checkDuplicate:a.L.DB_CHECK_DUPLICATE||!1,connectAttributes:JSON.parse(a.L.DB_CONNECTION_ATTRIBUTES||"{}"),connectionTimeout:a.L.DB_CONNECTION_TIMEOUT||1e3,port:a.L.DB_PORT||3306,ssl:a.L.DB_SSL||!1,dialectOptions:{ssl:{ca:a.L.DB_SSL_CA?n().readFileSync(a.L.DB_SSL_CA).toString():"",key:a.L.DB_SSL_KEY?n().readFileSync(a.L.DB_SSL_KEY).toString():"",cert:a.L.DB_SSL_CERT?n().readFileSync(a.L.DB_SSL_CERT).toString():""}}};function c(){return new r.Sequelize(i.database,i.username,i.password,{host:i.host,dialect:i.Dialect,port:i.port,ssl:i.ssl,dialectOptions:i.dialectOptions})}},3121:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var a=t(423),o=t(5520),n=t(3136),i=t(6760),c=t(3085);const e=(0,i.dirname)((0,n.fileURLToPath)("file:///home/babsdevsys/appV-1/src/server/loaders/dataLoader/sequlize.ts")),l=new a.Sequelize({dialect:o.MariaDbDialect,host:c.L.DB_HOST,user:c.L.DB_USER,password:c.L.DB_PASS,database:c.L.DB_NAME,port:c.L.DB_PORT,ssl:c.L.DB_SSL,models:await(0,a.importModels)(e+"/src/server/models/**/*.model.{ts,js}")});r()}catch(e){r(e)}}),1)},6633:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>w});var a=t(7252),o=t.n(a),n=t(6898),i=t.n(n),c=t(3268),l=t.n(c),d=t(2525),u=t.n(d),g=t(2096),y=t.n(g),p=t(9469),T=t(4388),E=t(2785),m=t(2300),h=t(6928),f=t.n(h),_=e([T]);async function w({app:e}){e.get("/status",((e,s)=>s.sendStatus(200).end())),e.use(((e,s,t)=>(s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?s.sendStatus(204):t()))),e.use(l().urlencoded({extended:!0})),e.use(o().json()),e.use(o().urlencoded({extended:!0})),e.use(i()()),e.use(l().json()),e.use(o().static(f().join(__dirname,"dist")));const s=p._.TRUST_PROXY||"false",t=p._.NUMBER_OF_PROXIES||1;return s?e.set("trust proxy",!0):"false"===s?e.set("trust proxy",!1):(e.set("trust proxy",s),e.set("trust proxy",t)),e.set("trust proxy",t),e.get("/ip",((e,s)=>s.send(e.ip))),e.use(u()({contentSecurityPolicy:!1})),e.use(y()(p._.MORGAN)),e.use(E.TA),e.use(T.Q),e.use(m.sh),e}T=(_.then?(await _)():_)[0],r()}catch(S){r(S)}}))},1545:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.r(s),t.d(s,{default:()=>d});var a=t(6633),o=t(3121),n=t(1125),i=t(2541),c=t(2273),l=e([a,o,i]);async function d({app:e}){await(0,i.K)(),await(0,n.r)(),o.A,await(0,a.A)({app:e}),(0,c.A)(),console.log("Express Server Intialized!")}[a,o,i]=l.then?(await l)():l,r()}catch(u){r(u)}}))},5595:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const l=(0,o.J)();class d extends a.Model{static async findImageById(e){return await this.findByPk(e)}static async findImageByReferenceKey(e,s){try{return await this.findOne({where:{[e]:s},order:[["created_At","DESC"]]})}catch(t){throw console.error(`Error finding image by reference key: ${e}, value: ${s}`,t),t}}}d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:l,modelName:"ImageStorages",timestamps:!1}),d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"},allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:l,modelName:"ImageStorages",timestamps:!1}),d.afterCreate((async e=>{const s=await n.A.findByPk(e.user_id);s&&(s.imageURL=e.imageUrl,await s.save())})),n.A.hasMany(d,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),i.A.hasMany(d,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(n.A,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(i.A,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await l.sync({force:!1}).then((()=>{console.log("New Image synced successfully")})).catch((e=>{console.error("Error syncing new image:",e)}));const u=d;r()}catch(e){r(e)}}),1)},8995:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const l=(0,o.J)();class d extends a.Model{static async createLike(e){return await this.create(e)}static async findLikeById(e){return await this.findByPk(e)}static async findLikeByReferenceKey(e,s){return await this.findOne({where:{[e]:s}})}static async findAllLikesByReferenceKey(e,s){return await this.findAll({where:{[e]:s}})}static async deleteLikeByReferenceKey(e,s){await this.destroy({where:{[e]:s}})}}d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!0}},{sequelize:l,modelName:"Likes",timestamps:!1,freezeTableName:!0}),n.A.hasMany(d,{foreignKey:"user_id",onDelete:"CASCADE"}),d.belongsTo(n.A,{foreignKey:"user_id"}),i.A.hasMany(d,{foreignKey:"post_id",onDelete:"CASCADE"}),d.belongsTo(i.A,{foreignKey:"post_id"}),d.sync({force:!1}).then((()=>{console.log("Like synced successfully")})).catch((e=>{console.error("Error syncing like:",e)}));const u=d;r()}catch(e){r(e)}}))},452:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>d});var a=t(9031),o=t(128),n=t(6153),i=e([n]);n=(i.then?(await i)():i)[0];const c=(0,o.J)();class l extends a.Model{static async createPost(e){return await this.create(e)}static async updatePost(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}static async deletePost(e){const s=await this.findOne({where:{id:e}});s&&await s.destroy()}static async getAllPosts(){return await this.findAll()}static async getInfinitePosts(e,s){return await this.findAll({offset:e,limit:s})}static async getPostByID(e){return await this.findOne({where:{id:e}})}static async getUserPosts(e){return await this.findAll({where:{creator_Id:e}})}static async getSavedPost(e){return await this.findOne({where:{id:e}})}}l.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},caption:{type:a.DataTypes.STRING,allowNull:!1},imageURL:{type:a.DataTypes.STRING,allowNull:!0},location:{type:a.DataTypes.STRING,allowNull:!0},tags:{type:a.DataTypes.STRING,allowNull:!1},likes_Count:{type:a.DataTypes.INTEGER,allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!0},creator_Id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}}},{sequelize:c,modelName:"Posts",timestamps:!1}),l.createPost=async function(e){try{return await this.create(e)}catch(e){throw console.error("Error creating new post:",e),e}},l.updatePost=async function(e,s){try{const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}catch(e){throw console.error("Error updating post:",e),e}},l.getInfinitePosts=async function(e,s){try{return await this.findAll({offset:e,limit:s})}catch(e){throw console.error("Error getting infinite posts:",e),e}},l.getPostByID=async function(e){try{return await this.findOne({where:{id:e}})}catch(e){throw console.error("Error getting post by ID:",e),e}},l.getUserPosts=async function(e){try{return await this.findAll({where:{creator_Id:e}})}catch(e){throw console.error("Error getting user posts:",e),e}},n.A.hasMany(l,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(n.A,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await c.sync({force:!1}).then((()=>{console.log("Post synced successfully")})).catch((e=>{console.error("Error syncing Post:",e)}));const d=l;r()}catch(e){r(e)}}),1)},581:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>u});var a=t(9031),o=t(128),n=t(6153),i=t(452),c=e([n,i]);[n,i]=c.then?(await c)():c;const l=(0,o.J)();class d extends a.Model{static async createSave(e){return await this.create(e)}static async checkIfSaved(e,s){return!!await this.findOne({where:{user_id:e,post_id:s}})}static async deleteSavedPost(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()}static async getSavedPosts(e){return await this.findAll({where:{user_id:e},include:[{model:i.A,as:"Post"}]})}}d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},saveDate:{type:a.DataTypes.DATE,allowNull:!0,defaultValue:a.DataTypes.NOW}},{sequelize:l,tableName:"Saves",timestamps:!1,freezeTableName:!0}),d.deleteSavedPost=async function(e){const s=await this.findOne({where:{post_id:e}});s&&await s.destroy()},d.belongsTo(n.A,{foreignKey:"user_id",targetKey:"id"}),d.belongsTo(i.A,{foreignKey:"post_id",targetKey:"id"}),d.sync({force:!1}).then((()=>{console.log("Save Post synced successfully")})).catch((e=>{console.error("Error syncing Save post:",e)}));const u=d;r()}catch(e){r(e)}}))},6153:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>n});var a=t(9031);const e=(0,t(128).J)();class o extends a.Model{static async getUserByID(e){return await this.findOne({where:{id:e}})}static async getAllUsers(e,s){return await this.findAll({limit:e,attributes:s})}static async updateUser(e,s){const[t,r]=await this.update(s,{where:{id:e},returning:!0});return[t,r]}}o.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},lastName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},username:{type:a.DataTypes.STRING,allowNull:!1,unique:!0,validate:{is:/^[a-zA-Z0-9_]*$/,len:[3,20]}},email:{type:a.DataTypes.STRING,unique:!0,allowNull:!1,validate:{isEmail:!0,len:[5,50],notEmpty:!0}},hashedpassword:{type:a.DataTypes.STRING(64)},status:{type:a.DataTypes.STRING,allowNull:!1,defaultValue:"unverified"},bio:{type:a.DataTypes.STRING,defaultValue:"This is a new user."},join:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},avatarUrl:{type:a.DataTypes.STRING},imageURL:{type:a.DataTypes.STRING},profilePic:{type:a.DataTypes.STRING},label:{type:a.DataTypes.STRING,defaultValue:"New User"},last_activity:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},updated_at:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},UserRegistrationID:{type:a.DataTypes.UUID,allowNull:!0,references:{model:"UserRegistration",key:"id"}}},{sequelize:e,modelName:"Users",timestamps:!1,updatedAt:"updated_at"}),await e.sync({force:!1}).then((()=>{console.log("New User synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const n=o;r()}catch(e){r(e)}}),1)},80:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>y});var a=t(9031),o=t(128),n=t(5486),i=t.n(n),c=t(8635),l=t(6153),d=e([l]);l=(d.then?(await d)():d)[0];const u=(0,o.J)();class g extends a.Model{static async loginUser(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}}g.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},newUser:{type:a.DataTypes.STRING,allowNull:!1},username:{type:a.DataTypes.STRING,allowNull:!1},email:{type:a.DataTypes.STRING,allowNull:!1},hashedpassword:{type:a.DataTypes.STRING,allowNull:!1},createdAt:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:u,modelName:"UserRegistration",createdAt:"createdAt",timestamps:!1,freezeTableName:!0}),g.beforeCreate((async e=>{try{if(e){const s=i().genSaltSync(10),t=await i().hash(String(e.hashedpassword),s);e.hashedpassword=t}}catch(e){throw console.error("Error hashing password:",e),new Error("Error hashing password")}})),g.afterCreate((async e=>{try{if(e){const s=e.newUser?.lastIndexOf(" "),t=-1!==s?e.newUser?.slice(0,s):e.newUser,r=-1!==s?e.newUser?.slice(s??1):"",a=(0,c.q)(e.username);await l.A.upsert({firstName:t,lastName:r,username:e.username,email:e.email,hashedpassword:e.hashedpassword,status:"unverified",bio:"I am a new user.",join:new Date,avatarUrl:a,imageURL:null,profilePic:null,label:"New User",last_activity:new Date,updated_at:new Date,UserRegistrationID:e.id})}}catch(e){throw console.error("Error registering new user:",e),new Error("Error registering new user")}})),g.loginUser=async function(e,s){try{const t=await this.findOne({where:{email:e}});if(t){if(await i().compare(s,t.hashedpassword))return t;throw new Error("Incorrect password")}throw new Error("Incorrect email")}catch(e){throw console.error("Error logging in user:",e),new Error("User not found")}},g.logoutUser=async function(e){try{return await this.findOne({where:{email:e}})}catch(e){throw console.error("Error logging out user:",e),new Error("User not found")}},await u.sync({force:!1}).then((()=>{console.log("New User Registered synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const y=g;r()}catch(e){r(e)}}),1)},2317:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>E});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(1976),l=t(9024),d=t(3268),u=t.n(d),g=t(6898),y=t.n(g),p=e([l]);l=(p.then?(await p)():p)[0];const T=o().Router();T.use(i()(c.v)),T.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),T.use(u().urlencoded({extended:!0})),T.use(y()()),T.use(o().json()),T.use(u().json()),T.post("/api/register",l.TU),T.post("/api/login",l.pH),T.get("/api/logout",l.Ub),T.post("/api/refresh-token",l.Be),T.get("/api/currentUser",l.oC);const E=T;r()}catch(e){r(e)}}))},6010:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>w});var a=t(818),o=t.n(a),n=t(7252),i=t.n(n),c=t(8577),l=t.n(c),d=t(6153),u=t(3268),g=t.n(u),y=t(6898),p=t.n(y),T=t(2051),E=t(829),m=t.n(E),h=t(3101),f=e([d,T]);[d,T]=f.then?(await f)():f;const _=i().Router();o().config(),_.use(l()()),_.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),_.use(g().urlencoded({extended:!0})),_.use(p()()),_.use(i().json()),_.use(g().json()),_.get("/api/getUser",T.FH,(async(e,s,t)=>{const r=e.cookies.jwt;r?m().verify(r,h.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=await d.A.findByPk(r.id);if(!e)return void s.status(400).json({message:"User ID is required"});s.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}return t()})):s.status(401).json({message:"Unauthorized"})}));const w=_;r()}catch(e){r(e)}}))},8358:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>I});var a=t(818),o=t.n(a),n=t(7252),i=t.n(n),c=t(8577),l=t.n(c),d=t(1976),u=t(3268),g=t.n(u),y=t(6898),p=t.n(y),T=t(6020),E=t(2993),m=t(5595),h=t(829),f=t.n(h),_=t(6153),w=t(3101),S=e([E,m,_]);[E,m,_]=S.then?(await S)():S,o().config();const A=i().Router();A.use(l()(d.v)),A.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),s.header("encoding","multipart/form-data"),t()})),A.use(g().urlencoded({extended:!0})),A.use(p()()),A.use(i().json()),A.use(g().json()),A.post("/api/uploadImage",T.A.single("image"),(async(e,s)=>{try{console.log("File uploaded:",e.file);const t=`assets/images/${e.file?.filename}`,r=e.cookies.jwt,a=parseInt(e.body.postId,10);if(!r)return void s.status(401).json({message:"Unauthorized"});f().verify(r,w.n.JWT_SECRET,(async(e,r)=>{if(e)return void s.status(401).json({message:"Unauthorized"});const o=r.id;o&&await _.A.findByPk(o)?await m.A.create({imageUrl:t,user_id:o||null,post_id:a||null,created_At:new Date})?s.status(200).json({message:"Image uploaded successfully",imageUrl:t}):s.status(500).send({error:"Error creating image record"}):s.status(401).json({message:"Unauthorized"})}))}catch(e){console.error("Error uploading image:",e),s.status(500).json({message:"Internal server error"})}})),A.get("/api/sendImageUrl",E.A);const I=A;r()}catch(e){r(e)}}))},9785:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>E});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(6898),l=t.n(c),d=t(3268),u=t.n(d),g=t(6184),y=t(2051),p=e([g,y]);[g,y]=p.then?(await p)():p;const T=o().Router();T.use(i()()),T.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),T.use(u().urlencoded({extended:!0})),T.use(l()()),T.use(o().json()),T.use(u().json()),T.post("/api/createPost",g.pD),T.put("/api/updatePost",g.gg),T.delete("/api/deletePost",g.ys),T.get("/api/getAllPosts",g.zX),T.get("/api/getPostById",g.tY),T.post("/api/likePost",g.kL),T.post("/api/savePost",y.FH,g.E0),T.get("/api/getSavedPosts",y.FH,g.lM),T.delete("/api/deleteSavedPost",g.Zv),T.delete("/api/deleteLikePost",g.zh),T.get("/api/getInfinitePosts",g.Eu),T.post("/api/searchPosts",g.CI),T.get("/api/getUserPosts",g.hv),T.get("/api/getPopularPosts",g.bI);const E=T;r()}catch(e){r(e)}}))},4388:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Q:()=>m});var a=t(7252),o=t.n(a),n=t(9469),i=t(2317),c=t(6010),l=t(4704),d=t(3268),u=t.n(d),g=t(6898),y=t.n(g),p=t(9785),T=t(8358),E=e([i,c,l,p,T]);[i,c,l,p,T]=E.then?(await E)():E;const m=o().Router();m.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),m.use(u().urlencoded({extended:!0})),m.use(y()()),m.use(o().json()),m.use(u().json()),m.get("/",((e,s)=>{s.send({status:`${n._.NODE_ENV}`,message:`${n._.RESPONSE_STATUS}`,name:`${n._.APP_NAME}`})})),m.use(i.A),m.use(l.A),m.use(p.A),m.use(T.A),m.use(c.A),r()}catch(e){r(e)}}))},4704:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>_});var a=t(7252),o=t.n(a),n=t(8577),i=t.n(n),c=t(3268),l=t.n(c),d=t(6898),u=t.n(d),g=t(829),y=t.n(g),p=t(6153),T=t(3101),E=t(2051),m=t(4361),h=e([p,E,m]);[p,E,m]=h.then?(await h)():h;const f=o().Router();f.use(i()()),f.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),f.use(l().urlencoded({extended:!0})),f.use(u()()),f.use(o().json()),f.use(l().json()),f.get("/api/getCurrentUser",E.oC,(async(e,s,t)=>{const r=e.cookies.jwt;r?y().verify(r,T.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=r.id;if(!e)return void s.status(400).json({message:"User ID is required"});if(!await p.A.findByPk(e))return s.status(404).json({message:"User not found"})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Internal server error"})}return t()})):s.status(401).json({message:"Unauthorized"})})),f.get("/api/getAllUsers",m.CF),f.get("/api/getUserByID",m.k7),f.get("/api/updateUser",m.TK);const _=f;r()}catch(e){r(e)}}))},6020:(e,s,t)=>{t.d(s,{A:()=>g});var r=t(8461),a=t.n(r),o=t(6928),n=t.n(o),i=t(7189),c=t(9896),l=t.n(c);const d="/home/babsdevsys/appV-1/public/assets/images";l().existsSync(d)||l().mkdirSync(d,{recursive:!0});const u=a().diskStorage({destination:function(e,s,t){t(null,d)},filename:function(e,s,t){const r=Date.now()+"-"+Math.round(1e9*Math.random());t(null,s.fieldname+"-"+r+n().extname(s.originalname))}}),g=a()({storage:u,limits:{fileSize:1e7},fileFilter:function(e,s,t){const r=/jpeg|jpg|png|svg/,a=r.test(s.mimetype),o=r.test(n().extname(s.originalname).toLowerCase());if(a&&o)return t(null,!0);(async(e,s)=>{try{if(!(await(0,i.validateMIMEType)(e.path,{originalFilename:e.originalname,allowMimeTypes:["image/jpeg","image/png","image/svg+xml"]})).ok)return s(new Error("Invalid file type"));s(null,!0)}catch(e){console.error("Error validating file type:",e),s(new Error("Error validating file type"))}})(s.path,t)}})},2273:(e,s,t)=>{t.d(s,{A:()=>o});var r=t(643);function a(){return new Promise((e=>{setTimeout((()=>{e()}),1e3)}))}new r.PerformanceObserver((e=>{e.getEntries().forEach((e=>{console.log(`${e.name}: ${e.duration}ms`)})),r.performance.clearMarks()})).observe({type:"measure"});const o=async function(){try{r.performance.mark("Loader Start",{detail:"Loader started"}),await a(),r.performance.mark("Task 1 End",{detail:"Task 1 completed"}),await a(),r.performance.mark("Task 2 End",{detail:"Task 2 completed"});const e=r.performance.measure("Task 2 Duration","Task 1 End","Task 2 End");console.log(e.duration),r.performance.mark("Loader End"),r.performance.measure("Total Loader Duration","Loader Start","Loader End")}catch(e){console.error("Error in loader:",e)}}},2541:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{K:()=>c});var a=t(128),o=t(5595),n=e([o]);o=(n.then?(await n)():n)[0];const i=(0,a.J)();async function c(){const e=await i.transaction();try{await o.A.truncate({transaction:e}),await e.commit(),console.log("Tables have been truncated...")}catch(s){await e.rollback(),console.error("Error truncating tables:",s)}}r()}catch(l){r(l)}}))},8635:(e,s,t)=>{function r(e){const s=e.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");return`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&size=200&background=random&color=fff`}t.d(s,{q:()=>r}),t(6982)},2300:(e,s,t)=>{t.d(s,{H4:()=>c,sh:()=>u});var r=t(1708),a=t.n(r),o=t(9896),n=t.n(o),i=t(9469);const c=(e,s)=>{console.error(e.message);let t={};e.message.includes("New User validation error")&&(t={name:"Name is required",username:"username is required",email:"email is required",password:"password is required"}),e.message.includes("UserRegistrations.email")&&(t.email="Email is already registered"),e.message.includes("incorrect email")&&(t.email="email is not registered"),e.message.includes("Incorrect password")&&(t.password="password is incorrect"),"SequelizeValidationError"===e.name&&e.error&&(t=e.error.reduce(((e,s)=>(e[s.path]=s.message,e)),{})),s.status(e.code||500).json({errors:t})};function l(e){const s=`${(new Date).toISOString()} - ${e.message}\n${e.stack}\n`;n().appendFileSync("error.log",s)}const d=new Map;function u(e,s,t,r){l(e),t.status(500).json({message:"An unexpected error occurred"}),r(e)}a().on("unhandledRejection",((e,s)=>{console.error("Unhandled Rejection at:",s,"reason:",e),d.set(s,e)})),a().on("rejectionHandled",(e=>{d.delete(e)})),a().on("unhandledRejection",((e,s)=>{l(e),console.error("Unhandled Rejection at:",s,"reason:",e),a().exit(1)})),a().on("uncaughtException",(e=>{l(e),console.error("Uncaught Exception:",e),a().exit(1)})),a().on("uncaughtException",(e=>{n().writeSync(a().stderr.fd,`Caught exception: ${e}\nException Origin: ${origin}\n`)})),setTimeout((()=>{console.log("This will still run.")}),i._.ERROR_TIMEOUT)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cnZlci9jb25maWcvY29yc0VWTi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9jb3JPcHRpb25zLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2RhdGFiYXNlRU5WLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2p3dEVOVi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL1Bvc3RDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy9pbWFnZUNvbnRyb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy91c2VyQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYXV0aC9pcENvbmZpZy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYXV0aC9qd3RHZW5lcmF0b3IudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2F1dGgvdXNlckF1dGgudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2RhdGFMb2FkZXIvbWFyaWFkYi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24udHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWxpemUudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2V4cHJlc3MudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9sb2FkZXJzL2luZGV4LnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL2ltYWdlLm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL2xpa2VQb3N0Lm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3Bvc3QubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvc2F2ZVBvc3QubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvdXNlci5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvYXV0aFJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9jdXJyZW50VXNlclJvdXRlLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL2ltYWdlUm91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL3Bvc3RSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvcm91dGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL3VzZXJSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9zZXJ2aWNlcy9tdWx0ZXIuY29uZmlnLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvc2VydmljZXMvcGVyZm9ybWFuY2UudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9zZXJ2aWNlcy90cnVuY2F0ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3V0aWxzL2F2YXRhci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3V0aWxzL2Vycm9ySGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpY3QgYXMgYXNzZXJ0IH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IGxvYWQgfSBmcm9tICd0cy1kb3RlbnYnO1xuY29uc3QgY29yc1NjaGVtYUVOViA9IGxvYWQoe1xuICAgIC8qIExvYWQgQ09SUyAqL1xuICAgIENPUlNfT1JJR0lOOiBTdHJpbmcsXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTOiBOdW1iZXIsXG4gICAgQ09SU19DUkVERU5USUFMUzogQm9vbGVhbixcbiAgICBDT1JTX01FVEhPRFM6IFN0cmluZyxcbn0pO1xuLy8gZGVzdHJ1Y3R1cmUgdGhlIENPUlMgc2NoZW1hXG5jb25zdCB7IENPUlNfT1JJR0lOLCBDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsIENPUlNfQ1JFREVOVElBTFMsIENPUlNfTUVUSE9EUywgfSA9IGNvcnNTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgQ09SUyBzY2hlbWEgaXMgcHJlc2VudFxuYXNzZXJ0Lm9rKENPUlNfT1JJR0lOLCAnQ09SUyBvcmlnaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsICdDT1JTIG9wdGlvbnMgc3VjY2VzcyBzdGF0dXMgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX0NSRURFTlRJQUxTLCAnQ09SUyBjcmVkZW50aWFscyBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKENPUlNfTUVUSE9EUywgJ0NPUlMgbWV0aG9kcyBzaG91bGQgYmUgcHJlc2VudCcpO1xuLy8gZXhwb3J0IHRoZSBDT1JTIHNjaGVtYVxuZXhwb3J0IGNvbnN0IGNvcnNFTlYgPSB7XG4gICAgQ09SU19PUklHSU4sXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxuICAgIENPUlNfQ1JFREVOVElBTFMsXG4gICAgQ09SU19NRVRIT0RTLFxufTtcbi8vIGV4cG9ydCB0aGUgQ09SUyBzY2hlbWFcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjb3JzRU5WLFxufTtcbiIsIi8vIEV4cG9ydCBjb3JPcHRpb25zIG9iamVjdCB3aXRoIG9yaWdpbiBhbmQgb3B0aW9uc1N1Y2Nlc3NTdGF0dXMgcHJvcGVydGllc1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5pbXBvcnQgeyBjb3JzRU5WIH0gZnJvbSAnLi9jb3JzRVZOJztcbmNvbnN0IGNvck9wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBjb3JzRU5WLkNPUlNfT1JJR0lOLFxuICAgIG1ldGhvZHM6IGNvcnNFTlYuQ09SU19NRVRIT0RTLFxuICAgIGNyZWRlbnRpYWxzOiBjb3JzRU5WLkNPUlNfQ1JFREVOVElBTFMsXG4gICAgb3B0aW9uc1N1Y2Nlc3NTdGF0dXM6IGNvcnNFTlYuQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxufTtcbmV4cG9ydCB7IGNvck9wdGlvbnMgfTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBkYXRhU2NoZW1hRU5WID0gbG9hZCh7XG4gICAgLyogTG9hZCBEYXRhYmFzZSAqL1xuICAgIERCX0hPU1Q6IFN0cmluZyxcbiAgICBEQl9QT1JUOiBOdW1iZXIsXG4gICAgREJfVVNFUjogU3RyaW5nLFxuICAgIERCX1BBU1M6IFN0cmluZyxcbiAgICBEQl9OQU1FOiBTdHJpbmcsXG4gICAgREJfU09DS0VUX1BBVEg6IFN0cmluZyxcbiAgICBEQl9TT0NLRVRfVElNRU9VVDogTnVtYmVyLFxuICAgIERCX0NPTVBSRVNTOiBCb29sZWFuLFxuICAgIERCX0RFQlVHOiBCb29sZWFuLFxuICAgIERCX1BFUk1JVF9MT0NBTF9JTkZJTEU6IEJvb2xlYW4sXG4gICAgREJfVFJBQ0U6IEJvb2xlYW4sXG4gICAgREJfQ0hFQ0tfRFVQTElDQVRFOiBCb29sZWFuLFxuICAgIERCX1NTTDogQm9vbGVhbixcbiAgICBEQl9TU0xfQ0E6IFN0cmluZyxcbiAgICBEQl9TU0xfS0VZOiBTdHJpbmcsXG4gICAgREJfU1NMX0NFUlQ6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVM6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX1RJTUVPVVQ6IE51bWJlcixcbn0pO1xuY29uc3QgeyBEQl9IT1NULCBEQl9QT1JULCBEQl9VU0VSLCBEQl9QQVNTLCBEQl9OQU1FLCBEQl9TT0NLRVRfUEFUSCwgREJfU09DS0VUX1RJTUVPVVQsIERCX0NPTVBSRVNTLCBEQl9ERUJVRywgREJfUEVSTUlUX0xPQ0FMX0lORklMRSwgREJfVFJBQ0UsIERCX0NIRUNLX0RVUExJQ0FURSwgREJfU1NMLCBEQl9TU0xfQ0EsIERCX1NTTF9LRVksIERCX1NTTF9DRVJULCBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMsIERCX0NPTk5FQ1RJT05fVElNRU9VVCwgfSA9IGRhdGFTY2hlbWFFTlY7XG5hc3NlcnQub2soREJfSE9TVCwgJ0RhdGFiYXNlIGhvc3Qgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9QT1JULCAnRGF0YWJhc2UgcG9ydCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX1VTRVIsICdEYXRhYmFzZSB1c2VyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfUEFTUywgJ0RhdGFiYXNlIHBhc3N3b3JkIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfTkFNRSwgJ0RhdGFiYXNlIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmV4cG9ydCBjb25zdCBkYXRhYmFzZUVOViA9IHtcbiAgICBEQl9IT1NULFxuICAgIERCX1BPUlQsXG4gICAgREJfVVNFUixcbiAgICBEQl9QQVNTLFxuICAgIERCX05BTUUsXG4gICAgREJfU09DS0VUX1BBVEgsXG4gICAgREJfU09DS0VUX1RJTUVPVVQsXG4gICAgREJfQ09NUFJFU1MsXG4gICAgREJfREVCVUcsXG4gICAgREJfUEVSTUlUX0xPQ0FMX0lORklMRSxcbiAgICBEQl9UUkFDRSxcbiAgICBEQl9DSEVDS19EVVBMSUNBVEUsXG4gICAgREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTLFxuICAgIERCX0NPTk5FQ1RJT05fVElNRU9VVCxcbiAgICBEQl9TU0wsXG4gICAgREJfU1NMX0NBLFxuICAgIERCX1NTTF9LRVksXG4gICAgREJfU1NMX0NFUlQsXG59O1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGFiYXNlRU5WLFxuICAgIG1hcmlhZGI6IHtcbiAgICAgICAgc3NsOiBEQl9TU0wsXG4gICAgICAgIHNzbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhOiBEQl9TU0xfQ0EsXG4gICAgICAgICAgICBrZXk6IERCX1NTTF9LRVksXG4gICAgICAgICAgICBjZXJ0OiBEQl9TU0xfQ0VSVCxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBqd3RTY2hlbWFFTlYgPSBsb2FkKHtcbiAgICAvKiBMb2FkIEpXVCAqL1xuICAgIEpXVF9TRUNSRVQ6IFN0cmluZyxcbiAgICBKV1RfRVhQSVJFU19JTjogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX1NFQ1JFVDogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX0VYUElSRVNfSU46IFN0cmluZyxcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFOiBOdW1iZXIsXG4gICAgSldUX0FMR09SSVRITTogU3RyaW5nLFxuICAgIEpXVF9JU1NVRVI6IFN0cmluZyxcbiAgICBKV1RfTUFYX0FHRTogTnVtYmVyLFxuICAgIEpXVF9IVFRQX09OTFk6IEJvb2xlYW4sXG4gICAgSldUX1NBTUVfU0lURTogU3RyaW5nLFxuICAgIEpXVF9DT09LSUVfTkFNRTogU3RyaW5nLFxuICAgIEpXVF9TRUNVUkU6IEJvb2xlYW4sXG59KTtcbi8vIGRlc3RydWN0dXJlIHRoZSBKV1Qgc2NoZW1hXG5jb25zdCB7IEpXVF9TRUNSRVQsIEpXVF9FWFBJUkVTX0lOLCBKV1RfUkVGUkVTSF9TRUNSRVQsIEpXVF9SRUZSRVNIX0VYUElSRVNfSU4sIEpXVF9SRUZSRVNIX01BWF9BR0UsIEpXVF9BTEdPUklUSE0sIEpXVF9JU1NVRVIsIEpXVF9NQVhfQUdFLCBKV1RfSFRUUF9PTkxZLCBKV1RfU0FNRV9TSVRFLCBKV1RfQ09PS0lFX05BTUUsIEpXVF9TRUNVUkUsIH0gPSBqd3RTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgSldUIHNjaGVtYSBpcyBwcmVzZW50XG5hc3NlcnQub2soSldUX1NFQ1JFVCwgJ0pXVCBzZWNyZXQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfRVhQSVJFU19JTiwgJ0pXVCBleHBpcmVzIGluIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfU0VDUkVULCAnSldUIHJlZnJlc2ggc2VjcmV0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfRVhQSVJFU19JTiwgJ0pXVCByZWZyZXNoIGV4cGlyZXMgaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQUxHT1JJVEhNLCAnSldUIGFsZ29yaXRobSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9JU1NVRVIsICdKV1QgaXNzdWVyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX01BWF9BR0UsICdKV1QgbWF4IGFnZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9IVFRQX09OTFksICdKV1QgaHR0cCBvbmx5IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1NBTUVfU0lURSwgJ0pXVCBzYW1lIHNpdGUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQ09PS0lFX05BTUUsICdKV1QgY29va2llIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfU0VDVVJFLCAnSldUIHNlY3VyZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9SRUZSRVNIX01BWF9BR0UsICdKV1QgcmVmcmVzaCBtYXggYWdlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG4vLyBleHBvcnQgdGhlIEpXVCBzY2hlbWFcbmV4cG9ydCBjb25zdCBqd3RFTlYgPSB7XG4gICAgSldUX1NFQ1JFVCxcbiAgICBKV1RfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9TRUNSRVQsXG4gICAgSldUX1JFRlJFU0hfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFLFxuICAgIEpXVF9BTEdPUklUSE0sXG4gICAgSldUX0lTU1VFUixcbiAgICBKV1RfTUFYX0FHRSxcbiAgICBKV1RfSFRUUF9PTkxZLFxuICAgIEpXVF9TQU1FX1NJVEUsXG4gICAgSldUX0NPT0tJRV9OQU1FLFxuICAgIEpXVF9TRUNVUkUsXG59O1xuLy8gZXhwb3J0IHRoZSBKV1Qgc2NoZW1hXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgand0RU5WLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBJbWFnZVN0b3JhZ2UgZnJvbSAnLi4vbW9kZWxzL2ltYWdlLm1vZGVsJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmltcG9ydCBQb3N0cyBmcm9tICcuLi9tb2RlbHMvcG9zdC5tb2RlbCc7XG5pbXBvcnQgZ2V0SW1hZ2VQcmV2aWV3VXJsIGZyb20gJy4vaW1hZ2VDb250cm9sbGVyJztcbmltcG9ydCBMaWtlcyBmcm9tICcuLi9tb2RlbHMvbGlrZVBvc3QubW9kZWwnO1xuaW1wb3J0IFNhdmVzIGZyb20gJy4uL21vZGVscy9zYXZlUG9zdC5tb2RlbCc7XG5pbXBvcnQgeyBPcCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5kb3RlbnYuY29uZmlnKCk7XG4vLyBDcmVhdGUgUG9zdCBNZXRob2QgLSBDcmVhdGUgYSBuZXcgcG9zdFxuZXhwb3J0IGNvbnN0IGNyZWF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGNhcHRpb24sIGxvY2F0aW9uLCB0YWdzIH0gPSByZXEuYm9keTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7IC8vIEVuc3VyZSB0aGF0IHRoZSB0b2tlbiBjb250YWlucyB0aGUgdXNlciBJRFxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHJpZXZlIHRoZSBpbWFnZSBVUkwgZnJvbSB0aGUgSW1hZ2VTdG9yYWdlIHRhYmxlIHVzaW5nIHRoZSBzdGF0aWMgbWV0aG9kXG4gICAgICAgICAgICBjb25zdCBpbWFnZVJlY29yZCA9IGF3YWl0IEltYWdlU3RvcmFnZS5maW5kSW1hZ2VCeVJlZmVyZW5jZUtleSgndXNlcl9pZCcsIHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCFpbWFnZVJlY29yZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdJbWFnZSBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3UG9zdCA9IGF3YWl0IFBvc3RzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgY2FwdGlvbjogY2FwdGlvbixcbiAgICAgICAgICAgICAgICBpbWFnZVVSTDogaW1hZ2VSZWNvcmQuaW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgbG9jYXRpb246IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgIHRhZ3M6IHRhZ3MgfHwgJycsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9BdDogbmV3IERhdGUoKSxcbiAgICAgICAgICAgICAgICBjcmVhdG9yX0lkOiB1c2VyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW5ld1Bvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBjcmVhdGluZyBuZXcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgICAgICAuc3RhdHVzKDIwMSlcbiAgICAgICAgICAgICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsIG5ld1Bvc3QgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3UG9zdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUZpbGUgPSBhc3luYyAoX3JlcSwgcmVzLCBpbWFnZVVybCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgSW1hZ2VTdG9yYWdlLmZpbmRPbmUoeyB3aGVyZTogeyBpbWFnZVVybDogaW1hZ2VVcmwgfSB9KTtcbiAgICAgICAgaWYgKCFpbWFnZSkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnSW1hZ2Ugbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCBpbWFnZS5kZXN0cm95KCk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGltYWdlOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gVXBkYXRlIFBvc3QgTWV0aG9kIC0gVXBkYXRlIGEgcG9zdFxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGNhcHRpb24sIGxvY2F0aW9uLCB0YWdzLCBpbWFnZVVybDogbmV3SW1hZ2VVcmwgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCBwb3N0X2lkID0gcGFyc2VJbnQocmVxLnF1ZXJ5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgaWYgKCFwb3N0X2lkKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IElEIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDsgLy8gRW5zdXJlIHRoYXQgdGhlIHRva2VuIGNvbnRhaW5zIHRoZSB1c2VyIElEXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGlkOiBwb3N0X2lkLCBjcmVhdG9yX0lkOiB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocG9zdC5jcmVhdG9yX0lkICE9PSB1c2VyLmlkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIGF0dGVtcHQhJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaW1hZ2VVcmwgPSBwb3N0Py5pbWFnZVVSTDtcbiAgICAgICAgICAgIGlmIChuZXdJbWFnZVVybCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpZXdJbWFnZVVybCA9IGF3YWl0IGdldEltYWdlUHJldmlld1VybChyZXEsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcHJldmlld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdJbWFnZSBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGltYWdlVXJsID0gcHJldmlld0ltYWdlVXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQb3N0ID0gYXdhaXQgcG9zdC51cGRhdGUoe1xuICAgICAgICAgICAgICAgIGlkOiBwb3N0LmlkLFxuICAgICAgICAgICAgICAgIGNhcHRpb246IGNhcHRpb24sXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IGltYWdlVXJsLFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBsb2NhdGlvbixcbiAgICAgICAgICAgICAgICB0YWdzOiB0YWdzLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghdXBkYXRlZFBvc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAobmV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZGVsZXRlRmlsZShyZXEsIHJlcywgbmV3SW1hZ2VVcmwpOyAvLyBFbnN1cmUgZGVsZXRlRmlsZSBpcyBkZWZpbmVkIGVsc2V3aGVyZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciB1cGRhdGluZyBwb3N0JyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNcbiAgICAgICAgICAgICAgICAuc3RhdHVzKDIwMClcbiAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICdQb3N0IHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JywgcG9zdDogdXBkYXRlZFBvc3QgfSk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZFBvc3Q7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEdldCBhbGwgcG9zdHNcbmV4cG9ydCBjb25zdCBnZXRBbGxQb3N0cyA9IGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3N0czogcG9zdHMgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gRnVuY3Rpb24gdG8gbGlrZSBhIHBvc3QgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGxpa2VQb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBjb25zdCBwb3N0X2lkID0gcGFyc2VJbnQocmVxLmJvZHkucG9zdF9pZCwgMTApO1xuICAgICAgICAgICAgaWYgKGlzTmFOKHBvc3RfaWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnSW52YWxpZCBwb3N0IElEJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IFBvc3RzLmZpbmRCeVBrKHBvc3RfaWQpO1xuICAgICAgICAgICAgaWYgKCFwb3N0KSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nTGlrZSA9IGF3YWl0IExpa2VzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IHBvc3RfaWQsIHVzZXJfaWQgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGV4aXN0aW5nTGlrZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgYWxyZWFkeSBsaWtlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV3TGlrZSA9IGF3YWl0IExpa2VzLmNyZWF0ZUxpa2Uoe1xuICAgICAgICAgICAgICAgIHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgcG9zdF9pZCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXBvc3QubGlrZXNfQ291bnQpIHtcbiAgICAgICAgICAgICAgICBwb3N0Lmxpa2VzX0NvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxpa2VzQ291bnQgPSBwb3N0Lmxpa2VzX0NvdW50ICsgMTtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQb3N0ID0gYXdhaXQgcG9zdC51cGRhdGUoeyBsaWtlc19Db3VudDogbGlrZXNDb3VudCB9KTtcbiAgICAgICAgICAgIGlmICghdXBkYXRlZFBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBsaWtpbmcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgbGlrZWQgc3VjY2Vzc2Z1bGx5JywgbGlrZTogbmV3TGlrZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaWtpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEdldCBwb3N0IGJ5IElEXG5leHBvcnQgY29uc3QgZ2V0UG9zdEJ5SWQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3RfaWQgPSByZXEucXVlcnkucG9zdF9pZDtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0cy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBpZDogcG9zdF9pZCwgY3JlYXRvcl9JZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBwb3N0IH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIHRvZ2dsZSBsaWtlc1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUxpa2VkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdMaWtlID0gYXdhaXQgTGlrZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZDogcG9zdF9pZCwgdXNlcl9pZDogdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdMaWtlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdMaWtlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjdXJyZW50TGlrZXMgPSBwb3N0Lmxpa2VzX0NvdW50IHx8IDA7XG4gICAgICAgICAgICBpZiAoY3VycmVudExpa2VzID4gMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRMaWtlcyAtPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcG9zdC51cGRhdGUoeyBsaWtlc19Db3VudDogY3VycmVudExpa2VzIH0pO1xuICAgICAgICAgICAgYXdhaXQgcG9zdC5zYXZlKCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXhpc3RpbmdMaWtlXG4gICAgICAgICAgICAgICAgICAgID8gJ0xpa2UgcmVtb3ZlZCBzdWNjZXNzZnVsbHknXG4gICAgICAgICAgICAgICAgICAgIDogJ1Bvc3QgbGlrZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgICAgICAgICAgICBwb3N0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdG9nZ2xpbmcgbGlrZTonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEZ1bmN0aW9uIHRvIHNhdmUgYSBwb3N0IGJ5IHVzZXJcbmV4cG9ydCBjb25zdCBzYXZlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnUG9zdCBhbHJlYWR5IHNhdmVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdTYXZlID0gYXdhaXQgU2F2ZXMuY3JlYXRlU2F2ZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZCxcbiAgICAgICAgICAgICAgICBwb3N0X2lkLFxuICAgICAgICAgICAgICAgIHNhdmVEYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIW5ld1NhdmUpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBzYXZpbmcgcG9zdC4nIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogJ1Bvc3Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5Jywgc2F2ZTogbmV3U2F2ZSB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEZ1bmN0aW9uIHRvIGRlbGV0ZSBhIHNhdmVkIHBvc3QgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGRlbGV0ZVNhdmVkUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RfaWQsIDEwKTtcbiAgICAgICAgICAgIGlmICghcG9zdF9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1Bvc3QgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdTYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBleGlzdGluZ1NhdmVcbiAgICAgICAgICAgICAgICAgICAgPyAnUG9zdCB1bnNhdmVkIHN1Y2Nlc3NmdWxseSdcbiAgICAgICAgICAgICAgICAgICAgOiAnUG9zdCBub3Qgc2F2ZWQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgc2F2ZWQgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIEdldCBhbGwgc2F2ZWQgcG9zdHMgYnkgdXNlclxuZXhwb3J0IGNvbnN0IGdldFNhdmVkUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzYXZlZFBvc3RzID0gYXdhaXQgU2F2ZXMuZ2V0U2F2ZWRQb3N0cyh1c2VyX2lkKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgICAgICAgICBzYXZlZFBvc3RzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzYXZlZCBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIERlbGV0ZSBhIHBvc3QgLVxuZXhwb3J0IGNvbnN0IGRlbGV0ZVBvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dCB8fCByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uPy5zcGxpdCgnICcpWzFdO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0X2lkLCAxMCk7XG4gICAgICAgICAgICBpZiAoIXBvc3RfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IElEIGlzIHJlcXVpcmVkIGZyb20gc2VydmVyJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3N0ID0gYXdhaXQgUG9zdHMuZmluZEJ5UGsocG9zdF9pZCk7XG4gICAgICAgICAgICBpZiAoIXBvc3QpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdTYXZlID0gYXdhaXQgU2F2ZXMuZmluZE9uZSh7XG4gICAgICAgICAgICAgICAgd2hlcmU6IHsgcG9zdF9pZCwgdXNlcl9pZCB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdTYXZlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgZXhpc3RpbmdTYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEZpbmQgYXNzb2NpYXRlZCBpbWFnZXMgYW5kIGRlbGV0ZSB0aGVtXG4gICAgICAgICAgICBpZiAocG9zdC5pbWFnZVVSTCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgSW1hZ2VTdG9yYWdlLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgICAgICB3aGVyZTogeyBpbWFnZVVybDogcG9zdC5pbWFnZVVSTCB9LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBpbWFnZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgcG9zdC5kZXN0cm95KCk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdQb3N0IGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IGFsbCBpbmZpbml0ZSBwb3N0c1xuZXhwb3J0IGNvbnN0IGdldEluZmluaXRlUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHBhZ2UgPSAwLCBsaW1pdCA9IDEwIH0gPSByZXEucXVlcnk7XG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHBhZ2VcbiAgICAgICAgICAgID8gcGFyc2VJbnQocGFnZSwgMTApICogcGFyc2VJbnQobGltaXQsIDEwKVxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbmRDb3VudEFsbCh7XG4gICAgICAgICAgICBsaW1pdDogcGFyc2VJbnQobGltaXQsIDEwKSxcbiAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkX0F0JywgJ0RFU0MnXV0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBwb3N0cyxcbiAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KHBhZ2UsIDEwKSxcbiAgICAgICAgICAgIHRvdGFsUGFnZXM6IE1hdGguY2VpbChwb3N0cy5jb3VudCAvIHBhcnNlSW50KGxpbWl0LCAxMCkpLFxuICAgICAgICAgICAgdG90YWxDb3VudDogcG9zdHMuY291bnQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbi8vIFNlYXJjaCBwb3N0c1xuLy8gZXhwb3J0IGNvbnN0IHNlYXJjaFBvc3RzID0gYXN5bmMgKFxuLy8gICByZXE6IFJlcXVlc3QsXG4vLyAgIHJlczogUmVzcG9uc2UsXG4vLyApOiBQcm9taXNlPHZvaWQ+ID0+IHtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCB7IHNlYXJjaFZhbHVlIH0gPSByZXEuYm9keTtcbi8vICAgICBpZiAoIXNlYXJjaFZhbHVlKSB7XG4vLyAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdTZWFyY2ggdmFsdWUgaXMgcmVxdWlyZWQnIH0pO1xuLy8gICAgICAgcmV0dXJuO1xuLy8gICAgIH1cbi8vICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuLy8gICAgICAgd2hlcmU6IHtcbi8vICAgICAgICAgY2FwdGlvbjoge1xuLy8gICAgICAgICAgIFtPcC5saWtlXTogYCUke3NlYXJjaFZhbHVlfSVgLFxuLy8gICAgICAgICB9LFxuLy8gICAgICAgfSxcbi8vICAgICB9KTtcbi8vICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4vLyAgICAgICBwb3N0cyxcbi8vICAgICB9KTtcbi8vICAgfSBjYXRjaCAoZXJyb3IpIHtcbi8vICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZWFyY2hpbmcgcG9zdHM6JywgZXJyb3IpO1xuLy8gICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4vLyAgIH1cbi8vIH07XG4vLyBHZXQgdXNlcidzIHBvc3RzXG5leHBvcnQgY29uc3Qgc2VhcmNoUG9zdHMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHNlYXJjaFZhbHVlIH0gPSByZXEuYm9keTtcbiAgICAgICAgaWYgKCFzZWFyY2hWYWx1ZSkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnU2VhcmNoIHZhbHVlIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IFBvc3RzLmZpbmRBbGwoe1xuICAgICAgICAgICAgd2hlcmU6IHtcbiAgICAgICAgICAgICAgICBbT3Aub3JdOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcHRpb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IGAlJHtzZWFyY2hWYWx1ZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbT3AubGlrZV06IGAlJHtzZWFyY2hWYWx1ZX0lYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW09wLmxpa2VdOiBgJSR7c2VhcmNoVmFsdWV9JWAsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgcG9zdHMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VhcmNoaW5nIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGdldFVzZXJQb3N0cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0IHx8IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24/LnNwbGl0KCcgJylbMV07XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCBQb3N0cy5maW5kQWxsKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBjcmVhdG9yX0lkOiB1c2VyX2lkIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9zdHMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyB1c2VyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IFBvcHVsYXIgUG9zdHNcbmV4cG9ydCBjb25zdCBnZXRQb3B1bGFyUG9zdHMgPSBhc3luYyAoX3JlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9wdWxhclBvc3RzID0gYXdhaXQgUG9zdHMuZmluZEFsbCh7XG4gICAgICAgICAgICBvcmRlcjogW1snbGlrZXNfQ291bnQnLCAnREVTQyddXSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgcG9wdWxhclBvc3RzIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3B1bGFyIHBvc3RzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyBqd3RHZW5lcmF0b3IsIGp3dFJlZnJlc2ggfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvand0R2VuZXJhdG9yJztcbmltcG9ydCBVc2VyUmVnaXN0cmF0aW9uIGZyb20gJy4uL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICcuLi91dGlscy9lcnJvckhhbmRsZXInO1xuZG90ZW52LmNvbmZpZygpO1xuZXhwb3J0IGNvbnN0IHVzZXJSZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghbmFtZSB8fCAhdXNlcm5hbWUgfHwgIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTmV3IFVzZXIgdmFsaWRhdGlvbiBlcnJvcicpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3QgdXNlckV4aXN0cyA9IGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VyRXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdVc2VyUmVnaXN0cmF0aW9ucy5lbWFpbDogVXNlciBhbHJlYWR5IGV4aXN0cyAnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgbmV3VXNlcjogbmFtZSxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0R2VuZXJhdG9yKHsgaWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIHRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5ld1VzZXIsXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXNlckxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTG9naW4gVmFsaWRhdGlvbiBFcnJvciEnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0UmVmcmVzaCh7IGlkOiB1c2VyLmlkIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBsb2dnZWQgaW46JywgcmVmcmVzaFRva2VuKTtcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgYWNjZXNzIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdqd3QnLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTZXR0aW5nIHRoZSByZWZyZXNoIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCByZWZyZXNoVG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9SRUZSRVNIX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApO1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXMuanNvbih7IHRva2VuLCByZWZyZXNoVG9rZW4sIHVzZXI6IHVzZXIuaWQgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHVzZXJMb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmNvb2tpZXMucmVmcmVzaFRva2VuO1xuICAgICAgICBpZiAoIWFjY2Vzc1Rva2VuICYmICFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ05vIHRva2VucyBwcm92aWRlZCEnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIHRoZSBhY2Nlc3MgdG9rZW5cbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgJycsIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgbWF4QWdlOiAxLCAvLyAxIG1pbGxpc2Vjb25kIHRvIGVmZmVjdGl2ZWx5IGV4cGlyZSB0aGUgY29va2llXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGVhciB0aGUgcmVmcmVzaCB0b2tlblxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCAnJywge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDEsIC8vIDEgbWlsbGlzZWNvbmQgdG8gZWZmZWN0aXZlbHkgZXhwaXJlIHRoZSBjb29raWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbG9nZ2VkIG91dCcgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHJlZnJlc2hUb2tlbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5jb29raWVzLnJlZnJlc2hUb2tlbjtcbiAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGp3dC52ZXJpZnkocmVmcmVzaFRva2VuLCBqd3RFTlYuSldUX1JFRlJFU0hfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3InLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEOicsIHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdG9rZW5cbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gand0LnNpZ24oeyBpZDogdXNlci5pZCB9LCBqd3RFTlYuSldUX1NFQ1JFVCwge1xuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLmNvb2tpZSgnand0JywgbmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX1JFRlJFU0hfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW46IG5ld1Rva2VuLCB1c2VyOiB1c2VyLmlkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbn07XG4vLyByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5leHBvcnQgY29uc3QgcmVxdWlyZUF1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xuICAgIG5leHQoKTtcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlclJlZ2lzdGVyLFxuICAgIHVzZXJMb2dpbixcbiAgICB1c2VyTG9nb3V0LFxuICAgIHJlZnJlc2hUb2tlbixcbiAgICByZXF1aXJlQXV0aCxcbn07XG4iLCJpbXBvcnQgSW1hZ2VTdG9yYWdlcyBmcm9tICcuLi9tb2RlbHMvaW1hZ2UubW9kZWwnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG4vLyBSZWZhY3RvcmVkIGZ1bmN0aW9uIHRvIHJldHVybiBpbWFnZSBVUkxcbmV4cG9ydCBjb25zdCBnZXRJbWFnZVByZXZpZXdVcmwgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBwcm9jZXNzLmVudi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCBJbWFnZVN0b3JhZ2VzLmZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KCd1c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIWltYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnTm8gaW1hZ2UgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBpbWFnZVVybDogaW1hZ2UuaW1hZ2VVcmwgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBpbWFnZSBwcmV2aWV3OicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2V0IGltYWdlIHByZXZpZXcnKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgZ2V0SW1hZ2VQcmV2aWV3VXJsO1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IGdldEltYWdlUHJldmlld1VybCBmcm9tICcuL2ltYWdlQ29udHJvbGxlcic7XG5kb3RlbnYuY29uZmlnKCk7XG4vLyBHZXQgYWxsIFVzZXJzIGZyb20gZGF0YWJhc2Ugd2l0aCBsaW1pdCBhbmQgb2Zmc2V0XG5leHBvcnQgY29uc3QgZ2V0QWxsVXNlcnMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VySWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE9wdGlvbmFsbHksIHlvdSBjb3VsZCBhZGQgcm9sZS1iYXNlZCBjaGVja3MgaGVyZVxuICAgICAgICAgICAgLy8gaWYgKHVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgICAgICAgLy8gICByZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdGb3JiaWRkZW4nIH0pO1xuICAgICAgICAgICAgLy8gICByZXR1cm47XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCwgMTApIHx8IDEwOyAvLyBEZWZhdWx0IGxpbWl0IHRvIDEwXG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gW1xuICAgICAgICAgICAgICAgICdpZCcsXG4gICAgICAgICAgICAgICAgJ2ZpcnN0TmFtZScsXG4gICAgICAgICAgICAgICAgJ2xhc3ROYW1lJyxcbiAgICAgICAgICAgICAgICAndXNlcm5hbWUnLFxuICAgICAgICAgICAgICAgICdpbWFnZVVSTCcsXG4gICAgICAgICAgICAgICAgJ2F2YXRhclVybCcsXG4gICAgICAgICAgICAgICAgJ2JpbycsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3QgdXNlcnMgPSBhd2FpdCBVc2Vycy5nZXRBbGxVc2VycyhsaW1pdCwgYXR0cmlidXRlcyk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IHVzZXJzIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgYWxsIHVzZXJzOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9KTtcbiAgICB9XG59O1xuLy8gR2V0IHVzZXIgYnkgSURcbmV4cG9ydCBjb25zdCBnZXRVc2VyQnlJRCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHsgaWQgfSA9IHJlcS5wYXJhbXM7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcklkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodXNlci5pZCAhPT0gTnVtYmVyKGlkKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBhdHRlbXB0IScgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdGVkVXNlciA9IGF3YWl0IFVzZXJzLmdldFVzZXJCeUlEKE51bWJlcihpZCkpO1xuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0ZWRVc2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlcjogcmVxdWVzdGVkVXNlciB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgYnkgSUQ6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4vLyBVcGRhdGUgdXNlciBieSBJRFxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGlkIH0gPSByZXEucGFyYW1zO1xuICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gcmVxLmJvZHk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyLmlkICE9PSBOdW1iZXIoaWQpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIGF0dGVtcHQhJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgeyBpbWFnZVVybDogbmV3SW1hZ2VVcmwgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgICAgaWYgKG5ld0ltYWdlVXJsKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlld0ltYWdlVXJsID0gYXdhaXQgZ2V0SW1hZ2VQcmV2aWV3VXJsKHJlcSwgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2aWV3SW1hZ2VVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlcy5pbWFnZVVybCA9IHByZXZpZXdJbWFnZVVybDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGltYWdlIHByZXZpZXcgVVJMOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgdXBkYXRpbmcgcHJvZmlsZSBwaWN0dXJlJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCB1cGRhdGVkVXNlcnNdID0gYXdhaXQgVXNlcnMudXBkYXRlVXNlcihOdW1iZXIoaWQpLCBhdHRyaWJ1dGVzKTtcbiAgICAgICAgICAgIGlmIChhZmZlY3RlZENvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgdXBkYXRpbmcgdXNlcicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1cGRhdGVkVXNlcnMgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufTtcbiIsImltcG9ydCByYXRlTGltaXQgZnJvbSAnZXhwcmVzcy1yYXRlLWxpbWl0JztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uLy4uL2NvbmZpZy9pbmRleCc7XG5leHBvcnQgY29uc3Qga2V5R2VuZXJhdG9yID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXEuaXApIHtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiAnV2FybmluZzogcmVxdWVzdC5pcCBpcyBtaXNzaW5nIScgfSk7XG4gICAgICAgIHJldHVybiByZXEuc29ja2V0LnJlbW90ZUFkZHJlc3M7XG4gICAgfVxuICAgIHJldHVybiByZXEuaXAucmVwbGFjZSgvOlxcZCtbXjpdKiQvLCAnJyk7XG59O1xuZXhwb3J0IGNvbnN0IGxpbWl0ZXIgPSByYXRlTGltaXQoe1xuICAgIHdpbmRvd01zOiBlbnYuUkFSRV9MSU1JVF9XSU5ET1dfTVMsXG4gICAgbWF4OiBlbnYuTUFYLFxuICAgIG1lc3NhZ2U6IGVudi5SQVJFX0xJTUlUX01FU1NBR0UsXG4gICAgc3RhdHVzQ29kZTogZW52LlJBUkVfTElNSVRfQ09ERSxcbiAgICBoYW5kbGVyOiAoX3JlcSwgcmVzKSA9PiB7XG4gICAgICAgIHJlcy5zdGF0dXMoZW52LlJBUkVfTElNSVRfQ09ERSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiBlbnYuUkFSRV9MSU1JVF9NRVNTQUdFLFxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGtleUdlbmVyYXRvcixcbn0pO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGxpbWl0ZXIsXG4gICAga2V5R2VuZXJhdG9yLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uLy4uL2NvbmZpZy9qd3RFTlYnO1xuZG90ZW52LmNvbmZpZygpO1xuZXhwb3J0IGNvbnN0IGp3dEdlbmVyYXRvciA9IChwYXlsb2FkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGp3dEVOVi5KV1RfU0VDUkVULCB7XG4gICAgICAgICAgICBhbGdvcml0aG06IGp3dEVOVi5KV1RfQUxHT1JJVEhNLFxuICAgICAgICAgICAgZXhwaXJlc0luOiBqd3RFTlYuSldUX0VYUElSRVNfSU4sXG4gICAgICAgICAgICBpc3N1ZXI6IGp3dEVOVi5KV1RfSVNTVUVSLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgZ2VuZXJhdGluZyBKV1QnKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGp3dFZlcmlmaWVyID0gKHRva2VuKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVUKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdmVyaWZ5aW5nIEpXVCcpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgand0UmVmcmVzaCA9IChwYXlsb2FkKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIGp3dEVOVi5KV1RfUkVGUkVTSF9TRUNSRVQsIHtcbiAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICBleHBpcmVzSW46IGp3dEVOVi5KV1RfUkVGUkVTSF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgSldUJyk7XG4gICAgfVxufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBqd3RHZW5lcmF0b3IsXG4gICAgand0VmVyaWZpZXIsXG4gICAgand0UmVmcmVzaCxcbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvand0RU5WJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi8uLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5kb3RlbnYuY29uZmlnKCk7XG5leHBvcnQgY29uc3QgcmVxdWlyZUF1dGggPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdmVyaWZ5VXNlciA9IGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignSldUIHZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVjb2RlZFRva2VuOicsIGRlY29kZWRUb2tlbik7XG4gICAgICAgICAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gdXNlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcmV0cmlldmluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHZlcmlmeWluZyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgbmV4dCgpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7IHZlcmlmeVVzZXIsIHJlcXVpcmVBdXRoIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4vc2VxdWlsaXplQ29uJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yREIoKSB7XG4gICAgY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwOyAvLyAxMCBhdHRlbXB0c1xuICAgIGNvbnN0IGRlbGF5ID0gMTAwMDsgLy8gMSBzZWNvbmRcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCwgU3RhcnRpbmcgU2VydmVyLi4uLi4nKTtcbiAgICAgICAgICAgIC8vIFN5bmMgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgYW5kIHJlLXN5bmMgZGIuJyk7XG4gICAgICAgICAgICByZXR1cm4gc2VxdWVsaXplOyAvLyBSZXR1cm4gdGhlIFNlcXVlbGl6ZSBpbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ01heCBhdHRlbXB0cyByZWFjaGVkLCBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgd2FpdEZvckRCIH07XG4iLCJpbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuaW1wb3J0IGZzIGZyb20gJ25vZGU6ZnMnO1xuY29uc3QgZGJDb25maWcgPSB7XG4gICAgRGlhbGVjdDogJ21hcmlhZGInLFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gICAgdXNlcm5hbWU6IGRhdGFiYXNlRU5WLkRCX1VTRVIgfHwgJ21ldGFsYnJhaW4nLFxuICAgIHBhc3N3b3JkOiBkYXRhYmFzZUVOVi5EQl9QQVNTIHx8ICdwYXNzd29yZCcsXG4gICAgZGF0YWJhc2U6IGRhdGFiYXNlRU5WLkRCX05BTUUgfHwgJ0ZpbmRTb21lT25lJyxcbiAgICBzb2NrZXRQYXRoOiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfUEFUSCB8fCAnL3Zhci9ydW4vbXlzcWxkL215c3FsZC5zb2NrJyxcbiAgICBzb2NrZXRUaW1lb3V0OiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfVElNRU9VVCB8fCAxMDAwLFxuICAgIGNvbXByZXNzOiBkYXRhYmFzZUVOVi5EQl9DT01QUkVTUyB8fCBmYWxzZSxcbiAgICBkZWJ1ZzogZGF0YWJhc2VFTlYuREJfREVCVUcgfHwgZmFsc2UsXG4gICAgcGVybWl0TG9jYWxJbmZpbGU6IGRhdGFiYXNlRU5WLkRCX1BFUk1JVF9MT0NBTF9JTkZJTEUgfHwgZmFsc2UsXG4gICAgdHJhY2U6IGRhdGFiYXNlRU5WLkRCX1RSQUNFIHx8IHRydWUsXG4gICAgY2hlY2tEdXBsaWNhdGU6IGRhdGFiYXNlRU5WLkRCX0NIRUNLX0RVUExJQ0FURSB8fCBmYWxzZSxcbiAgICBjb25uZWN0QXR0cmlidXRlczogSlNPTi5wYXJzZShkYXRhYmFzZUVOVi5EQl9DT05ORUNUSU9OX0FUVFJJQlVURVMgfHwgJ3t9JyksXG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IGRhdGFiYXNlRU5WLkRCX0NPTk5FQ1RJT05fVElNRU9VVCB8fCAxMDAwLFxuICAgIHBvcnQ6IGRhdGFiYXNlRU5WLkRCX1BPUlQgfHwgMzMwNixcbiAgICBzc2w6IGRhdGFiYXNlRU5WLkRCX1NTTCB8fCBmYWxzZSxcbiAgICBkaWFsZWN0T3B0aW9uczoge1xuICAgICAgICBzc2w6IHtcbiAgICAgICAgICAgIGNhOiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0FcbiAgICAgICAgICAgICAgICA/IGZzLnJlYWRGaWxlU3luYyhkYXRhYmFzZUVOVi5EQl9TU0xfQ0EpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAga2V5OiBkYXRhYmFzZUVOVi5EQl9TU0xfS0VZXG4gICAgICAgICAgICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoZGF0YWJhc2VFTlYuREJfU1NMX0tFWSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBjZXJ0OiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0VSVFxuICAgICAgICAgICAgICAgID8gZnMucmVhZEZpbGVTeW5jKGRhdGFiYXNlRU5WLkRCX1NTTF9DRVJUKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgU2VxdWVsaXplIGluc3RhbmNlXG4gICAgY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShkYkNvbmZpZy5kYXRhYmFzZSwgZGJDb25maWcudXNlcm5hbWUsIGRiQ29uZmlnLnBhc3N3b3JkLCB7XG4gICAgICAgIGhvc3Q6IGRiQ29uZmlnLmhvc3QsXG4gICAgICAgIGRpYWxlY3Q6IGRiQ29uZmlnLkRpYWxlY3QsXG4gICAgICAgIHBvcnQ6IGRiQ29uZmlnLnBvcnQsXG4gICAgICAgIHNzbDogZGJDb25maWcuc3NsLFxuICAgICAgICBkaWFsZWN0T3B0aW9uczogZGJDb25maWcuZGlhbGVjdE9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlcXVlbGl6ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfTtcbiIsIi8vIHRoaXMgd2lsbCBsb2FkIGFsbCBtb2RlbCBjbGFzc2VzIGZvdW5kIGluIGZpbGVzIG1hdGNoaW5nIHRoaXMgZ2xvYiBwYXR0ZXJuLlxuaW1wb3J0IHsgU2VxdWVsaXplLCBpbXBvcnRNb2RlbHMgfSBmcm9tICdAc2VxdWVsaXplL2NvcmUnO1xuaW1wb3J0IHsgTWFyaWFEYkRpYWxlY3QgfSBmcm9tICdAc2VxdWVsaXplL21hcmlhZGInO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJztcbmltcG9ydCB7IGRpcm5hbWUgfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuY29uc3QgX19kaXJuYW1lID0gZGlybmFtZShmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCkpO1xuZXhwb3J0IGNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xuICAgIGRpYWxlY3Q6IE1hcmlhRGJEaWFsZWN0LFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QsXG4gICAgdXNlcjogZGF0YWJhc2VFTlYuREJfVVNFUixcbiAgICBwYXNzd29yZDogZGF0YWJhc2VFTlYuREJfUEFTUyxcbiAgICBkYXRhYmFzZTogZGF0YWJhc2VFTlYuREJfTkFNRSxcbiAgICBwb3J0OiBkYXRhYmFzZUVOVi5EQl9QT1JULFxuICAgIHNzbDogZGF0YWJhc2VFTlYuREJfU1NMLFxuICAgIG1vZGVsczogYXdhaXQgaW1wb3J0TW9kZWxzKF9fZGlybmFtZSArICcvc3JjL3NlcnZlci9tb2RlbHMvKiovKi5tb2RlbC57dHMsanN9JyksXG59KTtcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXMvcm91dGVyJztcbmltcG9ydCB7IGxpbWl0ZXIgfSBmcm9tICcuL2F1dGgvaXBDb25maWcnO1xuaW1wb3J0IHsgZ2xvYmFsRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhcHAuZ2V0KCcvc3RhdHVzJywgKF9yZXEsIHJlcykgPT4gcmVzLnNlbmRTdGF0dXMoMjAwKS5lbmQoKSk7XG4gICAgYXBwLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgICAgIGlmIChfcmVxLm1ldGhvZCA9PT0gJ09QVElPTlMnKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnNlbmRTdGF0dXMoMjA0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xuICAgIGFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuICAgIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xuICAgIGFwcC51c2UoY29va2llUGFyc2VyKCkpO1xuICAgIGFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpO1xuICAgIC8vIFNlcnZlIHN0YXRpYyBmaWxlcyBmcm9tICdkaXN0JyBkaXJlY3RvcnlcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICdkaXN0JykpKTtcbiAgICBjb25zdCBUcnVzdF9Qcm94eSA9IGVudi5UUlVTVF9QUk9YWSB8fCAnZmFsc2UnO1xuICAgIGNvbnN0IG51bWJlck9mUHJveGllcyA9IGVudi5OVU1CRVJfT0ZfUFJPWElFUyB8fCAxO1xuICAgIGlmIChUcnVzdF9Qcm94eSkge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChUcnVzdF9Qcm94eSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgVHJ1c3RfUHJveHkpO1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIG51bWJlck9mUHJveGllcyk7XG4gICAgfVxuICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgbnVtYmVyT2ZQcm94aWVzKTtcbiAgICBhcHAuZ2V0KCcvaXAnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHJlc3BvbnNlLnNlbmQocmVxdWVzdC5pcCkpO1xuICAgIGFwcC51c2UoaGVsbWV0KHtcbiAgICAgICAgY29udGVudFNlY3VyaXR5UG9saWN5OiBmYWxzZSxcbiAgICB9KSk7XG4gICAgYXBwLnVzZShtb3JnYW4oZW52Lk1PUkdBTikpO1xuICAgIGFwcC51c2UobGltaXRlcik7XG4gICAgYXBwLnVzZShyb3V0ZXIpO1xuICAgIGFwcC51c2UoZ2xvYmFsRXJyb3JIYW5kbGVyKTtcbiAgICByZXR1cm4gYXBwO1xufVxuIiwiaW1wb3J0IGV4cHJlc3NMb2FkZXIgZnJvbSAnLi9leHByZXNzJztcbmltcG9ydCBzZXF1aWxpemVMb2FkZXIgZnJvbSAnLi9kYXRhTG9hZGVyL3NlcXVsaXplJztcbmltcG9ydCB7IHdhaXRGb3JEQiB9IGZyb20gJy4vZGF0YUxvYWRlci9tYXJpYWRiJztcbmltcG9ydCB7IHRydW5jYXRlVGFibGVzIH0gZnJvbSAnLi4vc2VydmljZXMvdHJ1bmNhdGUnO1xuaW1wb3J0IGxvYWRlciBmcm9tICcuLi9zZXJ2aWNlcy9wZXJmb3JtYW5jZSc7XG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiAoeyBhcHAgfSkge1xuICAgIGF3YWl0IHRydW5jYXRlVGFibGVzKCk7XG4gICAgYXdhaXQgd2FpdEZvckRCKCk7XG4gICAgc2VxdWlsaXplTG9hZGVyO1xuICAgIGF3YWl0IGV4cHJlc3NMb2FkZXIoeyBhcHAgfSk7XG4gICAgbG9hZGVyKCk7XG4gICAgY29uc29sZS5sb2coJ0V4cHJlc3MgU2VydmVyIEludGlhbGl6ZWQhJyk7XG59XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi5qcyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi91c2VyLm1vZGVsLmpzJztcbmltcG9ydCBQb3N0cyBmcm9tICcuL3Bvc3QubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIEltYWdlU3RvcmFnZXMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBmaW5kIGFuIGltYWdlIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIGZpbmRJbWFnZUJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEJ5UGsoaWQpO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgZmluZEltYWdlQnlSZWZlcmVuY2VLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgICAgIHdoZXJlOiB7IFtrZXldOiB2YWx1ZSB9LFxuICAgICAgICAgICAgICAgIG9yZGVyOiBbWydjcmVhdGVkX0F0JywgJ0RFU0MnXV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZpbmRpbmcgaW1hZ2UgYnkgcmVmZXJlbmNlIGtleTogJHtrZXl9LCB2YWx1ZTogJHt2YWx1ZX1gLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdGhlIGVycm9yIGFmdGVyIGxvZ2dpbmcgaXRcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIERlZmluZSB0aGUgSW1hZ2VTdG9yYWdlIG1vZGVsXG5JbWFnZVN0b3JhZ2VzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdXNlcl9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwb3N0X2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1Bvc3RzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNyZWF0ZWRfQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxufSwge1xuICAgIHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdJbWFnZVN0b3JhZ2VzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbn0pO1xuLy8gRGVmaW5lIHRoZSBVc2VyIG1vZGVsXG5JbWFnZVN0b3JhZ2VzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdXNlcl9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwb3N0X2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1Bvc3RzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ0ltYWdlU3RvcmFnZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxufSk7XG4vLyBjcmVhdGUgYSBob29rIHRoYXQgc2F2ZXMgdXBsb2FkZWQgaW1hZ2UgdG8gdGhlIHVzZXIncyBjb2x1bW5zIGluIHRoZSBkYXRhYmFzZVxuSW1hZ2VTdG9yYWdlcy5hZnRlckNyZWF0ZShhc3luYyAoaW1hZ2UpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoaW1hZ2UudXNlcl9pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdXNlci5pbWFnZVVSTCA9IGltYWdlLmltYWdlVXJsO1xuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICB9XG59KTtcbi8vIEFmdGVyIFVwbG9hZGluZyBhbiBpbWFnZSwgc2F2ZSB0byB1c2VyJ3MgdGFibGVcblVzZXJzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcblBvc3RzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIsIE5ld1Bvc3QsIGFuZCBJbWFnZVN0b3JhZ2UgbW9kZWxzXG5JbWFnZVN0b3JhZ2VzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbkltYWdlU3RvcmFnZXMuYmVsb25nc1RvKFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuLy8gc3luYyB0aGUgSW1hZ2VTdG9yYWdlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IEltYWdlIHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBuZXcgaW1hZ2U6JywgZXJyKTtcbn0pO1xuLy8gSW1hZ2VTdG9yYWdlLnN5bmMoeyBmb3JjZTogdHJ1ZSB9KVxuLy8gICAudGhlbigoKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coJ0ltYWdlU3RvcmFnZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4vLyAgIH0pXG4vLyAgIC5jYXRjaChlcnIgPT4ge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgSW1hZ2VTdG9yYWdlOicsIGVycik7XG4vLyAgIH0pO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTdG9yYWdlcztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbmltcG9ydCBVc2VyIGZyb20gJy4vdXNlci5tb2RlbC5qcyc7XG5pbXBvcnQgUG9zdCBmcm9tICcuL3Bvc3QubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIExpa2VzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IGxpa2VcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlTGlrZShhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBmaW5kIGEgbGlrZSBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBmaW5kTGlrZUJ5SWQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZEJ5UGsoaWQpO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGZpbmQgYSBsaWtlIGJ5IHJlZmVyZW5jZSBrZXkgKHVzZXJJZCBvciBwb3N0SWQpXG4gICAgc3RhdGljIGFzeW5jIGZpbmRMaWtlQnlSZWZlcmVuY2VLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbGwgbGlrZXMgYnkgcmVmZXJlbmNlIGtleSAodXNlcklkIG9yIHBvc3RJZClcbiAgICBzdGF0aWMgYXN5bmMgZmluZEFsbExpa2VzQnlSZWZlcmVuY2VLZXkoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbGwgbGlrZXMgYnkgcmVmZXJlbmNlIGtleSAodXNlcklkIG9yIHBvc3RJZClcbiAgICBzdGF0aWMgYXN5bmMgZGVsZXRlTGlrZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kZXN0cm95KHsgd2hlcmU6IHsgW2tleV06IHZhbHVlIH0gfSk7XG4gICAgfVxufVxuLy8gRGVmaW5lIHRoZSBVc2VyIG1vZGVsXG5MaWtlcy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgcG9zdF9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdQb3N0cycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBjcmVhdGVkX0F0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnTGlrZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxuICAgIGZyZWV6ZVRhYmxlTmFtZTogdHJ1ZSxcbn0pO1xuLy8gRGVmaW5lIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBVc2VyIGFuZCBMaWtlXG5Vc2VyLmhhc01hbnkoTGlrZXMsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbn0pO1xuTGlrZXMuYmVsb25nc1RvKFVzZXIsIHtcbiAgICBmb3JlaWduS2V5OiAndXNlcl9pZCcsXG59KTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gUG9zdCBhbmQgTGlrZVxuUG9zdC5oYXNNYW55KExpa2VzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG59KTtcbkxpa2VzLmJlbG9uZ3NUbyhQb3N0LCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxufSk7XG4vLyBTeW5jIHRoZSBMaWtlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5MaWtlcy5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdMaWtlIHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBsaWtlOicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IExpa2VzO1xuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24nO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbC5qcyc7XG4vLyBEZWZpbmUgSW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5jb25zdCBzZXF1ZWxpemUgPSBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpO1xuY2xhc3MgUG9zdHMgZXh0ZW5kcyBNb2RlbCB7XG4gICAgLy8gY3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgcG9zdFxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVQb3N0KGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY3JlYXRlKGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgYXN5bmMgdXBkYXRlUG9zdChpZCwgYXR0cmlidXRlcykge1xuICAgICAgICBjb25zdCBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFBvc3RzXSA9IGF3YWl0IHRoaXMudXBkYXRlKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRQb3N0c107XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZGVsZXRlIGEgUG9zdCBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBkZWxldGVQb3N0KGlkKSB7XG4gICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBpZCB9IH0pO1xuICAgICAgICBpZiAocG9zdCkge1xuICAgICAgICAgICAgYXdhaXQgcG9zdC5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgYWxsIHBvc3RzXG4gICAgc3RhdGljIGFzeW5jIGdldEFsbFBvc3RzKCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKCk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IGluZmluaXRlIHBvc3RzXG4gICAgc3RhdGljIGFzeW5jIGdldEluZmluaXRlUG9zdHMob2Zmc2V0LCBsaW1pdCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHsgb2Zmc2V0LCBsaW1pdCB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byBnZXQgcG9zdCBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBnZXRQb3N0QnlJRChpZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgaWQ6IGlkIH0gfSk7XG4gICAgfVxuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IHVzZXIncyBwb3N0c1xuICAgIHN0YXRpYyBhc3luYyBnZXRVc2VyUG9zdHModXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHsgd2hlcmU6IHsgY3JlYXRvcl9JZDogdXNlcl9pZCB9IH0pO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCBTYXZlZCBwb3N0IGJ5IHBvc3QgSURcbiAgICBzdGF0aWMgYXN5bmMgZ2V0U2F2ZWRQb3N0KHBvc3RfaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiBwb3N0X2lkIH0gfSk7XG4gICAgfVxufVxuLy8gU3luYyB0aGUgbW9kZWwgd2l0aCB0aGUgZGF0YWJhc2VcblBvc3RzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgY2FwdGlvbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaW1hZ2VVUkw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgbG9jYXRpb246IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdGFnczoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgbGlrZXNfQ291bnQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIGNyZWF0ZWRfQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICB9LFxuICAgIGNyZWF0b3JfSWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlcnMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ1Bvc3RzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbn0pO1xuLy8gQ3JlYXRlIG5ldyBwb3N0XG5Qb3N0cy5jcmVhdGVQb3N0ID0gYXN5bmMgZnVuY3Rpb24gKGF0dHJpYnV0ZXMpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBuZXdQb3N0ID0gYXdhaXQgdGhpcy5jcmVhdGUoYXR0cmlidXRlcyk7XG4gICAgICAgIHJldHVybiBuZXdQb3N0O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgbmV3IHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gVXBkYXRlIHBvc3QgYnkgSURcblBvc3RzLnVwZGF0ZVBvc3QgPSBhc3luYyBmdW5jdGlvbiAoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFBvc3RzXSA9IGF3YWl0IHRoaXMudXBkYXRlKGF0dHJpYnV0ZXMsIHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICAgICAgICByZXR1cm5pbmc6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRQb3N0c107XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBwb3N0OicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbi8vIGluZmluaXRlIHBvc3RzXG5Qb3N0cy5nZXRJbmZpbml0ZVBvc3RzID0gYXN5bmMgZnVuY3Rpb24gKG9mZnNldCwgbGltaXQpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IHRoaXMuZmluZEFsbCh7IG9mZnNldCwgbGltaXQgfSk7XG4gICAgICAgIHJldHVybiBwb3N0cztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgaW5maW5pdGUgcG9zdHM6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gR2V0IHNlYXJjaCByZXN1bHRzIC0gcG9zdHNcblBvc3RzLmdldFBvc3RCeUlEID0gYXN5bmMgZnVuY3Rpb24gKGlkKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9zdCA9IGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGlkIH0gfSk7XG4gICAgICAgIHJldHVybiBwb3N0O1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwb3N0IGJ5IElEOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcbi8vIEdldCB1c2VyJ3MgcG9zdHNcblBvc3RzLmdldFVzZXJQb3N0cyA9IGFzeW5jIGZ1bmN0aW9uICh1c2VyX2lkKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcG9zdHMgPSBhd2FpdCB0aGlzLmZpbmRBbGwoeyB3aGVyZTogeyBjcmVhdG9yX0lkOiB1c2VyX2lkIH0gfSk7XG4gICAgICAgIHJldHVybiBwb3N0cztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBwb3N0czonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBEZWZpbmUgdGhlIHJlbGF0aW9uc2hpcCBiZXR3ZWVuIHRoZSBVc2VyIGFuZCBQb3N0IG1vZGVsc1xuVXNlcnMuaGFzTWFueShQb3N0cywge1xuICAgIGZvcmVpZ25LZXk6ICdjcmVhdG9yX0lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcblBvc3RzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICdjcmVhdG9yX0lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbmF3YWl0IHNlcXVlbGl6ZVxuICAgIC5zeW5jKHsgZm9yY2U6IGZhbHNlIH0pXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdQb3N0IHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBQb3N0OicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFBvc3RzO1xuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24nO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbC5qcyc7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBTYXZlcyBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBDcmVhdGUgY3VzdG9tIGNsYXNzIG1ldGhvZHMgdG8gY3JlYXRlIGEgbmV3IHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlU2F2ZShhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgLy8gY3JlYXRlIGN1c3RvbSBtZXRob2QgdG8gY2hlY2sgaWYgcG9zdCBpcyBzYXZlZFxuICAgIHN0YXRpYyBhc3luYyBjaGVja0lmU2F2ZWQodXNlcl9pZCwgcG9zdF9pZCkge1xuICAgICAgICBjb25zdCBzYXZlID0gYXdhaXQgdGhpcy5maW5kT25lKHsgd2hlcmU6IHsgdXNlcl9pZCwgcG9zdF9pZCB9IH0pO1xuICAgICAgICByZXR1cm4gISFzYXZlO1xuICAgIH1cbiAgICAvLyBjcmVhdGUgY3VzdG9tIG1ldGhvZCB0byBkZWxldGUgYSBzYXZlZCBwb3N0XG4gICAgc3RhdGljIGFzeW5jIGRlbGV0ZVNhdmVkUG9zdChwb3N0X2lkKSB7XG4gICAgICAgIGNvbnN0IHNhdmUgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBwb3N0X2lkIH0gfSk7XG4gICAgICAgIGlmIChzYXZlKSB7XG4gICAgICAgICAgICBhd2FpdCBzYXZlLmRlc3Ryb3koKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBjcmVhdGUgY3VzdG9tIG1ldGhvZCB0byBnZXQgYWxsIHNhdmVkIHBvc3RzXG4gICAgc3RhdGljIGFzeW5jIGdldFNhdmVkUG9zdHModXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IHVzZXJfaWQgfSxcbiAgICAgICAgICAgIGluY2x1ZGU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBQb3N0cyxcbiAgICAgICAgICAgICAgICAgICAgYXM6ICdQb3N0JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8gRGVmaW5lIHRoZSBTYXZlcyBtb2RlbFxuU2F2ZXMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICB1c2VyX2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1VzZXJzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHBvc3RfaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnUG9zdHMnLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgc2F2ZURhdGU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIHRhYmxlTmFtZTogJ1NhdmVzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICBmcmVlemVUYWJsZU5hbWU6IHRydWUsXG59KTtcbi8vIENyZWF0ZSBhIGZ1bmN0aW9uIHRvIGRlbGV0ZSBzYXZlZCBQb3N0IHVzaW5nIHRoZSBzdGF0aWMgbWV0aG9kXG5TYXZlcy5kZWxldGVTYXZlZFBvc3QgPSBhc3luYyBmdW5jdGlvbiAocG9zdF9pZCkge1xuICAgIGNvbnN0IHNhdmUgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBwb3N0X2lkIH0gfSk7XG4gICAgaWYgKHNhdmUpIHtcbiAgICAgICAgYXdhaXQgc2F2ZS5kZXN0cm95KCk7XG4gICAgfVxufTtcbi8vIENyZWF0ZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBTYXZlcyBhbmQgVXNlcnNcblNhdmVzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICB0YXJnZXRLZXk6ICdpZCcsXG59KTtcbi8vIENyZWF0ZSByZWxhdGlvbnNoaXAgYmV0d2VlbiBTYXZlcyBhbmQgUG9zdHNcblNhdmVzLmJlbG9uZ3NUbyhQb3N0cywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICB0YXJnZXRLZXk6ICdpZCcsXG59KTtcblNhdmVzLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1NhdmUgUG9zdCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgU2F2ZSBwb3N0OicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFNhdmVzO1xuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24nO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFVzZXJzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IHVzZXIgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlckJ5SUQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiBpZCB9IH0pO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCBhbGwgdXNlcnNcbiAgICAvLyBzdGF0aWMgYXN5bmMgZ2V0QWxsVXNlcnMoKTogUHJvbWlzZTxVc2Vyc1tdPiB7XG4gICAgLy8gICByZXR1cm4gYXdhaXQgdGhpcy5maW5kQWxsKHtcbiAgICAvLyAgICAgYXR0cmlidXRlczogW1xuICAgIC8vICAgICAgICdpZCcsXG4gICAgLy8gICAgICAgJ2ZpcnN0TmFtZScsXG4gICAgLy8gICAgICAgJ2xhc3ROYW1lJyxcbiAgICAvLyAgICAgICAndXNlcm5hbWUnLFxuICAgIC8vICAgICAgICdzdGF0dXMnLFxuICAgIC8vICAgICAgICdiaW8nLFxuICAgIC8vICAgICAgICdqb2luJyxcbiAgICAvLyAgICAgICAnYXZhdGFyVXJsJyxcbiAgICAvLyAgICAgICAnaW1hZ2VVUkwnLFxuICAgIC8vICAgICAgICdwcm9maWxlUGljJyxcbiAgICAvLyAgICAgICAnbGFiZWwnLFxuICAgIC8vICAgICAgICdsYXN0X2FjdGl2aXR5JyxcbiAgICAvLyAgICAgICAndXBkYXRlZF9hdCcsXG4gICAgLy8gICAgICAgJ1VzZXJSZWdpc3RyYXRpb25JRCcsXG4gICAgLy8gICAgIF0sXG4gICAgLy8gICB9KTtcbiAgICAvLyB9XG4gICAgc3RhdGljIGFzeW5jIGdldEFsbFVzZXJzKGxpbWl0LCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRBbGwoe1xuICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gZGVjbGFyZSBzdGF0aWMgbWV0aG9kcyB0byB1cGRhdGUgYSB1c2VyIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVVzZXIoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRVc2Vyc10gPSBhd2FpdCB0aGlzLnVwZGF0ZShhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFthZmZlY3RlZENvdW50LCB1cGRhdGVkVXNlcnNdO1xuICAgIH1cbn1cbi8vIFN5bmMgdGhlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5Vc2Vycy5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICAgIGZpcnN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBsYXN0TmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICB1c2VybmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBpczogL15bYS16QS1aMC05X10qJC8sXG4gICAgICAgICAgICBsZW46IFszLCAyMF0sXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICB1bmlxdWU6IHRydWUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBpc0VtYWlsOiB0cnVlLFxuICAgICAgICAgICAgbGVuOiBbNSwgNTBdLFxuICAgICAgICAgICAgbm90RW1wdHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBoYXNoZWRwYXNzd29yZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HKDY0KSxcbiAgICB9LFxuICAgIHN0YXR1czoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICd1bnZlcmlmaWVkJyxcbiAgICB9LFxuICAgIGJpbzoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdUaGlzIGlzIGEgbmV3IHVzZXIuJyxcbiAgICB9LFxuICAgIGpvaW46IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxuICAgIGF2YXRhclVybDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgaW1hZ2VVUkw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICB9LFxuICAgIHByb2ZpbGVQaWM6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ05ldyBVc2VyJyxcbiAgICB9LFxuICAgIGxhc3RfYWN0aXZpdHk6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxuICAgIHVwZGF0ZWRfYXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxuICAgIFVzZXJSZWdpc3RyYXRpb25JRDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuVVVJRCxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1VzZXJSZWdpc3RyYXRpb24nLFxuICAgICAgICAgICAga2V5OiAnaWQnLFxuICAgICAgICB9LFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ1VzZXJzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICB1cGRhdGVkQXQ6ICd1cGRhdGVkX2F0Jyxcbn0pO1xuLy8gU3luYyBVc2VyIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGZvcmNlOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIG5ldyB1c2VyOicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJzO1xuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24nO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IHsgZ2VuZXJhdGVBdmF0YXJVcmwgfSBmcm9tICcuLi91dGlscy9hdmF0YXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbCc7XG4vLyBEZWZpbmUgSW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5jb25zdCBzZXF1ZWxpemUgPSBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpO1xuY2xhc3MgVXNlclJlZ2lzdHJhdGlvbiBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGxvZyBpbiB1c2VyIHVwb24gc3VjY2Vzc2Z1bCByZWdpc3RyYXRpb25cbiAgICBzdGF0aWMgYXN5bmMgbG9naW5Vc2VyKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCwgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGxvZyBvdXQgdXNlclxuICAgIHN0YXRpYyBhc3luYyBsb2dvdXRVc2VyKGVtYWlsKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIHJlc2V0IHRoZSBwYXNzd29yZCwgY29tcGFyZSB0aGUgaGFzaGVkIHBhc3N3b3JkXG4gICAgc3RhdGljIGFzeW5jIHJlc2V0UGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLCBoYXNoZWRwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuVXNlclJlZ2lzdHJhdGlvbi5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICAgIG5ld1VzZXI6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaGFzaGVkcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplOiBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnVXNlclJlZ2lzdHJhdGlvbicsXG4gICAgY3JlYXRlZEF0OiAnY3JlYXRlZEF0JyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICBmcmVlemVUYWJsZU5hbWU6IHRydWUsXG59KTtcbi8vIEhhc2ggdGhlIHBhc3N3b3JkIGJlZm9yZSBzYXZpbmdcblVzZXJSZWdpc3RyYXRpb24uYmVmb3JlQ3JlYXRlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApO1xuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChTdHJpbmcodXNlci5oYXNoZWRwYXNzd29yZCksIHNhbHQpO1xuICAgICAgICAgICAgdXNlci5oYXNoZWRwYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYXNoaW5nIHBhc3N3b3JkOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBoYXNoaW5nIHBhc3N3b3JkJyk7XG4gICAgfVxufSk7XG5Vc2VyUmVnaXN0cmF0aW9uLmFmdGVyQ3JlYXRlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwYWNlSW5kZXggPSB1c2VyLm5ld1VzZXI/Lmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBmaXJzdCBuYW1lIGFuZCBsYXN0IG5hbWUgYmFzZWQgb24gdGhlIGxhc3Qgc3BhY2VcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0X05hbWUgPSBzcGFjZUluZGV4ICE9PSAtMSA/IHVzZXIubmV3VXNlcj8uc2xpY2UoMCwgc3BhY2VJbmRleCkgOiB1c2VyLm5ld1VzZXI7XG4gICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9IHNwYWNlSW5kZXggIT09IC0xID8gdXNlci5uZXdVc2VyPy5zbGljZShzcGFjZUluZGV4ID8/ICsxKSA6IG51bGwgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBhdmF0YXIgPSBnZW5lcmF0ZUF2YXRhclVybCh1c2VyLnVzZXJuYW1lKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBvciB1cGRhdGUgdGhlIHVzZXIgcmVjb3JkIGluIHRoZSBVc2VycyB0YWJsZVxuICAgICAgICAgICAgYXdhaXQgVXNlcnMudXBzZXJ0KHtcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiB1c2VyLmhhc2hlZHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3VudmVyaWZpZWQnLFxuICAgICAgICAgICAgICAgIGJpbzogJ0kgYW0gYSBuZXcgdXNlci4nLFxuICAgICAgICAgICAgICAgIGpvaW46IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgYXZhdGFyVXJsOiBhdmF0YXIsXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IG51bGwsXG4gICAgICAgICAgICAgICAgcHJvZmlsZVBpYzogbnVsbCxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05ldyBVc2VyJyxcbiAgICAgICAgICAgICAgICBsYXN0X2FjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgVXNlclJlZ2lzdHJhdGlvbklEOiB1c2VyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG5ldyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciByZWdpc3RlcmluZyBuZXcgdXNlcicpO1xuICAgIH1cbn0pO1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dpbiB1c2VyIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkIGFuZCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcblVzZXJSZWdpc3RyYXRpb24ubG9naW5Vc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbDogZW1haWwgfSB9KTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5oYXNoZWRwYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAoYXV0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGVtYWlsJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgaW4gdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dvdXQgdXNlclxuVXNlclJlZ2lzdHJhdGlvbi5sb2dvdXRVc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBvdXQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoeyBmb3JjZTogZmFsc2UgfSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ05ldyBVc2VyIFJlZ2lzdGVyZWQgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIG5ldyB1c2VyOicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJSZWdpc3RyYXRpb247XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IHsgY29yT3B0aW9ucyB9IGZyb20gJy4uL2NvbmZpZy9jb3JPcHRpb25zJztcbmltcG9ydCAqIGFzIGF1dGhDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnVzZShjb3JzKGNvck9wdGlvbnMpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG4vLyBhcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbnJvdXRlci5wb3N0KCcvYXBpL3JlZ2lzdGVyJywgYXV0aENvbnRyb2xsZXIudXNlclJlZ2lzdGVyKTtcbnJvdXRlci5wb3N0KCcvYXBpL2xvZ2luJywgYXV0aENvbnRyb2xsZXIudXNlckxvZ2luKTtcbnJvdXRlci5nZXQoJy9hcGkvbG9nb3V0JywgYXV0aENvbnRyb2xsZXIudXNlckxvZ291dCk7XG5yb3V0ZXIucG9zdCgnL2FwaS9yZWZyZXNoLXRva2VuJywgYXV0aENvbnRyb2xsZXIucmVmcmVzaFRva2VuKTtcbnJvdXRlci5nZXQoJy9hcGkvY3VycmVudFVzZXInLCBhdXRoQ29udHJvbGxlci5yZXF1aXJlQXV0aCk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4uL21vZGVscy91c2VyLm1vZGVsJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgeyB2ZXJpZnlVc2VyIH0gZnJvbSAnLi4vbG9hZGVycy9hdXRoL3VzZXJBdXRoJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCB7IGp3dEVOViB9IGZyb20gJy4uL2NvbmZpZy9qd3RFTlYnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbmRvdGVudi5jb25maWcoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbnJvdXRlci5nZXQoJy9hcGkvZ2V0VXNlcicsIHZlcmlmeVVzZXIsIGFzeW5jIChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkIEludmFsaWQgVG9rZW4nIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xufSk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IHsgY29yT3B0aW9ucyB9IGZyb20gJy4uL2NvbmZpZy9jb3JPcHRpb25zJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgdXBsb2FkIGZyb20gJy4uL3NlcnZpY2VzL211bHRlci5jb25maWcnO1xuaW1wb3J0IGdldEltYWdlUHJldmlld1VybCBmcm9tICcuLi9jb250cm9sbGVycy9pbWFnZUNvbnRyb2xsZXInO1xuaW1wb3J0IEltYWdlU3RvcmFnZXMgZnJvbSAnLi4vbW9kZWxzL2ltYWdlLm1vZGVsJztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmRvdGVudi5jb25maWcoKTtcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG4vLyBFbmFibGUgQ09SUyBmb3IgYWxsIHJvdXRlc1xucm91dGVyLnVzZShjb3JzKGNvck9wdGlvbnMpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgcmVzLmhlYWRlcignZW5jb2RpbmcnLCAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIucG9zdCgnL2FwaS91cGxvYWRJbWFnZScsIHVwbG9hZC5zaW5nbGUoJ2ltYWdlJyksIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdGaWxlIHVwbG9hZGVkOicsIHJlcS5maWxlKTtcbiAgICAgICAgLy8gTW9kaWZ5IHRoZSBmaWxlIHBhdGggdG8gdGhlIHJlcXVpcmVkIGZvcm1hdFxuICAgICAgICBjb25zdCByZWxhdGl2ZVBhdGggPSBgYXNzZXRzL2ltYWdlcy8ke3JlcS5maWxlPy5maWxlbmFtZX1gO1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgY29uc3QgcG9zdF9pZCA9IHBhcnNlSW50KHJlcS5ib2R5LnBvc3RJZCwgMTApO1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgICAgICBpZiAoIXVzZXJfaWQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW1hZ2VSZWNvcmQgPSBhd2FpdCBJbWFnZVN0b3JhZ2VzLmNyZWF0ZSh7XG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHJlbGF0aXZlUGF0aCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VyX2lkIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgcG9zdF9pZDogcG9zdF9pZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaW1hZ2VSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7IGVycm9yOiAnRXJyb3IgY3JlYXRpbmcgaW1hZ2UgcmVjb3JkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0ltYWdlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseScsXG4gICAgICAgICAgICAgICAgaW1hZ2VVcmw6IHJlbGF0aXZlUGF0aCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBpbWFnZTonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfVxufSk7XG5yb3V0ZXIuZ2V0KCcvYXBpL3NlbmRJbWFnZVVybCcsIGdldEltYWdlUHJldmlld1VybCk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCB7IGNyZWF0ZVBvc3QsIGRlbGV0ZUxpa2VkUG9zdCwgZGVsZXRlUG9zdCwgZGVsZXRlU2F2ZWRQb3N0LCBnZXRBbGxQb3N0cywgZ2V0UG9zdEJ5SWQsIGxpa2VQb3N0LCBzYXZlUG9zdCwgdXBkYXRlUG9zdCwgZ2V0SW5maW5pdGVQb3N0cywgc2VhcmNoUG9zdHMsIGdldFVzZXJQb3N0cywgZ2V0UG9wdWxhclBvc3RzLCBnZXRTYXZlZFBvc3RzLCB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1Bvc3RDb250cm9sbGVyJztcbmltcG9ydCB7IHZlcmlmeVVzZXIgfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvdXNlckF1dGgnO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbi8vIENyZWF0ZSBhIG5ldyBwb3N0XG5yb3V0ZXIucG9zdCgnL2FwaS9jcmVhdGVQb3N0JywgY3JlYXRlUG9zdCk7XG4vLyBVcGRhdGUgYSBwb3N0XG5yb3V0ZXIucHV0KCcvYXBpL3VwZGF0ZVBvc3QnLCB1cGRhdGVQb3N0KTtcbi8vIGRlbGV0ZSBhIHBvc3RcbnJvdXRlci5kZWxldGUoJy9hcGkvZGVsZXRlUG9zdCcsIGRlbGV0ZVBvc3QpO1xuLy8gR2V0IFJlY2VudCBQb3N0c1xucm91dGVyLmdldCgnL2FwaS9nZXRBbGxQb3N0cycsIGdldEFsbFBvc3RzKTtcbi8vIEdldCBwb3N0IGJ5IElEXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFBvc3RCeUlkJywgZ2V0UG9zdEJ5SWQpO1xuLy8gTGlrZSBhIFBvc3RcbnJvdXRlci5wb3N0KCcvYXBpL2xpa2VQb3N0JywgbGlrZVBvc3QpO1xuLy8gU2F2ZSBhIFBvc3RcbnJvdXRlci5wb3N0KCcvYXBpL3NhdmVQb3N0JywgdmVyaWZ5VXNlciwgc2F2ZVBvc3QpO1xuLy8gZ2V0IHNhdmVkIHBvc3RzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFNhdmVkUG9zdHMnLCB2ZXJpZnlVc2VyLCBnZXRTYXZlZFBvc3RzKTtcbi8vIERlbGV0ZSBhIFBvc3RcbnJvdXRlci5kZWxldGUoJy9hcGkvZGVsZXRlU2F2ZWRQb3N0JywgZGVsZXRlU2F2ZWRQb3N0KTtcbi8vIERlbGV0ZSBhIGxpa2VcbnJvdXRlci5kZWxldGUoJy9hcGkvZGVsZXRlTGlrZVBvc3QnLCBkZWxldGVMaWtlZFBvc3QpO1xuLy8gR2V0IEluZmluaXRlIFBvc3RzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldEluZmluaXRlUG9zdHMnLCBnZXRJbmZpbml0ZVBvc3RzKTtcbi8vIFNlYXJjaCBQb3N0c1xucm91dGVyLnBvc3QoJy9hcGkvc2VhcmNoUG9zdHMnLCBzZWFyY2hQb3N0cyk7XG4vLyBHZXQgdXNlcidzIHNhdmVkIHBvc3RzXG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFVzZXJQb3N0cycsIGdldFVzZXJQb3N0cyk7XG4vLyBHZXQgcG9wdWxhciBwb3N0c1xucm91dGVyLmdldCgnL2FwaS9nZXRQb3B1bGFyUG9zdHMnLCBnZXRQb3B1bGFyUG9zdHMpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnO1xuaW1wb3J0IGF1dGhSb3V0ZXMgZnJvbSAnLi9hdXRoUm91dGVzJztcbmltcG9ydCBjdXJyZW50VXNlclJvdXRlIGZyb20gJy4vY3VycmVudFVzZXJSb3V0ZSc7XG5pbXBvcnQgdXNlclJvdXRlcyBmcm9tICcuL3VzZXJSb3V0ZXMnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBwb3N0Um91dGVzIGZyb20gJy4vcG9zdFJvdXRlcyc7XG5pbXBvcnQgaW1hZ2VSb3V0ZXMgZnJvbSAnLi9pbWFnZVJvdXRlcyc7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLmdldCgnLycsIChfcmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZCh7XG4gICAgICAgIHN0YXR1czogYCR7ZW52Lk5PREVfRU5WfWAsXG4gICAgICAgIG1lc3NhZ2U6IGAke2Vudi5SRVNQT05TRV9TVEFUVVN9YCxcbiAgICAgICAgbmFtZTogYCR7ZW52LkFQUF9OQU1FfWAsXG4gICAgfSk7XG59KTtcbnJvdXRlci51c2UoYXV0aFJvdXRlcyk7XG5yb3V0ZXIudXNlKHVzZXJSb3V0ZXMpO1xucm91dGVyLnVzZShwb3N0Um91dGVzKTtcbnJvdXRlci51c2UoaW1hZ2VSb3V0ZXMpO1xucm91dGVyLnVzZShjdXJyZW50VXNlclJvdXRlKTtcbmV4cG9ydCB7IHJvdXRlciB9O1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyByZXF1aXJlQXV0aCB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG5pbXBvcnQgeyBnZXRBbGxVc2VycywgZ2V0VXNlckJ5SUQsIHVwZGF0ZVVzZXIsIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvdXNlckNvbnRyb2xsZXInO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbi8vIFVzZXIgQXV0aGVudGljYXRpb24gTWlkZGxld2FyZVxucm91dGVyLmdldCgnL2FwaS9nZXRDdXJyZW50VXNlcicsIHJlcXVpcmVBdXRoLCBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayh1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG59KTtcbi8vIEdldCBhbGwgdXNlcnNcbnJvdXRlci5nZXQoJy9hcGkvZ2V0QWxsVXNlcnMnLCBnZXRBbGxVc2Vycyk7XG4vLyBHZXQgdXNlciBieSBJRFxucm91dGVyLmdldCgnL2FwaS9nZXRVc2VyQnlJRCcsIGdldFVzZXJCeUlEKTtcbi8vIFVwZGF0ZSB1c2VyIGJ5IElEXG5yb3V0ZXIuZ2V0KCcvYXBpL3VwZGF0ZVVzZXInLCB1cGRhdGVVc2VyKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgdmFsaWRhdGVNSU1FVHlwZSB9IGZyb20gJ3ZhbGlkYXRlLWltYWdlLXR5cGUnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbi8vIERlZmluZSBjdXN0b20gZGVzdGluYXRpb24gZGlyZWN0b3J5XG5jb25zdCB1cGxvYWREaXIgPSAnL2hvbWUvYmFic2RldnN5cy9hcHBWLTEvcHVibGljL2Fzc2V0cy9pbWFnZXMnO1xuLy8gRW5zdXJlIHRoZSBkaXJlY3RvcnkgZXhpc3RzXG5pZiAoIWZzLmV4aXN0c1N5bmModXBsb2FkRGlyKSkge1xuICAgIGZzLm1rZGlyU3luYyh1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChfcmVxLCBfZmlsZSwgY2IpIHtcbiAgICAgICAgY2IobnVsbCwgdXBsb2FkRGlyKTtcbiAgICB9LFxuICAgIGZpbGVuYW1lOiBmdW5jdGlvbiAoX3JlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlOSk7XG4gICAgICAgIGNiKG51bGwsIGZpbGUuZmllbGRuYW1lICsgJy0nICsgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSk7XG4gICAgfSxcbn0pO1xuLy8gQ2hlY2sgZmlsZSB0eXBlXG5jb25zdCB2YWxpZGF0ZU1pbWVUeXBlID0gYXN5bmMgKGZpbGUsIGNiKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlTUlNRVR5cGUoZmlsZS5wYXRoLCB7XG4gICAgICAgICAgICBvcmlnaW5hbEZpbGVuYW1lOiBmaWxlLm9yaWdpbmFsbmFtZSxcbiAgICAgICAgICAgIGFsbG93TWltZVR5cGVzOiBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL3N2Zyt4bWwnXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcignSW52YWxpZCBmaWxlIHR5cGUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2IobnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2YWxpZGF0aW5nIGZpbGUgdHlwZTonLCBlcnJvcik7XG4gICAgICAgIGNiKG5ldyBFcnJvcignRXJyb3IgdmFsaWRhdGluZyBmaWxlIHR5cGUnKSk7XG4gICAgfVxufTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG4gICAgc3RvcmFnZTogc3RvcmFnZSxcbiAgICBsaW1pdHM6IHsgZmlsZVNpemU6IDEwMDAwMDAwIH0sXG4gICAgZmlsZUZpbHRlcjogZnVuY3Rpb24gKF9yZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNvbnN0IGZpbGV0eXBlcyA9IC9qcGVnfGpwZ3xwbmd8c3ZnLztcbiAgICAgICAgY29uc3QgbWltZXR5cGUgPSBmaWxldHlwZXMudGVzdChmaWxlLm1pbWV0eXBlKTtcbiAgICAgICAgY29uc3QgZXh0bmFtZSA9IGZpbGV0eXBlcy50ZXN0KHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChtaW1ldHlwZSAmJiBleHRuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRhdGVNaW1lVHlwZShmaWxlLnBhdGgsIGNiKTtcbiAgICB9LFxufSk7XG5leHBvcnQgZGVmYXVsdCB1cGxvYWQ7XG4iLCJpbXBvcnQgeyBQZXJmb3JtYW5jZU9ic2VydmVyLCBwZXJmb3JtYW5jZSB9IGZyb20gJ25vZGU6cGVyZl9ob29rcyc7XG4vLyBTZXQgdXAgdGhlIFBlcmZvcm1hbmNlT2JzZXJ2ZXJcbmNvbnN0IG9icyA9IG5ldyBQZXJmb3JtYW5jZU9ic2VydmVyKGl0ZW1zID0+IHtcbiAgICBpdGVtcy5nZXRFbnRyaWVzKCkuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke2VudHJ5Lm5hbWV9OiAke2VudHJ5LmR1cmF0aW9ufW1zYCk7XG4gICAgfSk7XG4gICAgcGVyZm9ybWFuY2UuY2xlYXJNYXJrcygpO1xufSk7XG5vYnMub2JzZXJ2ZSh7IHR5cGU6ICdtZWFzdXJlJyB9KTtcbi8vIFNpbXVsYXRlIHRoZSBsb2FkZXIgZnVuY3Rpb25cbmFzeW5jIGZ1bmN0aW9uIGxvYWRlcigpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBNYXJrIHRoZSBzdGFydCBvZiB0aGUgbG9hZGVyXG4gICAgICAgIHBlcmZvcm1hbmNlLm1hcmsoJ0xvYWRlciBTdGFydCcsIHtcbiAgICAgICAgICAgIGRldGFpbDogJ0xvYWRlciBzdGFydGVkJyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFBlcmZvcm0gVGFzayAxXG4gICAgICAgIGF3YWl0IGRvU29tZUxvbmdSdW5uaW5nUHJvY2VzcygpO1xuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKCdUYXNrIDEgRW5kJywge1xuICAgICAgICAgICAgZGV0YWlsOiAnVGFzayAxIGNvbXBsZXRlZCcsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBQZXJmb3JtIFRhc2sgMlxuICAgICAgICBhd2FpdCBkb1NvbWVMb25nUnVubmluZ1Byb2Nlc3MoKTtcbiAgICAgICAgcGVyZm9ybWFuY2UubWFyaygnVGFzayAyIEVuZCcsIHtcbiAgICAgICAgICAgIGRldGFpbDogJ1Rhc2sgMiBjb21wbGV0ZWQnLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbG9naW5NZWFzdXJlID0gcGVyZm9ybWFuY2UubWVhc3VyZSgnVGFzayAyIER1cmF0aW9uJywgJ1Rhc2sgMSBFbmQnLCAnVGFzayAyIEVuZCcpO1xuICAgICAgICBjb25zb2xlLmxvZyhsb2dpbk1lYXN1cmUuZHVyYXRpb24pO1xuICAgICAgICAvLyBFbmQgb2YgdGhlIGxvYWRlclxuICAgICAgICBwZXJmb3JtYW5jZS5tYXJrKCdMb2FkZXIgRW5kJyk7XG4gICAgICAgIHBlcmZvcm1hbmNlLm1lYXN1cmUoJ1RvdGFsIExvYWRlciBEdXJhdGlvbicsICdMb2FkZXIgU3RhcnQnLCAnTG9hZGVyIEVuZCcpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gbG9hZGVyOicsIGVycm9yKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkb1NvbWVMb25nUnVubmluZ1Byb2Nlc3MoKSB7XG4gICAgLy8gUmV0dXJuIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGEgdGltZW91dCB0byBzaW11bGF0ZSBhIGxvbmctcnVubmluZyBwcm9jZXNzXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgMTAwMCk7IC8vIDEgc2Vjb25kIHRpbWVvdXQgdG8gc2ltdWxhdGUgdGhlIHByb2Nlc3MgZHVyYXRpb25cbiAgICB9KTtcbn1cbmV4cG9ydCBkZWZhdWx0IGxvYWRlcjtcbiIsImltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi5qcyc7XG5pbXBvcnQgSW1hZ2VTdG9yYWdlcyBmcm9tICcuLi9tb2RlbHMvaW1hZ2UubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cnVuY2F0ZVRhYmxlcygpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IHNlcXVlbGl6ZS50cmFuc2FjdGlvbigpO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIFBlcmZvcm0gdGhlIHRydW5jYXRlIG9wZXJhdGlvbiB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gICAgICAgIGF3YWl0IEltYWdlU3RvcmFnZXMudHJ1bmNhdGUoeyB0cmFuc2FjdGlvbiB9KTtcbiAgICAgICAgLy8gSWYgZXZlcnl0aGluZyBpcyBzdWNjZXNzZnVsLCBjb21taXQgdGhlIHRyYW5zYWN0aW9uXG4gICAgICAgIGF3YWl0IHRyYW5zYWN0aW9uLmNvbW1pdCgpO1xuICAgICAgICBjb25zb2xlLmxvZygnVGFibGVzIGhhdmUgYmVlbiB0cnVuY2F0ZWQuLi4nKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IsIHJvbGwgYmFjayB0aGUgdHJhbnNhY3Rpb25cbiAgICAgICAgYXdhaXQgdHJhbnNhY3Rpb24ucm9sbGJhY2soKTtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdHJ1bmNhdGluZyB0YWJsZXM6JywgZXJyb3IpO1xuICAgIH1cbn1cbiIsIi8vIEltcG9ydCBuZWNlc3NhcnkgbW9kdWxlc1xuaW1wb3J0IGNyeXB0byBmcm9tICdjcnlwdG8nO1xuLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYSBoYXNoIGZyb20gYSBzdHJpbmdcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUhhc2goc3RyKSB7XG4gICAgcmV0dXJuIGNyeXB0by5jcmVhdGVIYXNoKCdtZDUnKS51cGRhdGUoc3RyKS5kaWdlc3QoJ2hleCcpO1xufVxuLy8gRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYW4gYXZhdGFyIFVSTCBiYXNlZCBvbiB1c2VyIGluaXRpYWxzXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVBdmF0YXJVcmwobmFtZSkge1xuICAgIC8vIEV4dHJhY3QgdGhlIGluaXRpYWxzIGZyb20gdGhlIHVzZXIncyBuYW1lXG4gICAgY29uc3QgaW5pdGlhbHMgPSBuYW1lXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5tYXAocGFydCA9PiBwYXJ0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKVxuICAgICAgICAuam9pbignJyk7XG4gICAgLy8gVXNlIGEgc2VydmljZSB0aGF0IGdlbmVyYXRlcyBhdmF0YXJzIHdpdGggaW5pdGlhbHNcbiAgICBjb25zdCBzaXplID0gMjAwOyAvLyBTcGVjaWZ5IHRoZSBkZXNpcmVkIHNpemUgb2YgdGhlIGF2YXRhclxuICAgIGNvbnN0IGJhY2tncm91bmRDb2xvciA9ICdyYW5kb20nOyAvLyBVc2UgYSByYW5kb20gYmFja2dyb3VuZCBjb2xvclxuICAgIGNvbnN0IHRleHRDb2xvciA9ICdmZmYnOyAvLyBVc2Ugd2hpdGUgdGV4dCBjb2xvclxuICAgIGNvbnN0IGJhc2VVcmwgPSBgaHR0cHM6Ly91aS1hdmF0YXJzLmNvbS9hcGkvP25hbWU9JHtlbmNvZGVVUklDb21wb25lbnQoaW5pdGlhbHMpfSZzaXplPSR7c2l6ZX0mYmFja2dyb3VuZD0ke2JhY2tncm91bmRDb2xvcn0mY29sb3I9JHt0ZXh0Q29sb3J9YDtcbiAgICByZXR1cm4gYmFzZVVybDtcbn1cbiIsIi8vIHNyYy9lcnJvckhhbmRsZXIudHNcbmltcG9ydCBwcm9jZXNzIGZyb20gJ25vZGU6cHJvY2Vzcyc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vY29uZmlnL2luZGV4JztcbmV4cG9ydCBjb25zdCBoYW5kbGVFcnJvciA9IChlcnIsIHJlcykgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyLm1lc3NhZ2UpO1xuICAgIC8vIEluaXRpYWxpemUgZXJyb3JzIG9iamVjdFxuICAgIGxldCBlcnJvcnMgPSB7fTtcbiAgICAvLyBIYW5kbGUgc3BlY2lmaWMgZXJyb3JzIGNhc2VzXG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdOZXcgVXNlciB2YWxpZGF0aW9uIGVycm9yJykpIHtcbiAgICAgICAgZXJyb3JzID0ge1xuICAgICAgICAgICAgbmFtZTogJ05hbWUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgdXNlcm5hbWU6ICd1c2VybmFtZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICBlbWFpbDogJ2VtYWlsIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHBhc3N3b3JkOiAncGFzc3dvcmQgaXMgcmVxdWlyZWQnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ1VzZXJSZWdpc3RyYXRpb25zLmVtYWlsJykpIHtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gJ0VtYWlsIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCc7XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnaW5jb3JyZWN0IGVtYWlsJykpIHtcbiAgICAgICAgZXJyb3JzLmVtYWlsID0gJ2VtYWlsIGlzIG5vdCByZWdpc3RlcmVkJztcbiAgICB9XG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdJbmNvcnJlY3QgcGFzc3dvcmQnKSkge1xuICAgICAgICBlcnJvcnMucGFzc3dvcmQgPSAncGFzc3dvcmQgaXMgaW5jb3JyZWN0JztcbiAgICB9XG4gICAgLy8gSGFuZGxlIFNlcXVlbGl6ZSB2YWxpZGF0aW9uIGVycm9yc1xuICAgIGlmIChlcnIubmFtZSA9PT0gJ1NlcXVlbGl6ZVZhbGlkYXRpb25FcnJvcicgJiYgZXJyLmVycm9yKSB7XG4gICAgICAgIGVycm9ycyA9IGVyci5lcnJvci5yZWR1Y2UoKGFjYywgZXJyb3IpID0+IHtcbiAgICAgICAgICAgIGFjY1tlcnJvci5wYXRoXSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LCB7fSk7XG4gICAgfVxuICAgIHJlcy5zdGF0dXMoZXJyLmNvZGUgfHwgNTAwKS5qc29uKHsgZXJyb3JzIH0pO1xufTtcbi8vIEZ1bmN0aW9uIHRvIGxvZyBlcnJvcnMgdG8gYSBmaWxlXG5mdW5jdGlvbiBsb2dFcnJvclRvRmlsZShlcnIpIHtcbiAgICBjb25zdCBsb2cgPSBgJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9IC0gJHtlcnIubWVzc2FnZX1cXG4ke2Vyci5zdGFja31cXG5gO1xuICAgIGZzLmFwcGVuZEZpbGVTeW5jKCdlcnJvci5sb2cnLCBsb2cpO1xufVxuY29uc3QgdW5oYW5kbGVkUmVqZWN0aW9ucyA9IG5ldyBNYXAoKTtcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgUmVqZWN0aW9uIGF0OicsIHByb21pc2UsICdyZWFzb246JywgcmVhc29uKTtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLnNldChwcm9taXNlLCByZWFzb24pO1xufSk7XG5wcm9jZXNzLm9uKCdyZWplY3Rpb25IYW5kbGVkJywgcHJvbWlzZSA9PiB7XG4gICAgdW5oYW5kbGVkUmVqZWN0aW9ucy5kZWxldGUocHJvbWlzZSk7XG59KTtcbi8vIEdsb2JhbCBlcnJvciBoYW5kbGluZyBtaWRkbGV3YXJlIGZvciBFeHByZXNzXG5leHBvcnQgZnVuY3Rpb24gZ2xvYmFsRXJyb3JIYW5kbGVyKGVyciwgX3JlcSwgcmVzLCBuZXh0KSB7XG4gICAgbG9nRXJyb3JUb0ZpbGUoZXJyKTtcbiAgICAvLyBTZW5kIGdlbmVyaWMgZXJyb3IgcmVzcG9uc2VcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJyxcbiAgICB9KTtcbiAgICBuZXh0KGVycik7XG59XG4vLyBDYXRjaCB1bmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb25zXG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAocmVhc29uLCBwcm9taXNlKSA9PiB7XG4gICAgbG9nRXJyb3JUb0ZpbGUocmVhc29uKTtcbiAgICBjb25zb2xlLmVycm9yKCdVbmhhbmRsZWQgUmVqZWN0aW9uIGF0OicsIHByb21pc2UsICdyZWFzb246JywgcmVhc29uKTtcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG59KTtcbi8vIENhdGNoIHVuY2F1Z2h0IGV4Y2VwdGlvbnNcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4ge1xuICAgIGxvZ0Vycm9yVG9GaWxlKGVycik7XG4gICAgY29uc29sZS5lcnJvcignVW5jYXVnaHQgRXhjZXB0aW9uOicsIGVycik7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xufSk7XG5wcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHtcbiAgICBmcy53cml0ZVN5bmMocHJvY2Vzcy5zdGRlcnIuZmQsIGBDYXVnaHQgZXhjZXB0aW9uOiAke2Vycn1cXG5gICsgYEV4Y2VwdGlvbiBPcmlnaW46ICR7b3JpZ2lufVxcbmApO1xufSk7XG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnVGhpcyB3aWxsIHN0aWxsIHJ1bi4nKTtcbn0sIGVudi5FUlJPUl9USU1FT1VUKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBnbG9iYWxFcnJvckhhbmRsZXIsXG4gICAgaGFuZGxlRXJyb3IsXG59O1xuIl0sIm5hbWVzIjpbImNvcnNTY2hlbWFFTlYiLCJsb2FkIiwiQ09SU19PUklHSU4iLCJTdHJpbmciLCJDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMiLCJOdW1iZXIiLCJDT1JTX0NSRURFTlRJQUxTIiwiQm9vbGVhbiIsIkNPUlNfTUVUSE9EUyIsIm9rIiwiY29yc0VOViIsImNvck9wdGlvbnMiLCJvcmlnaW4iLCJtZXRob2RzIiwiY3JlZGVudGlhbHMiLCJvcHRpb25zU3VjY2Vzc1N0YXR1cyIsImRhdGFTY2hlbWFFTlYiLCJEQl9IT1NUIiwiREJfUE9SVCIsIkRCX1VTRVIiLCJEQl9QQVNTIiwiREJfTkFNRSIsIkRCX1NPQ0tFVF9QQVRIIiwiREJfU09DS0VUX1RJTUVPVVQiLCJEQl9DT01QUkVTUyIsIkRCX0RFQlVHIiwiREJfUEVSTUlUX0xPQ0FMX0lORklMRSIsIkRCX1RSQUNFIiwiREJfQ0hFQ0tfRFVQTElDQVRFIiwiREJfU1NMIiwiREJfU1NMX0NBIiwiREJfU1NMX0tFWSIsIkRCX1NTTF9DRVJUIiwiREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTIiwiREJfQ09OTkVDVElPTl9USU1FT1VUIiwiZGF0YWJhc2VFTlYiLCJqd3RTY2hlbWFFTlYiLCJKV1RfU0VDUkVUIiwiSldUX0VYUElSRVNfSU4iLCJKV1RfUkVGUkVTSF9TRUNSRVQiLCJKV1RfUkVGUkVTSF9FWFBJUkVTX0lOIiwiSldUX1JFRlJFU0hfTUFYX0FHRSIsIkpXVF9BTEdPUklUSE0iLCJKV1RfSVNTVUVSIiwiSldUX01BWF9BR0UiLCJKV1RfSFRUUF9PTkxZIiwiSldUX1NBTUVfU0lURSIsIkpXVF9DT09LSUVfTkFNRSIsIkpXVF9TRUNVUkUiLCJqd3RFTlYiLCJjcmVhdGVQb3N0IiwiYXN5bmMiLCJyZXEiLCJyZXMiLCJjYXB0aW9uIiwibG9jYXRpb24iLCJ0YWdzIiwiYm9keSIsInRva2VuIiwiY29va2llcyIsImp3dCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyIiwiZGVjb2RlZFRva2VuIiwiY29uc29sZSIsImxvZyIsInVzZXJfaWQiLCJpZCIsInVzZXIiLCJmaW5kQnlQayIsImltYWdlUmVjb3JkIiwiZmluZEltYWdlQnlSZWZlcmVuY2VLZXkiLCJuZXdQb3N0IiwiY3JlYXRlIiwiaW1hZ2VVUkwiLCJpbWFnZVVybCIsImNyZWF0ZWRfQXQiLCJEYXRlIiwiY3JlYXRvcl9JZCIsImVycm9yIiwiZGVsZXRlRmlsZSIsIl9yZXEiLCJpbWFnZSIsImZpbmRPbmUiLCJ3aGVyZSIsImRlc3Ryb3kiLCJ1cGRhdGVQb3N0IiwibmV3SW1hZ2VVcmwiLCJwb3N0X2lkIiwicGFyc2VJbnQiLCJxdWVyeSIsInBvc3QiLCJwcmV2aWV3SW1hZ2VVcmwiLCJ1cGRhdGVkUG9zdCIsInVwZGF0ZSIsImdldEFsbFBvc3RzIiwicG9zdHMiLCJmaW5kQWxsIiwibGlrZVBvc3QiLCJpc05hTiIsIm5ld0xpa2UiLCJjcmVhdGVMaWtlIiwibGlrZXNfQ291bnQiLCJsaWtlc0NvdW50IiwibGlrZSIsImdldFBvc3RCeUlkIiwiZGVsZXRlTGlrZWRQb3N0IiwiZXhpc3RpbmdMaWtlIiwiY3VycmVudExpa2VzIiwic2F2ZSIsInNhdmVQb3N0IiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJzcGxpdCIsIm5ld1NhdmUiLCJjcmVhdGVTYXZlIiwic2F2ZURhdGUiLCJkZWxldGVTYXZlZFBvc3QiLCJleGlzdGluZ1NhdmUiLCJnZXRTYXZlZFBvc3RzIiwic2F2ZWRQb3N0cyIsImRlbGV0ZVBvc3QiLCJnZXRJbmZpbml0ZVBvc3RzIiwicGFnZSIsImxpbWl0Iiwib2Zmc2V0IiwiZmluZEFuZENvdW50QWxsIiwib3JkZXIiLCJ0b3RhbFBhZ2VzIiwiTWF0aCIsImNlaWwiLCJjb3VudCIsInRvdGFsQ291bnQiLCJzZWFyY2hQb3N0cyIsInNlYXJjaFZhbHVlIiwiT3AiLCJvciIsImdldFVzZXJQb3N0cyIsImdldFBvcHVsYXJQb3N0cyIsInBvcHVsYXJQb3N0cyIsInVzZXJSZWdpc3RlciIsIm5hbWUiLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJFcnJvciIsIm5ld1VzZXIiLCJoYXNoZWRwYXNzd29yZCIsImNyZWF0ZWRBdCIsImNvb2tpZSIsImh0dHBPbmx5IiwibWF4QWdlIiwic2VjdXJlIiwic2FtZVNpdGUiLCJ1c2VyTG9naW4iLCJsb2dpblVzZXIiLCJyZWZyZXNoVG9rZW4iLCJzZXRIZWFkZXIiLCJsb2NhbHMiLCJ1c2VyTG9nb3V0IiwiYWNjZXNzVG9rZW4iLCJ1c2VySWQiLCJuZXdUb2tlbiIsImV4cGlyZXNJbiIsImFsZ29yaXRobSIsImlzc3VlciIsInJlcXVpcmVBdXRoIiwibmV4dCIsInByb2Nlc3MiLCJlbnYiLCJnZXRBbGxVc2VycyIsInVzZXJzIiwiZ2V0VXNlckJ5SUQiLCJwYXJhbXMiLCJyZXF1ZXN0ZWRVc2VyIiwidXBkYXRlVXNlciIsImF0dHJpYnV0ZXMiLCJhZmZlY3RlZENvdW50IiwidXBkYXRlZFVzZXJzIiwibGltaXRlciIsIndpbmRvd01zIiwiUkFSRV9MSU1JVF9XSU5ET1dfTVMiLCJtYXgiLCJNQVgiLCJSQVJFX0xJTUlUX01FU1NBR0UiLCJzdGF0dXNDb2RlIiwiUkFSRV9MSU1JVF9DT0RFIiwiaGFuZGxlciIsImtleUdlbmVyYXRvciIsImlwIiwicmVwbGFjZSIsInNlbmQiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwiand0R2VuZXJhdG9yIiwicGF5bG9hZCIsImp3dFJlZnJlc2giLCJ2ZXJpZnlVc2VyIiwid2FpdEZvckRCIiwic2VxdWVsaXplIiwiYXR0ZW1wdHMiLCJhdXRoZW50aWNhdGUiLCJzeW5jIiwiZm9yY2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJkYkNvbmZpZyIsIkRpYWxlY3QiLCJob3N0IiwiZGF0YWJhc2UiLCJzb2NrZXRQYXRoIiwic29ja2V0VGltZW91dCIsImNvbXByZXNzIiwiZGVidWciLCJwZXJtaXRMb2NhbEluZmlsZSIsInRyYWNlIiwiY2hlY2tEdXBsaWNhdGUiLCJjb25uZWN0QXR0cmlidXRlcyIsIkpTT04iLCJwYXJzZSIsImNvbm5lY3Rpb25UaW1lb3V0IiwicG9ydCIsInNzbCIsImRpYWxlY3RPcHRpb25zIiwiY2EiLCJ0b1N0cmluZyIsImtleSIsImNlcnQiLCJjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSIsIlNlcXVlbGl6ZSIsImRpYWxlY3QiLCJfX2Rpcm5hbWUiLCJkaXJuYW1lIiwiZmlsZVVSTFRvUGF0aCIsIk1hcmlhRGJEaWFsZWN0IiwibW9kZWxzIiwiaW1wb3J0TW9kZWxzIiwiYXBwIiwiZ2V0Iiwic2VuZFN0YXR1cyIsImVuZCIsInVzZSIsImhlYWRlciIsIm1ldGhvZCIsImV4dGVuZGVkIiwiVHJ1c3RfUHJveHkiLCJUUlVTVF9QUk9YWSIsIm51bWJlck9mUHJveGllcyIsIk5VTUJFUl9PRl9QUk9YSUVTIiwic2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY29udGVudFNlY3VyaXR5UG9saWN5IiwiTU9SR0FOIiwiSW1hZ2VTdG9yYWdlcyIsIk1vZGVsIiwiZmluZEltYWdlQnlJZCIsInRoaXMiLCJ2YWx1ZSIsImluaXQiLCJ0eXBlIiwiRGF0YVR5cGVzIiwiSU5URUdFUiIsInByaW1hcnlLZXkiLCJhdXRvSW5jcmVtZW50IiwiYWxsb3dOdWxsIiwiU1RSSU5HIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwiREFURSIsImRlZmF1bHRWYWx1ZSIsIk5PVyIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJhZnRlckNyZWF0ZSIsImhhc01hbnkiLCJmb3JlaWduS2V5Iiwib25EZWxldGUiLCJvblVwZGF0ZSIsImJlbG9uZ3NUbyIsInRoZW4iLCJjYXRjaCIsIkxpa2VzIiwiZmluZExpa2VCeUlkIiwiZmluZExpa2VCeVJlZmVyZW5jZUtleSIsImZpbmRBbGxMaWtlc0J5UmVmZXJlbmNlS2V5IiwiZGVsZXRlTGlrZUJ5UmVmZXJlbmNlS2V5IiwiZnJlZXplVGFibGVOYW1lIiwiUG9zdHMiLCJ1cGRhdGVkUG9zdHMiLCJyZXR1cm5pbmciLCJnZXRQb3N0QnlJRCIsImdldFNhdmVkUG9zdCIsIlNhdmVzIiwiY2hlY2tJZlNhdmVkIiwiaW5jbHVkZSIsImFzIiwidGFibGVOYW1lIiwidGFyZ2V0S2V5IiwiVXNlcnMiLCJmaXJzdE5hbWUiLCJ2YWxpZGF0ZSIsIm5vdEVtcHR5IiwibGFzdE5hbWUiLCJ1bmlxdWUiLCJpcyIsImxlbiIsImlzRW1haWwiLCJiaW8iLCJqb2luIiwiYXZhdGFyVXJsIiwicHJvZmlsZVBpYyIsImxhYmVsIiwibGFzdF9hY3Rpdml0eSIsInVwZGF0ZWRfYXQiLCJVc2VyUmVnaXN0cmF0aW9uSUQiLCJVVUlEIiwidXBkYXRlZEF0IiwiVXNlclJlZ2lzdHJhdGlvbiIsImxvZ291dFVzZXIiLCJyZXNldFBhc3N3b3JkIiwiYmVmb3JlQ3JlYXRlIiwic2FsdCIsImhhc2hlZFBhc3N3b3JkIiwic3BhY2VJbmRleCIsImxhc3RJbmRleE9mIiwiZmlyc3RfTmFtZSIsInNsaWNlIiwiYXZhdGFyIiwidXBzZXJ0Iiwicm91dGVyIiwic2luZ2xlIiwiZmlsZSIsInJlbGF0aXZlUGF0aCIsImZpbGVuYW1lIiwicG9zdElkIiwicHV0IiwiZGVsZXRlIiwiTk9ERV9FTlYiLCJSRVNQT05TRV9TVEFUVVMiLCJBUFBfTkFNRSIsInVwbG9hZERpciIsInJlY3Vyc2l2ZSIsInN0b3JhZ2UiLCJkZXN0aW5hdGlvbiIsIl9maWxlIiwiY2IiLCJ1bmlxdWVTdWZmaXgiLCJub3ciLCJyb3VuZCIsInJhbmRvbSIsImZpZWxkbmFtZSIsIm9yaWdpbmFsbmFtZSIsImxpbWl0cyIsImZpbGVTaXplIiwiZmlsZUZpbHRlciIsImZpbGV0eXBlcyIsIm1pbWV0eXBlIiwidGVzdCIsImV4dG5hbWUiLCJ0b0xvd2VyQ2FzZSIsInZhbGlkYXRlTUlNRVR5cGUiLCJwYXRoIiwib3JpZ2luYWxGaWxlbmFtZSIsImFsbG93TWltZVR5cGVzIiwidmFsaWRhdGVNaW1lVHlwZSIsImRvU29tZUxvbmdSdW5uaW5nUHJvY2VzcyIsIlBlcmZvcm1hbmNlT2JzZXJ2ZXIiLCJpdGVtcyIsImdldEVudHJpZXMiLCJmb3JFYWNoIiwiZW50cnkiLCJkdXJhdGlvbiIsInBlcmZvcm1hbmNlIiwiY2xlYXJNYXJrcyIsIm9ic2VydmUiLCJtYXJrIiwiZGV0YWlsIiwibG9naW5NZWFzdXJlIiwibWVhc3VyZSIsInRydW5jYXRlVGFibGVzIiwidHJhbnNhY3Rpb24iLCJ0cnVuY2F0ZSIsImNvbW1pdCIsInJvbGxiYWNrIiwiZ2VuZXJhdGVBdmF0YXJVcmwiLCJpbml0aWFscyIsIm1hcCIsInBhcnQiLCJjaGFyQXQiLCJ0b1VwcGVyQ2FzZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhhbmRsZUVycm9yIiwiZXJyb3JzIiwiaW5jbHVkZXMiLCJyZWR1Y2UiLCJhY2MiLCJjb2RlIiwibG9nRXJyb3JUb0ZpbGUiLCJ0b0lTT1N0cmluZyIsInN0YWNrIiwidW5oYW5kbGVkUmVqZWN0aW9ucyIsIk1hcCIsImdsb2JhbEVycm9ySGFuZGxlciIsInJlYXNvbiIsInByb21pc2UiLCJmZCIsIkVSUk9SX1RJTUVPVVQiXSwic291cmNlUm9vdCI6IiJ9