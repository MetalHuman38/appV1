"use strict";exports.id=545,exports.ids=[545],exports.modules={1976:(e,t,s)=>{s.d(t,{v:()=>d});var r=s(2613);const a=(0,s(7546).load)({CORS_ORIGIN:String,CORS_OPTIONS_SUCCESS_STATUS:Number,CORS_CREDENTIALS:Boolean,CORS_METHODS:String}),{CORS_ORIGIN:n,CORS_OPTIONS_SUCCESS_STATUS:o,CORS_CREDENTIALS:i,CORS_METHODS:c}=a;r.strict.ok(n,"CORS origin should be present"),r.strict.ok(o,"CORS options success status should be present"),r.strict.ok(i,"CORS credentials should be present"),r.strict.ok(c,"CORS methods should be present");const l={CORS_ORIGIN:n,CORS_OPTIONS_SUCCESS_STATUS:o,CORS_CREDENTIALS:i,CORS_METHODS:c};s(818).config();const d={origin:l.CORS_ORIGIN,methods:l.CORS_METHODS,credentials:l.CORS_CREDENTIALS,optionsSuccessStatus:l.CORS_OPTIONS_SUCCESS_STATUS}},3085:(e,t,s)=>{s.d(t,{L:()=>R});var r=s(2613);const a=(0,s(7546).load)({DB_HOST:String,DB_PORT:Number,DB_USER:String,DB_PASS:String,DB_NAME:String,DB_SOCKET_PATH:String,DB_SOCKET_TIMEOUT:Number,DB_COMPRESS:Boolean,DB_DEBUG:Boolean,DB_PERMIT_LOCAL_INFILE:Boolean,DB_TRACE:Boolean,DB_CHECK_DUPLICATE:Boolean,DB_SSL:Boolean,DB_SSL_CA:String,DB_SSL_KEY:String,DB_SSL_CERT:String,DB_CONNECTION_ATTRIBUTES:String,DB_CONNECTION_TIMEOUT:Number}),{DB_HOST:n,DB_PORT:o,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:d,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:T,DB_DEBUG:E,DB_PERMIT_LOCAL_INFILE:_,DB_TRACE:y,DB_CHECK_DUPLICATE:S,DB_SSL:p,DB_SSL_CA:g,DB_SSL_KEY:h,DB_SSL_CERT:m,DB_CONNECTION_ATTRIBUTES:A,DB_CONNECTION_TIMEOUT:w}=a;r.strict.ok(n,"Database host should be present"),r.strict.ok(o,"Database port should be present"),r.strict.ok(i,"Database user should be present"),r.strict.ok(c,"Database password should be present"),r.strict.ok(l,"Database name should be present");const R={DB_HOST:n,DB_PORT:o,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:d,DB_SOCKET_TIMEOUT:u,DB_COMPRESS:T,DB_DEBUG:E,DB_PERMIT_LOCAL_INFILE:_,DB_TRACE:y,DB_CHECK_DUPLICATE:S,DB_CONNECTION_ATTRIBUTES:A,DB_CONNECTION_TIMEOUT:w,DB_SSL:p,DB_SSL_CA:g,DB_SSL_KEY:h,DB_SSL_CERT:m}},3101:(e,t,s)=>{s.d(t,{n:()=>p});var r=s(2613);const a=(0,s(7546).load)({JWT_SECRET:String,JWT_EXPIRES_IN:String,JWT_REFRESH_SECRET:String,JWT_REFRESH_EXPIRES_IN:String,JWT_REFRESH_MAX_AGE:Number,JWT_ALGORITHM:String,JWT_ISSUER:String,JWT_MAX_AGE:Number,JWT_HTTP_ONLY:Boolean,JWT_SAME_SITE:String,JWT_COOKIE_NAME:String,JWT_SECURE:Boolean}),{JWT_SECRET:n,JWT_EXPIRES_IN:o,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:d,JWT_ISSUER:u,JWT_MAX_AGE:T,JWT_HTTP_ONLY:E,JWT_SAME_SITE:_,JWT_COOKIE_NAME:y,JWT_SECURE:S}=a;r.strict.ok(n,"JWT secret should be present"),r.strict.ok(o,"JWT expires in should be present"),r.strict.ok(i,"JWT refresh secret should be present"),r.strict.ok(c,"JWT refresh expires in should be present"),r.strict.ok(d,"JWT algorithm should be present"),r.strict.ok(u,"JWT issuer should be present"),r.strict.ok(T,"JWT max age should be present"),r.strict.ok(E,"JWT http only should be present"),r.strict.ok(_,"JWT same site should be present"),r.strict.ok(y,"JWT cookie name should be present"),r.strict.ok(S,"JWT secure should be present"),r.strict.ok(l,"JWT refresh max age should be present");const p={JWT_SECRET:n,JWT_EXPIRES_IN:o,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:d,JWT_ISSUER:u,JWT_MAX_AGE:T,JWT_HTTP_ONLY:E,JWT_SAME_SITE:_,JWT_COOKIE_NAME:y,JWT_SECURE:S}},6184:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{p:()=>E});var a=s(818),n=s.n(a),o=s(829),i=s.n(o),c=s(5595),l=s(6153),d=s(3101),u=s(452),T=e([c,l,u]);[c,l,u]=T.then?(await T)():T,n().config();const E=async(e,t)=>{try{const{caption:s,location:r,tags:a}=e.body,n=e.cookies.jwt;if(!n)return void t.status(401).json({message:"Unauthorized"});i().verify(n,d.n.JWT_SECRET,(async(e,n)=>{if(e)return console.log(e.message),void t.status(401).json({message:"Unauthorized"});const o=n.id,i=await l.A.findByPk(o);if(!i)return void t.status(404).json({message:"User not found"});const d=await c.A.findImageByReferenceKey("user_id",o);if(!d)return t.status(404).json({message:"Image not found"});const T=await u.A.create({caption:s,imageURL:d.imageUrl,location:r,tags:a||"",created_At:new Date,creator_Id:i.id});if(T)return t.status(201).json({message:"Post created successfully",newPost:T}),T;t.status(400).json({message:"Error creating new post."})}))}catch(e){console.error("Error creating post:",e),t.status(500).json({message:"Internal server error"})}};r()}catch(e){r(e)}}))},9024:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{Be:()=>S,TU:()=>E,Ub:()=>y,oC:()=>p,pH:()=>_});var a=s(818),n=s.n(a),o=s(829),i=s.n(o),c=s(3101),l=s(16),d=s(80),u=s(2300),T=e([d]);d=(T.then?(await T)():T)[0],n().config();const E=async(e,t)=>{try{const{name:s,username:r,email:a,password:n}=e.body;if(!(s&&r&&a&&n))return(0,u.H4)(new Error("New User validation error"),t);if(await d.A.findOne({where:{email:a}}))return(0,u.H4)(new Error("UserRegistrations.email: User already exists "),t);const o=await d.A.create({newUser:s,username:r,email:a,hashedpassword:n,createdAt:new Date}),i=(0,l.Jj)({id:o.id});t.cookie("jwt",i,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),t.status(201).json({id:o.id,name:o.newUser,username:o.username,email:o.email,token:i})}catch(e){(0,u.H4)(e,t)}},_=async(e,t)=>{try{const{email:s,password:r}=e.body;if(!s||!r)return(0,u.H4)(new Error("Login Validation Error!"),t);const a=await d.A.loginUser(s,r);if(!a)throw new Error("User not found");const n=(0,l.Jj)({id:a.id}),o=(0,l.v3)({id:a.id});console.log("User logged in:",o),t.cookie("jwt",n,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),t.cookie("refreshToken",o,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),t.setHeader("Authorization",`Bearer ${n}`),t.locals.user=a,t.json({token:n,refreshToken:o,user:a.id})}catch(e){(0,u.H4)(e,t)}},y=async(e,t)=>{try{const s=e.cookies.jwt,r=e.cookies.refreshToken;if(!s&&!r)return void t.status(400).json({message:"No tokens provided!"});t.cookie("jwt","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),t.cookie("refreshToken","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),t.status(200).json({message:"User logged out"})}catch(e){(0,u.H4)(e,t)}},S=async(e,t)=>{const s=e.cookies.refreshToken;s?i().verify(s,c.n.JWT_REFRESH_SECRET,(async(e,s)=>{if(e)return console.log("JWT verification error",e.message),void t.status(401).json({message:"Unauthorized Invalid Token"});try{const e=s.id;if(console.log("User ID:",e),!e)return void t.status(400).json({message:"User ID is required"});const r=await d.A.findByPk(e);if(!r)return t.status(404).json({message:"User not found"});const a=i().sign({id:r.id},c.n.JWT_SECRET,{expiresIn:c.n.JWT_EXPIRES_IN,algorithm:c.n.JWT_ALGORITHM,issuer:c.n.JWT_ISSUER});t.cookie("jwt",a,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),t.status(200).json({token:a,user:r.id})}catch(e){console.error("Error getting current user:",e),t.status(500).json({message:"Error getting current user"})}})):t.status(401).json({message:"Unauthorized"})},p=(e,t,s)=>{const r=e.cookies.jwt;r?(i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log(e.message),t.status(401).json({message:"Unauthorized"});const a=r.id,n=await d.A.findByPk(a);return n?(t.locals.user=n,s()):t.status(404).json({message:"User not found"})})),s()):t.status(401).json({message:"Unauthorized"})};r()}catch(e){r(e)}}))},2993:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>l});var a=s(5595),n=s(829),o=s.n(n),i=(s(4469),s(6153)),c=e([a,i]);[a,i]=c.then?(await c)():c;const l=async(e,t)=>{try{const s=e.cookies.jwt;if(!s)return void t.status(401).json({message:"Unauthorized"});o().verify(s,process.env.JWT_SECRET,(async(e,s)=>{if(e)return void t.status(401).json({message:"Unauthorized"});const r=s.id;if(!r)return void t.status(401).json({message:"Unauthorized"});if(!await i.A.findByPk(r))return void t.status(401).json({message:"Unauthorized"});const n=await a.A.findImageByReferenceKey("user_id",r);n?t.status(200).json({imageUrl:n.imageUrl}):t.status(200).json({message:"No image found"})}))}catch(e){throw console.error("Error getting image preview:",e),new Error("Failed to get image preview")}};r()}catch(e){r(e)}}))},2785:(e,t,s)=>{s.d(t,{TA:()=>o});var r=s(1763),a=s.n(r),n=s(9469);const o=a()({windowMs:n._.RARE_LIMIT_WINDOW_MS,max:n._.MAX,message:n._.RARE_LIMIT_MESSAGE,statusCode:n._.RARE_LIMIT_CODE,handler:(e,t)=>{t.status(n._.RARE_LIMIT_CODE).json({message:n._.RARE_LIMIT_MESSAGE})},keyGenerator:async(e,t)=>e.ip?e.ip.replace(/:\d+[^:]*$/,""):(t.status(500).send({message:"Warning: request.ip is missing!"}),e.socket.remoteAddress)})},16:(e,t,s)=>{s.d(t,{Jj:()=>c,gH:()=>l,v3:()=>d});var r=s(818),a=s.n(r),n=s(829),o=s.n(n),i=s(3101);a().config();const c=e=>{try{return o().sign(e,i.n.JWT_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}},l=e=>{try{return o().verify(e,i.n.JWT_SECRET)}catch(e){throw new Error("Error verifying JWT")}},d=e=>{try{return o().sign(e,i.n.JWT_REFRESH_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_REFRESH_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}}},2051:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{FH:()=>E,HW:()=>T});var a=s(818),n=s.n(a),o=s(829),i=s.n(o),c=s(3101),l=s(6153),d=s(16),u=e([l]);l=(u.then?(await u)():u)[0],n().config();const T=async(e,t)=>{const s=e.cookies.token;if(!s)return t.status(401).json({message:"Unauthorized"});try{const e=(0,d.gH)(s).id;if(!e)return void t.status(400).json({message:"User ID is required"});const r=await l.A.findByPk(e);if(!r)return t.status(404).json({message:"User not found"});t.status(200).json(r)}catch(e){console.error("Error getting current user:",e),t.status(500).json({message:"Error getting current user"})}return s},E=async(e,t,s)=>{try{const r=e.cookies.jwt;if(!r)return t.locals.user=null,s();i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),t.locals.user=null,s();try{const e=await l.A.findByPk(r.id);console.log("decodedToken:",r),t.locals.user=e||null}catch(e){console.error("Error retrieving user:",e),t.locals.user=null}s()}))}catch(e){console.error("Error verifying user:",e),t.locals.user=null,s()}};r()}catch(e){r(e)}}))},1125:(e,t,s)=>{s.d(t,{r:()=>a});var r=s(128);async function a(){const e=(0,r.J)();let t=0;for(;t<10;)try{return await e.authenticate(),console.log("Database connection established, Starting Server....."),await e.sync({force:!0}),console.log("Drop and re-sync db."),e}catch(e){console.error("Database connection failed:",e),t++,await new Promise((e=>setTimeout(e,1e3)))}throw console.error("Max attempts reached, database connection failed"),new Error("Database connection failed")}},128:(e,t,s)=>{s.d(t,{J:()=>c});var r=s(9031),a=s(3085),n=s(3024),o=s.n(n);const i={Dialect:"mariadb",host:a.L.DB_HOST||"localhost",username:a.L.DB_USER||"metalbrain",password:a.L.DB_PASS||"password",database:a.L.DB_NAME||"FindSomeOne",socketPath:a.L.DB_SOCKET_PATH||"/var/run/mysqld/mysqld.sock",socketTimeout:a.L.DB_SOCKET_TIMEOUT||1e3,compress:a.L.DB_COMPRESS||!1,debug:a.L.DB_DEBUG||!1,permitLocalInfile:a.L.DB_PERMIT_LOCAL_INFILE||!1,trace:a.L.DB_TRACE||!0,checkDuplicate:a.L.DB_CHECK_DUPLICATE||!1,connectAttributes:JSON.parse(a.L.DB_CONNECTION_ATTRIBUTES||"{}"),connectionTimeout:a.L.DB_CONNECTION_TIMEOUT||1e3,port:a.L.DB_PORT||3306,ssl:a.L.DB_SSL||!1,dialectOptions:{ssl:{ca:a.L.DB_SSL_CA?o().readFileSync(a.L.DB_SSL_CA).toString():"",key:a.L.DB_SSL_KEY?o().readFileSync(a.L.DB_SSL_KEY).toString():"",cert:a.L.DB_SSL_CERT?o().readFileSync(a.L.DB_SSL_CERT).toString():""}}};function c(){return new r.Sequelize(i.database,i.username,i.password,{host:i.host,dialect:i.Dialect,port:i.port,ssl:i.ssl,dialectOptions:i.dialectOptions})}},3121:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>l});var a=s(423),n=s(5520),o=s(3136),i=s(6760),c=s(3085);const e=(0,i.dirname)((0,o.fileURLToPath)("file:///home/babsdevsys/appV-1/src/server/loaders/dataLoader/sequlize.ts")),l=new a.Sequelize({dialect:n.MariaDbDialect,host:c.L.DB_HOST,user:c.L.DB_USER,password:c.L.DB_PASS,database:c.L.DB_NAME,port:c.L.DB_PORT,ssl:c.L.DB_SSL,models:await(0,a.importModels)(e+"/src/server/models/**/*.model.{ts,js}")});r()}catch(e){r(e)}}),1)},6633:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>h});var a=s(7252),n=s.n(a),o=s(6898),i=s.n(o),c=s(3268),l=s.n(c),d=s(2525),u=s.n(d),T=s(2096),E=s.n(T),_=s(9469),y=s(4388),S=s(2785),p=s(2300),g=e([y]);async function h({app:e}){e.get("/status",((e,t)=>t.sendStatus(200).end())),e.use(((e,t,s)=>(t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?t.sendStatus(204):s()))),e.use(l().urlencoded({extended:!0})),e.use(n().json()),e.use(n().urlencoded({extended:!0})),e.use(i()()),e.use(l().json());const t=_._.TRUST_PROXY||"false",s=_._.NUMBER_OF_PROXIES||1;return t?e.set("trust proxy",!0):"false"===t?e.set("trust proxy",!1):(e.set("trust proxy",t),e.set("trust proxy",s)),e.set("trust proxy",s),e.get("/ip",((e,t)=>t.send(e.ip))),e.use(u()({contentSecurityPolicy:!1})),e.use(E()(_._.MORGAN)),e.use(S.TA),e.use(y.Q),e.use(p.sh),e}y=(g.then?(await g)():g)[0],r()}catch(m){r(m)}}))},1545:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.r(t),s.d(t,{default:()=>l});var a=s(6633),n=s(3121),o=s(1125),i=s(2541),c=e([a,n,i]);async function l({app:e}){await(0,i.K)(),await(0,o.r)(),n.A,await(0,a.A)({app:e}),console.log("Express Server Intialized!")}[a,n,i]=c.then?(await c)():c,r()}catch(d){r(d)}}))},5595:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>u});var a=s(9031),n=s(128),o=s(6153),i=s(452),c=e([o,i]);[o,i]=c.then?(await c)():c;const l=(0,n.J)();class d extends a.Model{static async findImageById(e){return await this.findByPk(e)}static async findImageByReferenceKey(e,t){try{return await this.findOne({where:{[e]:t},order:[["created_At","ASC"]]})}catch(s){throw console.error(`Error finding image by reference key: ${e}, value: ${t}`,s),s}}}d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"}},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:l,modelName:"ImageStorages",timestamps:!1}),d.init({id:{type:a.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},imageUrl:{type:a.DataTypes.STRING,allowNull:!0},user_id:{type:a.DataTypes.INTEGER,references:{model:"Users",key:"id"}},post_id:{type:a.DataTypes.INTEGER,references:{model:"Posts",key:"id"},allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:l,modelName:"ImageStorages",timestamps:!1}),d.afterCreate((async e=>{const t=await o.A.findByPk(e.user_id);t&&(t.imageURL=e.imageUrl,await t.save())})),o.A.hasMany(d,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),i.A.hasMany(d,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(o.A,{foreignKey:"user_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),d.belongsTo(i.A,{foreignKey:"post_id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await l.sync({alter:!1}).then((()=>{console.log("New Image synced successfully")})).catch((e=>{console.error("Error syncing new image:",e)}));const u=d;r()}catch(e){r(e)}}),1)},452:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>d});var a=s(9031),n=s(128),o=s(6153),i=e([o]);o=(i.then?(await i)():i)[0];const c=(0,n.J)();class l extends a.Model{static async createPost(e){return await this.create(e)}static async updatePost(e,t){const[s,r]=await this.update(t,{where:{id:e},returning:!0});return[s,r]}static async getPostByID(e){return await this.findOne({where:{id:e}})}}l.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},caption:{type:a.DataTypes.STRING,allowNull:!1},imageURL:{type:a.DataTypes.STRING,allowNull:!0},location:{type:a.DataTypes.STRING,allowNull:!0},tags:{type:a.DataTypes.STRING,allowNull:!1},likes_Count:{type:a.DataTypes.INTEGER,allowNull:!0},created_At:{type:a.DataTypes.DATE,allowNull:!0},creator_Id:{type:a.DataTypes.INTEGER,allowNull:!1,references:{model:"Users",key:"id"}}},{sequelize:c,modelName:"Posts",timestamps:!1}),l.createPost=async function(e){try{return await this.create(e)}catch(e){throw console.error("Error creating new post:",e),e}},l.updatePost=async function(e,t){try{const[s,r]=await this.update(t,{where:{id:e},returning:!0});return[s,r]}catch(e){throw console.error("Error updating post:",e),e}},o.A.hasMany(l,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),l.belongsTo(o.A,{foreignKey:"creator_Id",onDelete:"CASCADE",onUpdate:"CASCADE"}),await c.sync({alter:!1}).then((()=>{console.log("Post synced successfully")})).catch((e=>{console.error("Error syncing Post:",e)}));const d=l;r()}catch(e){r(e)}}),1)},6153:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>o});var a=s(9031);const e=(0,s(128).J)();class n extends a.Model{static async getUserByID(e){return await this.findOne({where:{id:e}})}}n.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},lastName:{type:a.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},username:{type:a.DataTypes.STRING,allowNull:!1,unique:!0,validate:{is:/^[a-zA-Z0-9_]*$/,len:[3,20]}},email:{type:a.DataTypes.STRING,unique:!0,allowNull:!1,validate:{isEmail:!0,len:[5,50],notEmpty:!0}},hashedpassword:{type:a.DataTypes.STRING(64)},status:{type:a.DataTypes.STRING,allowNull:!1,defaultValue:"unverified"},bio:{type:a.DataTypes.STRING,defaultValue:"This is a new user."},join:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},avatarUrl:{type:a.DataTypes.STRING},imageURL:{type:a.DataTypes.STRING},profilePic:{type:a.DataTypes.STRING},label:{type:a.DataTypes.STRING,defaultValue:"New User"},last_activity:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},updated_at:{type:a.DataTypes.DATE,defaultValue:a.DataTypes.NOW},UserRegistrationID:{type:a.DataTypes.UUID,allowNull:!0,references:{model:"UserRegistration",key:"id"}}},{sequelize:e,modelName:"Users",timestamps:!1,updatedAt:"updated_at"}),await e.sync().then((()=>{console.log("New User synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const o=n;r()}catch(e){r(e)}}),1)},80:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>E});var a=s(9031),n=s(128),o=s(5486),i=s.n(o),c=s(8635),l=s(6153),d=e([l]);l=(d.then?(await d)():d)[0];const u=(0,n.J)();class T extends a.Model{static async loginUser(e,t){return await this.findOne({where:{email:e,hashedpassword:t}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,t){return await this.findOne({where:{email:e,hashedpassword:t}})}}T.init({id:{type:a.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},newUser:{type:a.DataTypes.STRING,allowNull:!1},username:{type:a.DataTypes.STRING,allowNull:!1},email:{type:a.DataTypes.STRING,allowNull:!1},hashedpassword:{type:a.DataTypes.STRING,allowNull:!1},createdAt:{type:a.DataTypes.DATE,allowNull:!1,defaultValue:a.DataTypes.NOW}},{sequelize:u,modelName:"UserRegistration",createdAt:"createdAt",timestamps:!1,freezeTableName:!0}),T.beforeCreate((async e=>{try{if(e){const t=i().genSaltSync(10),s=await i().hash(String(e.hashedpassword),t);e.hashedpassword=s}}catch(e){throw console.error("Error hashing password:",e),new Error("Error hashing password")}})),T.afterCreate((async e=>{try{if(e){const t=e.newUser?.lastIndexOf(" "),s=-1!==t?e.newUser?.slice(0,t):e.newUser,r=-1!==t?e.newUser?.slice(t??1):"",a=(0,c.q)(e.username);await l.A.upsert({firstName:s,lastName:r,username:e.username,email:e.email,hashedpassword:e.hashedpassword,status:"unverified",bio:"I am a new user.",join:new Date,avatarUrl:a,imageURL:null,profilePic:null,label:"New User",last_activity:new Date,updated_at:new Date,UserRegistrationID:e.id})}}catch(e){throw console.error("Error registering new user:",e),new Error("Error registering new user")}})),T.loginUser=async function(e,t){try{const s=await this.findOne({where:{email:e}});if(s){if(await i().compare(t,s.hashedpassword))return s;throw new Error("Incorrect password")}throw new Error("Incorrect email")}catch(e){throw console.error("Error logging in user:",e),new Error("User not found")}},T.logoutUser=async function(e){try{return await this.findOne({where:{email:e}})}catch(e){throw console.error("Error logging out user:",e),new Error("User not found")}},await u.sync().then((()=>{console.log("New User Registered synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const E=T;r()}catch(e){r(e)}}),1)},2317:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>S});var a=s(7252),n=s.n(a),o=s(8577),i=s.n(o),c=s(1976),l=s(9024),d=s(3268),u=s.n(d),T=s(6898),E=s.n(T),_=e([l]);l=(_.then?(await _)():_)[0];const y=n().Router();y.use(i()(c.v)),y.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),s()})),y.use(u().urlencoded({extended:!0})),y.use(E()()),y.use(n().json()),y.use(u().json()),y.post("/api/register",l.TU),y.post("/api/login",l.pH),y.get("/api/logout",l.Ub),y.post("/api/refresh-token",l.Be),y.get("/api/currentUser",l.oC);const S=y;r()}catch(e){r(e)}}))},6010:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>A});var a=s(818),n=s.n(a),o=s(7252),i=s.n(o),c=s(8577),l=s.n(c),d=s(6153),u=s(3268),T=s.n(u),E=s(6898),_=s.n(E),y=s(2051),S=s(829),p=s.n(S),g=s(3101),h=e([d,y]);[d,y]=h.then?(await h)():h;const m=i().Router();n().config(),m.use(l()()),m.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),s()})),m.use(T().urlencoded({extended:!0})),m.use(_()()),m.use(i().json()),m.use(T().json()),m.get("/api/getUser",y.FH,(async(e,t,s)=>{const r=e.cookies.jwt;r?p().verify(r,g.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log("JWT verification error",e.message),void t.status(401).json({message:"Unauthorized Invalid Token"});try{const e=await d.A.findByPk(r.id);if(!e)return void t.status(400).json({message:"User ID is required"});t.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),t.status(500).json({message:"Error getting current user"})}return s()})):t.status(401).json({message:"Unauthorized"})}));const A=m;r()}catch(e){r(e)}}))},8358:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>D});var a=s(818),n=s.n(a),o=s(7252),i=s.n(o),c=s(8577),l=s.n(c),d=s(1976),u=s(3268),T=s.n(u),E=s(6898),_=s.n(E),y=s(6020),S=s(2993),p=s(5595),g=s(829),h=s.n(g),m=s(6153),A=s(3101),w=e([S,p,m]);[S,p,m]=w.then?(await w)():w,n().config();const R=i().Router();R.use(l()(d.v)),R.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),t.header("encoding","multipart/form-data"),s()})),R.use(T().urlencoded({extended:!0})),R.use(_()()),R.use(i().json()),R.use(T().json()),R.post("/api/uploadImage",y.A.single("image"),(async(e,t)=>{try{console.log("File uploaded:",e.file);const s=`assets/images/${e.file?.filename}`,r=e.cookies.jwt,a=parseInt(e.body.postId,10);if(!r)return void t.status(401).json({message:"Unauthorized"});h().verify(r,A.n.JWT_SECRET,(async(e,r)=>{if(e)return void t.status(401).json({message:"Unauthorized"});const n=r.id;n&&await m.A.findByPk(n)?await p.A.create({imageUrl:s,user_id:n||null,post_id:a||null,created_At:new Date})?t.status(200).json({message:"Image uploaded successfully",imageUrl:s}):t.status(500).send({error:"Error creating image record"}):t.status(401).json({message:"Unauthorized"})}))}catch(e){console.error("Error uploading image:",e),t.status(500).json({message:"Internal server error"})}})),R.get("/api/sendImageUrl",S.A);const D=R;r()}catch(e){r(e)}}))},9785:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>y});var a=s(7252),n=s.n(a),o=s(8577),i=s.n(o),c=s(6898),l=s.n(c),d=s(3268),u=s.n(d),T=s(6184),E=e([T]);T=(E.then?(await E)():E)[0];const _=n().Router();_.use(i()()),_.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),s()})),_.use(u().urlencoded({extended:!0})),_.use(l()()),_.use(n().json()),_.use(u().json()),_.post("/api/createPost",T.p);const y=_;r()}catch(e){r(e)}}))},4388:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{Q:()=>p});var a=s(7252),n=s.n(a),o=s(9469),i=s(2317),c=s(6010),l=s(4704),d=s(3268),u=s.n(d),T=s(6898),E=s.n(T),_=s(9785),y=s(8358),S=e([i,c,l,_,y]);[i,c,l,_,y]=S.then?(await S)():S;const p=n().Router();p.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),s()})),p.use(u().urlencoded({extended:!0})),p.use(E()()),p.use(n().json()),p.use(u().json()),p.get("/",((e,t)=>{t.send({status:`${o._.NODE_ENV}`,message:`${o._.RESPONSE_STATUS}`,name:`${o._.APP_NAME}`})})),p.use(i.A),p.use(l.A),p.use(_.A),p.use(y.A),p.use(c.A),r()}catch(e){r(e)}}))},4704:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{A:()=>y});var a=s(7252),n=s.n(a),o=s(8577),i=s.n(o),c=s(3268),l=s.n(c),d=s(6898),u=s.n(d),T=s(2051),E=e([T]);T=(E.then?(await E)():E)[0];const _=n().Router();_.use(i()()),_.use(((e,t,s)=>{t.header("Access-Control-Allow-Origin","http://localhost:8080"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),t.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.header("Access-Control-Allow-Credentials","true"),s()})),_.use(l().urlencoded({extended:!0})),_.use(u()()),_.use(n().json()),_.use(l().json()),_.get("/api/getCurrentUser",T.HW,(async(e,t)=>{if(!t.locals.user)return t.status(401).json({message:"Unauthorized"});try{const e=t.locals.user;t.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),t.status(500).json({message:"Error getting current user"})}return t}));const y=_;r()}catch(e){r(e)}}))},6020:(e,t,s)=>{s.d(t,{A:()=>T});var r=s(8461),a=s.n(r),n=s(6928),o=s.n(n),i=s(7189),c=s(9896),l=s.n(c);const d="/home/babsdevsys/appV-1/public/assets/images";l().existsSync(d)||l().mkdirSync(d,{recursive:!0});const u=a().diskStorage({destination:function(e,t,s){s(null,d)},filename:function(e,t,s){const r=Date.now()+"-"+Math.round(1e9*Math.random());s(null,t.fieldname+"-"+r+o().extname(t.originalname))}}),T=a()({storage:u,limits:{fileSize:1e7},fileFilter:function(e,t,s){const r=/jpeg|jpg|png|svg/,a=r.test(t.mimetype),n=r.test(o().extname(t.originalname).toLowerCase());if(a&&n)return s(null,!0);(async(e,t)=>{try{if(!(await(0,i.validateMIMEType)(e.path,{originalFilename:e.originalname,allowMimeTypes:["image/jpeg","image/png","image/svg+xml"]})).ok)return t(new Error("Invalid file type"));t(null,!0)}catch(e){console.error("Error validating file type:",e),t(new Error("Error validating file type"))}})(t.path,s)}})},2541:(e,t,s)=>{s.a(e,(async(e,r)=>{try{s.d(t,{K:()=>c});var a=s(128),n=s(5595),o=e([n]);n=(o.then?(await o)():o)[0];const i=(0,a.J)();async function c(){try{await i.transaction((async e=>{await n.A.truncate({transaction:e})})),console.log("Tables have been truncated...")}catch(e){console.error("Error truncating tables:",e)}}r()}catch(l){r(l)}}))},8635:(e,t,s)=>{function r(e){const t=e.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");return`https://ui-avatars.com/api/?name=${encodeURIComponent(t)}&size=200&background=random&color=fff`}s.d(t,{q:()=>r}),s(6982)},2300:(e,t,s)=>{s.d(t,{H4:()=>c,sh:()=>u});var r=s(1708),a=s.n(r),n=s(9896),o=s.n(n),i=s(9469);const c=(e,t)=>{console.error(e.message);let s={};e.message.includes("New User validation error")&&(s={name:"Name is required",username:"username is required",email:"email is required",password:"password is required"}),e.message.includes("UserRegistrations.email")&&(s.email="Email is already registered"),e.message.includes("incorrect email")&&(s.email="email is not registered"),e.message.includes("Incorrect password")&&(s.password="password is incorrect"),"SequelizeValidationError"===e.name&&e.error&&(s=e.error.reduce(((e,t)=>(e[t.path]=t.message,e)),{})),t.status(e.code||500).json({errors:s})};function l(e){const t=`${(new Date).toISOString()} - ${e.message}\n${e.stack}\n`;o().appendFileSync("error.log",t)}const d=new Map;function u(e,t,s,r){l(e),s.status(500).json({message:"An unexpected error occurred"}),r(e)}a().on("unhandledRejection",((e,t)=>{console.error("Unhandled Rejection at:",t,"reason:",e),d.set(t,e)})),a().on("rejectionHandled",(e=>{d.delete(e)})),a().on("unhandledRejection",((e,t)=>{l(e),console.error("Unhandled Rejection at:",t,"reason:",e),a().exit(1)})),a().on("uncaughtException",(e=>{l(e),console.error("Uncaught Exception:",e),a().exit(1)})),a().on("uncaughtException",(e=>{o().writeSync(a().stderr.fd,`Caught exception: ${e}\nException Origin: ${origin}\n`)})),setTimeout((()=>{console.log("This will still run.")}),i._.ERROR_TIMEOUT)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ckMsU0FBYSxFQUFFLElBRW5CLE9BQVcscUJBQXNCQSxJQUM3QixjQUFhLFdBQWUyUSxHQUFJLHFCQUFxQjNRLHdCQUErQnBELFdBQVcsSUFFbkdxSSxZQUFXLEtBQ1AvRSxRQUFRQyxJQUFJLHVCQUF1QixHQUNwQyxJQUFJeVEsYyIsInNvdXJjZXMiOlsid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2NvcnNFVk4udHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb25maWcvY29yT3B0aW9ucy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9kYXRhYmFzZUVOVi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9qd3RFTlYudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb250cm9sbGVycy9Qb3N0Q29udHJvbGxlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29udHJvbGxlcnMvaW1hZ2VDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2lwQ29uZmlnLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2p3dEdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYXV0aC91c2VyQXV0aC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9tYXJpYWRiLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1bGl6ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZXhwcmVzcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvaW1hZ2UubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvcG9zdC5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy91c2VyLm1vZGVsLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbW9kZWxzL3VzZXJSZWdpc3Rlci5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9hdXRoUm91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL2N1cnJlbnRVc2VyUm91dGUudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvaW1hZ2VSb3V0ZXMudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvcG9zdFJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9yb3V0ZXIudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvdXNlclJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3NlcnZpY2VzL211bHRlci5jb25maWcudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9zZXJ2aWNlcy90cnVuY2F0ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3V0aWxzL2F2YXRhci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3V0aWxzL2Vycm9ySGFuZGxlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpY3QgYXMgYXNzZXJ0IH0gZnJvbSAnYXNzZXJ0JztcbmltcG9ydCB7IGxvYWQgfSBmcm9tICd0cy1kb3RlbnYnO1xuY29uc3QgY29yc1NjaGVtYUVOViA9IGxvYWQoe1xuICAgIC8qIExvYWQgQ09SUyAqL1xuICAgIENPUlNfT1JJR0lOOiBTdHJpbmcsXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTOiBOdW1iZXIsXG4gICAgQ09SU19DUkVERU5USUFMUzogQm9vbGVhbixcbiAgICBDT1JTX01FVEhPRFM6IFN0cmluZyxcbn0pO1xuLy8gZGVzdHJ1Y3R1cmUgdGhlIENPUlMgc2NoZW1hXG5jb25zdCB7IENPUlNfT1JJR0lOLCBDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsIENPUlNfQ1JFREVOVElBTFMsIENPUlNfTUVUSE9EUywgfSA9IGNvcnNTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgQ09SUyBzY2hlbWEgaXMgcHJlc2VudFxuYXNzZXJ0Lm9rKENPUlNfT1JJR0lOLCAnQ09SUyBvcmlnaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsICdDT1JTIG9wdGlvbnMgc3VjY2VzcyBzdGF0dXMgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhDT1JTX0NSRURFTlRJQUxTLCAnQ09SUyBjcmVkZW50aWFscyBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKENPUlNfTUVUSE9EUywgJ0NPUlMgbWV0aG9kcyBzaG91bGQgYmUgcHJlc2VudCcpO1xuLy8gZXhwb3J0IHRoZSBDT1JTIHNjaGVtYVxuZXhwb3J0IGNvbnN0IGNvcnNFTlYgPSB7XG4gICAgQ09SU19PUklHSU4sXG4gICAgQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxuICAgIENPUlNfQ1JFREVOVElBTFMsXG4gICAgQ09SU19NRVRIT0RTLFxufTtcbi8vIGV4cG9ydCB0aGUgQ09SUyBzY2hlbWFcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBjb3JzRU5WLFxufTtcbiIsIi8vIEV4cG9ydCBjb3JPcHRpb25zIG9iamVjdCB3aXRoIG9yaWdpbiBhbmQgb3B0aW9uc1N1Y2Nlc3NTdGF0dXMgcHJvcGVydGllc1xucmVxdWlyZSgnZG90ZW52JykuY29uZmlnKCk7XG5pbXBvcnQgeyBjb3JzRU5WIH0gZnJvbSAnLi9jb3JzRVZOJztcbmNvbnN0IGNvck9wdGlvbnMgPSB7XG4gICAgb3JpZ2luOiBjb3JzRU5WLkNPUlNfT1JJR0lOLFxuICAgIG1ldGhvZHM6IGNvcnNFTlYuQ09SU19NRVRIT0RTLFxuICAgIGNyZWRlbnRpYWxzOiBjb3JzRU5WLkNPUlNfQ1JFREVOVElBTFMsXG4gICAgb3B0aW9uc1N1Y2Nlc3NTdGF0dXM6IGNvcnNFTlYuQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTLFxufTtcbmV4cG9ydCB7IGNvck9wdGlvbnMgfTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBkYXRhU2NoZW1hRU5WID0gbG9hZCh7XG4gICAgLyogTG9hZCBEYXRhYmFzZSAqL1xuICAgIERCX0hPU1Q6IFN0cmluZyxcbiAgICBEQl9QT1JUOiBOdW1iZXIsXG4gICAgREJfVVNFUjogU3RyaW5nLFxuICAgIERCX1BBU1M6IFN0cmluZyxcbiAgICBEQl9OQU1FOiBTdHJpbmcsXG4gICAgREJfU09DS0VUX1BBVEg6IFN0cmluZyxcbiAgICBEQl9TT0NLRVRfVElNRU9VVDogTnVtYmVyLFxuICAgIERCX0NPTVBSRVNTOiBCb29sZWFuLFxuICAgIERCX0RFQlVHOiBCb29sZWFuLFxuICAgIERCX1BFUk1JVF9MT0NBTF9JTkZJTEU6IEJvb2xlYW4sXG4gICAgREJfVFJBQ0U6IEJvb2xlYW4sXG4gICAgREJfQ0hFQ0tfRFVQTElDQVRFOiBCb29sZWFuLFxuICAgIERCX1NTTDogQm9vbGVhbixcbiAgICBEQl9TU0xfQ0E6IFN0cmluZyxcbiAgICBEQl9TU0xfS0VZOiBTdHJpbmcsXG4gICAgREJfU1NMX0NFUlQ6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVM6IFN0cmluZyxcbiAgICBEQl9DT05ORUNUSU9OX1RJTUVPVVQ6IE51bWJlcixcbn0pO1xuY29uc3QgeyBEQl9IT1NULCBEQl9QT1JULCBEQl9VU0VSLCBEQl9QQVNTLCBEQl9OQU1FLCBEQl9TT0NLRVRfUEFUSCwgREJfU09DS0VUX1RJTUVPVVQsIERCX0NPTVBSRVNTLCBEQl9ERUJVRywgREJfUEVSTUlUX0xPQ0FMX0lORklMRSwgREJfVFJBQ0UsIERCX0NIRUNLX0RVUExJQ0FURSwgREJfU1NMLCBEQl9TU0xfQ0EsIERCX1NTTF9LRVksIERCX1NTTF9DRVJULCBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMsIERCX0NPTk5FQ1RJT05fVElNRU9VVCwgfSA9IGRhdGFTY2hlbWFFTlY7XG5hc3NlcnQub2soREJfSE9TVCwgJ0RhdGFiYXNlIGhvc3Qgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9QT1JULCAnRGF0YWJhc2UgcG9ydCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX1VTRVIsICdEYXRhYmFzZSB1c2VyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfUEFTUywgJ0RhdGFiYXNlIHBhc3N3b3JkIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfTkFNRSwgJ0RhdGFiYXNlIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmV4cG9ydCBjb25zdCBkYXRhYmFzZUVOViA9IHtcbiAgICBEQl9IT1NULFxuICAgIERCX1BPUlQsXG4gICAgREJfVVNFUixcbiAgICBEQl9QQVNTLFxuICAgIERCX05BTUUsXG4gICAgREJfU09DS0VUX1BBVEgsXG4gICAgREJfU09DS0VUX1RJTUVPVVQsXG4gICAgREJfQ09NUFJFU1MsXG4gICAgREJfREVCVUcsXG4gICAgREJfUEVSTUlUX0xPQ0FMX0lORklMRSxcbiAgICBEQl9UUkFDRSxcbiAgICBEQl9DSEVDS19EVVBMSUNBVEUsXG4gICAgREJfQ09OTkVDVElPTl9BVFRSSUJVVEVTLFxuICAgIERCX0NPTk5FQ1RJT05fVElNRU9VVCxcbiAgICBEQl9TU0wsXG4gICAgREJfU1NMX0NBLFxuICAgIERCX1NTTF9LRVksXG4gICAgREJfU1NMX0NFUlQsXG59O1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGRhdGFiYXNlRU5WLFxuICAgIG1hcmlhZGI6IHtcbiAgICAgICAgc3NsOiBEQl9TU0wsXG4gICAgICAgIHNzbE9wdGlvbnM6IHtcbiAgICAgICAgICAgIGNhOiBEQl9TU0xfQ0EsXG4gICAgICAgICAgICBrZXk6IERCX1NTTF9LRVksXG4gICAgICAgICAgICBjZXJ0OiBEQl9TU0xfQ0VSVCxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbiIsImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBqd3RTY2hlbWFFTlYgPSBsb2FkKHtcbiAgICAvKiBMb2FkIEpXVCAqL1xuICAgIEpXVF9TRUNSRVQ6IFN0cmluZyxcbiAgICBKV1RfRVhQSVJFU19JTjogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX1NFQ1JFVDogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX0VYUElSRVNfSU46IFN0cmluZyxcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFOiBOdW1iZXIsXG4gICAgSldUX0FMR09SSVRITTogU3RyaW5nLFxuICAgIEpXVF9JU1NVRVI6IFN0cmluZyxcbiAgICBKV1RfTUFYX0FHRTogTnVtYmVyLFxuICAgIEpXVF9IVFRQX09OTFk6IEJvb2xlYW4sXG4gICAgSldUX1NBTUVfU0lURTogU3RyaW5nLFxuICAgIEpXVF9DT09LSUVfTkFNRTogU3RyaW5nLFxuICAgIEpXVF9TRUNVUkU6IEJvb2xlYW4sXG59KTtcbi8vIGRlc3RydWN0dXJlIHRoZSBKV1Qgc2NoZW1hXG5jb25zdCB7IEpXVF9TRUNSRVQsIEpXVF9FWFBJUkVTX0lOLCBKV1RfUkVGUkVTSF9TRUNSRVQsIEpXVF9SRUZSRVNIX0VYUElSRVNfSU4sIEpXVF9SRUZSRVNIX01BWF9BR0UsIEpXVF9BTEdPUklUSE0sIEpXVF9JU1NVRVIsIEpXVF9NQVhfQUdFLCBKV1RfSFRUUF9PTkxZLCBKV1RfU0FNRV9TSVRFLCBKV1RfQ09PS0lFX05BTUUsIEpXVF9TRUNVUkUsIH0gPSBqd3RTY2hlbWFFTlY7XG4vLyBhc3NlcnQgdGhhdCB0aGUgSldUIHNjaGVtYSBpcyBwcmVzZW50XG5hc3NlcnQub2soSldUX1NFQ1JFVCwgJ0pXVCBzZWNyZXQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfRVhQSVJFU19JTiwgJ0pXVCBleHBpcmVzIGluIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfU0VDUkVULCAnSldUIHJlZnJlc2ggc2VjcmV0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfRVhQSVJFU19JTiwgJ0pXVCByZWZyZXNoIGV4cGlyZXMgaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQUxHT1JJVEhNLCAnSldUIGFsZ29yaXRobSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9JU1NVRVIsICdKV1QgaXNzdWVyIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX01BWF9BR0UsICdKV1QgbWF4IGFnZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9IVFRQX09OTFksICdKV1QgaHR0cCBvbmx5IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1NBTUVfU0lURSwgJ0pXVCBzYW1lIHNpdGUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfQ09PS0lFX05BTUUsICdKV1QgY29va2llIG5hbWUgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfU0VDVVJFLCAnSldUIHNlY3VyZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9SRUZSRVNIX01BWF9BR0UsICdKV1QgcmVmcmVzaCBtYXggYWdlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG4vLyBleHBvcnQgdGhlIEpXVCBzY2hlbWFcbmV4cG9ydCBjb25zdCBqd3RFTlYgPSB7XG4gICAgSldUX1NFQ1JFVCxcbiAgICBKV1RfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9TRUNSRVQsXG4gICAgSldUX1JFRlJFU0hfRVhQSVJFU19JTixcbiAgICBKV1RfUkVGUkVTSF9NQVhfQUdFLFxuICAgIEpXVF9BTEdPUklUSE0sXG4gICAgSldUX0lTU1VFUixcbiAgICBKV1RfTUFYX0FHRSxcbiAgICBKV1RfSFRUUF9PTkxZLFxuICAgIEpXVF9TQU1FX1NJVEUsXG4gICAgSldUX0NPT0tJRV9OQU1FLFxuICAgIEpXVF9TRUNVUkUsXG59O1xuLy8gZXhwb3J0IHRoZSBKV1Qgc2NoZW1hXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgand0RU5WLFxufTtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJztcbmltcG9ydCBJbWFnZVN0b3JhZ2UgZnJvbSAnLi4vbW9kZWxzL2ltYWdlLm1vZGVsJztcbmltcG9ydCBVc2VycyBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmltcG9ydCBQb3N0cyBmcm9tICcuLi9tb2RlbHMvcG9zdC5tb2RlbCc7XG5kb3RlbnYuY29uZmlnKCk7XG5leHBvcnQgY29uc3QgY3JlYXRlUG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgY2FwdGlvbiwgbG9jYXRpb24sIHRhZ3MgfSA9IHJlcS5ib2R5O1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDsgLy8gRW5zdXJlIHRoYXQgdGhlIHRva2VuIGNvbnRhaW5zIHRoZSB1c2VyIElEXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmV0cmlldmUgdGhlIGltYWdlIFVSTCBmcm9tIHRoZSBJbWFnZVN0b3JhZ2UgdGFibGUgdXNpbmcgdGhlIHN0YXRpYyBtZXRob2RcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVjb3JkID0gYXdhaXQgSW1hZ2VTdG9yYWdlLmZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KCd1c2VyX2lkJywgdXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIWltYWdlUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ0ltYWdlIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdQb3N0ID0gYXdhaXQgUG9zdHMuY3JlYXRlKHtcbiAgICAgICAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uLFxuICAgICAgICAgICAgICAgIGltYWdlVVJMOiBpbWFnZVJlY29yZC5pbWFnZVVybCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogbG9jYXRpb24sXG4gICAgICAgICAgICAgICAgdGFnczogdGFncyB8fCAnJyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIGNyZWF0b3JfSWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghbmV3UG9zdCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGNyZWF0aW5nIG5ldyBwb3N0LicgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzXG4gICAgICAgICAgICAgICAgICAgIC5zdGF0dXMoMjAxKVxuICAgICAgICAgICAgICAgICAgICAuanNvbih7IG1lc3NhZ2U6ICdQb3N0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5JywgbmV3UG9zdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXdQb3N0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmltcG9ydCB7IGp3dEdlbmVyYXRvciwgand0UmVmcmVzaCB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC9qd3RHZW5lcmF0b3InO1xuaW1wb3J0IFVzZXJSZWdpc3RyYXRpb24gZnJvbSAnLi4vbW9kZWxzL3VzZXJSZWdpc3Rlci5tb2RlbCc7XG5pbXBvcnQgeyBoYW5kbGVFcnJvciB9IGZyb20gJy4uL3V0aWxzL2Vycm9ySGFuZGxlcic7XG5kb3RlbnYuY29uZmlnKCk7XG5leHBvcnQgY29uc3QgdXNlclJlZ2lzdGVyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCB1c2VybmFtZSwgZW1haWwsIHBhc3N3b3JkIH0gPSByZXEuYm9keTtcbiAgICAgICAgaWYgKCFuYW1lIHx8ICF1c2VybmFtZSB8fCAhZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdOZXcgVXNlciB2YWxpZGF0aW9uIGVycm9yJyksIHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdXNlciBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCB1c2VyRXhpc3RzID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZXJFeGlzdHMpIHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFcnJvcihuZXcgRXJyb3IoJ1VzZXJSZWdpc3RyYXRpb25zLmVtYWlsOiBVc2VyIGFscmVhZHkgZXhpc3RzICcpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmNyZWF0ZSh7XG4gICAgICAgICAgICBuZXdVc2VyOiBuYW1lLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgICAgICAgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgdG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9NQVhfQUdFICogMTAwMCxcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmV3VXNlcixcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICB0b2tlbjogdG9rZW4sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoZXJyb3IsIHJlcyk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCB1c2VyTG9naW4gPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdMb2dpbiBWYWxpZGF0aW9uIEVycm9yIScpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmxvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQpO1xuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dEdlbmVyYXRvcih7IGlkOiB1c2VyLmlkIH0pO1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSBqd3RSZWZyZXNoKHsgaWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIGxvZ2dlZCBpbjonLCByZWZyZXNoVG9rZW4pO1xuICAgICAgICAvLyBTZXR0aW5nIHRoZSBhY2Nlc3MgdG9rZW4gY29va2llXG4gICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIHRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfTUFYX0FHRSAqIDEwMDAsIC8vIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFNldHRpbmcgdGhlIHJlZnJlc2ggdG9rZW4gY29va2llXG4gICAgICAgIHJlcy5jb29raWUoJ3JlZnJlc2hUb2tlbicsIHJlZnJlc2hUb2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX1JFRlJFU0hfTUFYX0FHRSAqIDEwMDAsIC8vIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zZXRIZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YCk7XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXI7XG4gICAgICAgIHJlcy5qc29uKHsgdG9rZW4sIHJlZnJlc2hUb2tlbiwgdXNlcjogdXNlci5pZCB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXNlckxvZ291dCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSByZXEuY29va2llcy5yZWZyZXNoVG9rZW47XG4gICAgICAgIGlmICghYWNjZXNzVG9rZW4gJiYgIXJlZnJlc2hUb2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnTm8gdG9rZW5zIHByb3ZpZGVkIScgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2xlYXIgdGhlIGFjY2VzcyB0b2tlblxuICAgICAgICByZXMuY29va2llKCdqd3QnLCAnJywge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDEsIC8vIDEgbWlsbGlzZWNvbmQgdG8gZWZmZWN0aXZlbHkgZXhwaXJlIHRoZSBjb29raWVcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIENsZWFyIHRoZSByZWZyZXNoIHRva2VuXG4gICAgICAgIHJlcy5jb29raWUoJ3JlZnJlc2hUb2tlbicsICcnLCB7XG4gICAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcbiAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgICAgIG1heEFnZTogMSwgLy8gMSBtaWxsaXNlY29uZCB0byBlZmZlY3RpdmVseSBleHBpcmUgdGhlIGNvb2tpZVxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBsb2dnZWQgb3V0JyB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgcmVmcmVzaFRva2VuID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmNvb2tpZXMucmVmcmVzaFRva2VuO1xuICAgIGlmICghcmVmcmVzaFRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeShyZWZyZXNoVG9rZW4sIGp3dEVOVi5KV1RfUkVGUkVTSF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzZXIgSUQ6JywgdXNlcklkKTtcbiAgICAgICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZmluZEJ5UGsodXNlcklkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBhIG5ldyB0b2tlblxuICAgICAgICAgICAgY29uc3QgbmV3VG9rZW4gPSBqd3Quc2lnbih7IGlkOiB1c2VyLmlkIH0sIGp3dEVOVi5KV1RfU0VDUkVULCB7XG4gICAgICAgICAgICAgICAgZXhwaXJlc0luOiBqd3RFTlYuSldUX0VYUElSRVNfSU4sXG4gICAgICAgICAgICAgICAgYWxnb3JpdGhtOiBqd3RFTlYuSldUX0FMR09SSVRITSxcbiAgICAgICAgICAgICAgICBpc3N1ZXI6IGp3dEVOVi5KV1RfSVNTVUVSLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXMuY29va2llKCdqd3QnLCBuZXdUb2tlbiwge1xuICAgICAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfUkVGUkVTSF9NQVhfQUdFICogMTAwMCxcbiAgICAgICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgICAgIHNhbWVTaXRlOiAnbGF4JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB0b2tlbjogbmV3VG9rZW4sIHVzZXI6IHVzZXIuaWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcicgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xufTtcbi8vIHJlcXVpcmUgYXV0aGVudGljYXRpb25cbmV4cG9ydCBjb25zdCByZXF1aXJlQXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZmluZEJ5UGsodXNlcklkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXI7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG4gICAgbmV4dCgpO1xufTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICB1c2VyUmVnaXN0ZXIsXG4gICAgdXNlckxvZ2luLFxuICAgIHVzZXJMb2dvdXQsXG4gICAgcmVmcmVzaFRva2VuLFxuICAgIHJlcXVpcmVBdXRoLFxufTtcbiIsImltcG9ydCBJbWFnZVN0b3JhZ2VzIGZyb20gJy4uL21vZGVscy9pbWFnZS5tb2RlbCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgJ2RvdGVudi9jb25maWcnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4uL21vZGVscy91c2VyLm1vZGVsJztcbi8vIFJlZmFjdG9yZWQgZnVuY3Rpb24gdG8gcmV0dXJuIGltYWdlIFVSTFxuZXhwb3J0IGNvbnN0IGdldEltYWdlUHJldmlld1VybCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMuand0O1xuICAgICAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlcl9pZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJfaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpbWFnZSA9IGF3YWl0IEltYWdlU3RvcmFnZXMuZmluZEltYWdlQnlSZWZlcmVuY2VLZXkoJ3VzZXJfaWQnLCB1c2VyX2lkKTtcbiAgICAgICAgICAgIGlmICghaW1hZ2UpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6ICdObyBpbWFnZSBmb3VuZCcgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IGltYWdlVXJsOiBpbWFnZS5pbWFnZVVybCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGltYWdlIHByZXZpZXc6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgaW1hZ2UgcHJldmlldycpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCBnZXRJbWFnZVByZXZpZXdVcmw7XG4iLCJpbXBvcnQgcmF0ZUxpbWl0IGZyb20gJ2V4cHJlc3MtcmF0ZS1saW1pdCc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9jb25maWcvaW5kZXgnO1xuZXhwb3J0IGNvbnN0IGtleUdlbmVyYXRvciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmICghcmVxLmlwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ1dhcm5pbmc6IHJlcXVlc3QuaXAgaXMgbWlzc2luZyEnIH0pO1xuICAgICAgICByZXR1cm4gcmVxLnNvY2tldC5yZW1vdGVBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gcmVxLmlwLnJlcGxhY2UoLzpcXGQrW146XSokLywgJycpO1xufTtcbmV4cG9ydCBjb25zdCBsaW1pdGVyID0gcmF0ZUxpbWl0KHtcbiAgICB3aW5kb3dNczogZW52LlJBUkVfTElNSVRfV0lORE9XX01TLFxuICAgIG1heDogZW52Lk1BWCxcbiAgICBtZXNzYWdlOiBlbnYuUkFSRV9MSU1JVF9NRVNTQUdFLFxuICAgIHN0YXR1c0NvZGU6IGVudi5SQVJFX0xJTUlUX0NPREUsXG4gICAgaGFuZGxlcjogKF9yZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKGVudi5SQVJFX0xJTUlUX0NPREUpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogZW52LlJBUkVfTElNSVRfTUVTU0FHRSxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBrZXlHZW5lcmF0b3IsXG59KTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBsaW1pdGVyLFxuICAgIGtleUdlbmVyYXRvcixcbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvand0RU5WJztcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBqd3RHZW5lcmF0b3IgPSAocGF5bG9hZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBqd3RFTlYuSldUX1NFQ1JFVCwge1xuICAgICAgICAgICAgYWxnb3JpdGhtOiBqd3RFTlYuSldUX0FMR09SSVRITSxcbiAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgSldUJyk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBqd3RWZXJpZmllciA9ICh0b2tlbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBKV1QnKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGp3dFJlZnJlc2ggPSAocGF5bG9hZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBqd3RFTlYuSldUX1JFRlJFU0hfU0VDUkVULCB7XG4gICAgICAgICAgICBhbGdvcml0aG06IGp3dEVOVi5KV1RfQUxHT1JJVEhNLFxuICAgICAgICAgICAgZXhwaXJlc0luOiBqd3RFTlYuSldUX1JFRlJFU0hfRVhQSVJFU19JTixcbiAgICAgICAgICAgIGlzc3Vlcjogand0RU5WLkpXVF9JU1NVRVIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBnZW5lcmF0aW5nIEpXVCcpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgand0R2VuZXJhdG9yLFxuICAgIGp3dFZlcmlmaWVyLFxuICAgIGp3dFJlZnJlc2gsXG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IHsgand0VmVyaWZpZXIgfSBmcm9tICcuL2p3dEdlbmVyYXRvcic7XG5kb3RlbnYuY29uZmlnKCk7XG5leHBvcnQgY29uc3QgZ2V0Q3VycmVudFVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnRva2VuO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGRlY29kZWRUb2tlbiA9IGp3dFZlcmlmaWVyKHRva2VuKTtcbiAgICAgICAgY29uc3QgdXNlcklkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih1c2VyKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdG9rZW47XG59O1xuZXhwb3J0IGNvbnN0IHZlcmlmeVVzZXIgPSBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3I6JywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXJzLmZpbmRCeVBrKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlY29kZWRUb2tlbjonLCBkZWNvZGVkVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldHJpZXZpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgeyB2ZXJpZnlVc2VyIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4vc2VxdWlsaXplQ29uJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yREIoKSB7XG4gICAgY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwOyAvLyAxMCBhdHRlbXB0c1xuICAgIGNvbnN0IGRlbGF5ID0gMTAwMDsgLy8gMSBzZWNvbmRcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCwgU3RhcnRpbmcgU2VydmVyLi4uLi4nKTtcbiAgICAgICAgICAgIC8vIFN5bmMgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgYW5kIHJlLXN5bmMgZGIuJyk7XG4gICAgICAgICAgICByZXR1cm4gc2VxdWVsaXplOyAvLyBSZXR1cm4gdGhlIFNlcXVlbGl6ZSBpbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ01heCBhdHRlbXB0cyByZWFjaGVkLCBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgd2FpdEZvckRCIH07XG4iLCJpbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuaW1wb3J0IGZzIGZyb20gJ25vZGU6ZnMnO1xuY29uc3QgZGJDb25maWcgPSB7XG4gICAgRGlhbGVjdDogJ21hcmlhZGInLFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gICAgdXNlcm5hbWU6IGRhdGFiYXNlRU5WLkRCX1VTRVIgfHwgJ21ldGFsYnJhaW4nLFxuICAgIHBhc3N3b3JkOiBkYXRhYmFzZUVOVi5EQl9QQVNTIHx8ICdwYXNzd29yZCcsXG4gICAgZGF0YWJhc2U6IGRhdGFiYXNlRU5WLkRCX05BTUUgfHwgJ0ZpbmRTb21lT25lJyxcbiAgICBzb2NrZXRQYXRoOiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfUEFUSCB8fCAnL3Zhci9ydW4vbXlzcWxkL215c3FsZC5zb2NrJyxcbiAgICBzb2NrZXRUaW1lb3V0OiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfVElNRU9VVCB8fCAxMDAwLFxuICAgIGNvbXByZXNzOiBkYXRhYmFzZUVOVi5EQl9DT01QUkVTUyB8fCBmYWxzZSxcbiAgICBkZWJ1ZzogZGF0YWJhc2VFTlYuREJfREVCVUcgfHwgZmFsc2UsXG4gICAgcGVybWl0TG9jYWxJbmZpbGU6IGRhdGFiYXNlRU5WLkRCX1BFUk1JVF9MT0NBTF9JTkZJTEUgfHwgZmFsc2UsXG4gICAgdHJhY2U6IGRhdGFiYXNlRU5WLkRCX1RSQUNFIHx8IHRydWUsXG4gICAgY2hlY2tEdXBsaWNhdGU6IGRhdGFiYXNlRU5WLkRCX0NIRUNLX0RVUExJQ0FURSB8fCBmYWxzZSxcbiAgICBjb25uZWN0QXR0cmlidXRlczogSlNPTi5wYXJzZShkYXRhYmFzZUVOVi5EQl9DT05ORUNUSU9OX0FUVFJJQlVURVMgfHwgJ3t9JyksXG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IGRhdGFiYXNlRU5WLkRCX0NPTk5FQ1RJT05fVElNRU9VVCB8fCAxMDAwLFxuICAgIHBvcnQ6IGRhdGFiYXNlRU5WLkRCX1BPUlQgfHwgMzMwNixcbiAgICBzc2w6IGRhdGFiYXNlRU5WLkRCX1NTTCB8fCBmYWxzZSxcbiAgICBkaWFsZWN0T3B0aW9uczoge1xuICAgICAgICBzc2w6IHtcbiAgICAgICAgICAgIGNhOiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0FcbiAgICAgICAgICAgICAgICA/IGZzLnJlYWRGaWxlU3luYyhkYXRhYmFzZUVOVi5EQl9TU0xfQ0EpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAga2V5OiBkYXRhYmFzZUVOVi5EQl9TU0xfS0VZXG4gICAgICAgICAgICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoZGF0YWJhc2VFTlYuREJfU1NMX0tFWSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBjZXJ0OiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0VSVFxuICAgICAgICAgICAgICAgID8gZnMucmVhZEZpbGVTeW5jKGRhdGFiYXNlRU5WLkRCX1NTTF9DRVJUKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgU2VxdWVsaXplIGluc3RhbmNlXG4gICAgY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShkYkNvbmZpZy5kYXRhYmFzZSwgZGJDb25maWcudXNlcm5hbWUsIGRiQ29uZmlnLnBhc3N3b3JkLCB7XG4gICAgICAgIGhvc3Q6IGRiQ29uZmlnLmhvc3QsXG4gICAgICAgIGRpYWxlY3Q6IGRiQ29uZmlnLkRpYWxlY3QsXG4gICAgICAgIHBvcnQ6IGRiQ29uZmlnLnBvcnQsXG4gICAgICAgIHNzbDogZGJDb25maWcuc3NsLFxuICAgICAgICBkaWFsZWN0T3B0aW9uczogZGJDb25maWcuZGlhbGVjdE9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlcXVlbGl6ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfTtcbiIsIi8vIHRoaXMgd2lsbCBsb2FkIGFsbCBtb2RlbCBjbGFzc2VzIGZvdW5kIGluIGZpbGVzIG1hdGNoaW5nIHRoaXMgZ2xvYiBwYXR0ZXJuLlxuaW1wb3J0IHsgU2VxdWVsaXplLCBpbXBvcnRNb2RlbHMgfSBmcm9tICdAc2VxdWVsaXplL2NvcmUnO1xuaW1wb3J0IHsgTWFyaWFEYkRpYWxlY3QgfSBmcm9tICdAc2VxdWVsaXplL21hcmlhZGInO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJztcbmltcG9ydCB7IGRpcm5hbWUgfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuY29uc3QgX19kaXJuYW1lID0gZGlybmFtZShmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCkpO1xuZXhwb3J0IGNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xuICAgIGRpYWxlY3Q6IE1hcmlhRGJEaWFsZWN0LFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QsXG4gICAgdXNlcjogZGF0YWJhc2VFTlYuREJfVVNFUixcbiAgICBwYXNzd29yZDogZGF0YWJhc2VFTlYuREJfUEFTUyxcbiAgICBkYXRhYmFzZTogZGF0YWJhc2VFTlYuREJfTkFNRSxcbiAgICBwb3J0OiBkYXRhYmFzZUVOVi5EQl9QT1JULFxuICAgIHNzbDogZGF0YWJhc2VFTlYuREJfU1NMLFxuICAgIG1vZGVsczogYXdhaXQgaW1wb3J0TW9kZWxzKF9fZGlybmFtZSArICcvc3JjL3NlcnZlci9tb2RlbHMvKiovKi5tb2RlbC57dHMsanN9JyksXG59KTtcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXMvcm91dGVyJztcbmltcG9ydCB7IGxpbWl0ZXIgfSBmcm9tICcuL2F1dGgvaXBDb25maWcnO1xuaW1wb3J0IHsgZ2xvYmFsRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uICh7IGFwcCB9KSB7XG4gICAgYXBwLmdldCgnL3N0YXR1cycsIChfcmVxLCByZXMpID0+IHJlcy5zZW5kU3RhdHVzKDIwMCkuZW5kKCkpO1xuICAgIGFwcC51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgICAgICBpZiAoX3JlcS5tZXRob2QgPT09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9KTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbiAgICBhcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbiAgICBhcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbiAgICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgICBjb25zdCBUcnVzdF9Qcm94eSA9IGVudi5UUlVTVF9QUk9YWSB8fCAnZmFsc2UnO1xuICAgIGNvbnN0IG51bWJlck9mUHJveGllcyA9IGVudi5OVU1CRVJfT0ZfUFJPWElFUyB8fCAxO1xuICAgIGlmIChUcnVzdF9Qcm94eSkge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChUcnVzdF9Qcm94eSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgVHJ1c3RfUHJveHkpO1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIG51bWJlck9mUHJveGllcyk7XG4gICAgfVxuICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgbnVtYmVyT2ZQcm94aWVzKTtcbiAgICBhcHAuZ2V0KCcvaXAnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHJlc3BvbnNlLnNlbmQocmVxdWVzdC5pcCkpO1xuICAgIGFwcC51c2UoaGVsbWV0KHtcbiAgICAgICAgY29udGVudFNlY3VyaXR5UG9saWN5OiBmYWxzZSxcbiAgICB9KSk7XG4gICAgYXBwLnVzZShtb3JnYW4oZW52Lk1PUkdBTikpO1xuICAgIGFwcC51c2UobGltaXRlcik7XG4gICAgYXBwLnVzZShyb3V0ZXIpO1xuICAgIGFwcC51c2UoZ2xvYmFsRXJyb3JIYW5kbGVyKTtcbiAgICByZXR1cm4gYXBwO1xufVxuIiwiaW1wb3J0IGV4cHJlc3NMb2FkZXIgZnJvbSAnLi9leHByZXNzJztcbmltcG9ydCBzZXF1aWxpemVMb2FkZXIgZnJvbSAnLi9kYXRhTG9hZGVyL3NlcXVsaXplJztcbmltcG9ydCB7IHdhaXRGb3JEQiB9IGZyb20gJy4vZGF0YUxvYWRlci9tYXJpYWRiJztcbmltcG9ydCB7IHRydW5jYXRlVGFibGVzIH0gZnJvbSAnLi4vc2VydmljZXMvdHJ1bmNhdGUnO1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gKHsgYXBwIH0pIHtcbiAgICBhd2FpdCB0cnVuY2F0ZVRhYmxlcygpO1xuICAgIGF3YWl0IHdhaXRGb3JEQigpO1xuICAgIHNlcXVpbGl6ZUxvYWRlcjtcbiAgICBhd2FpdCBleHByZXNzTG9hZGVyKHsgYXBwIH0pO1xuICAgIGNvbnNvbGUubG9nKCdFeHByZXNzIFNlcnZlciBJbnRpYWxpemVkIScpO1xufVxuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24uanMnO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbC5qcyc7XG5pbXBvcnQgUG9zdHMgZnJvbSAnLi9wb3N0Lm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBJbWFnZVN0b3JhZ2VzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gZmluZCBhbiBpbWFnZSBieSBJRFxuICAgIHN0YXRpYyBhc3luYyBmaW5kSW1hZ2VCeUlkKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRCeVBrKGlkKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIGZpbmRJbWFnZUJ5UmVmZXJlbmNlS2V5KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlID0gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgICAgICB3aGVyZTogeyBba2V5XTogdmFsdWUgfSxcbiAgICAgICAgICAgICAgICBvcmRlcjogW1snY3JlYXRlZF9BdCcsICdBU0MnXV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBpbWFnZTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGZpbmRpbmcgaW1hZ2UgYnkgcmVmZXJlbmNlIGtleTogJHtrZXl9LCB2YWx1ZTogJHt2YWx1ZX1gLCBlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgdGhlIGVycm9yIGFmdGVyIGxvZ2dpbmcgaXRcbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIERlZmluZSB0aGUgSW1hZ2VTdG9yYWdlIG1vZGVsXG5JbWFnZVN0b3JhZ2VzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdXNlcl9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwb3N0X2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1Bvc3RzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGNyZWF0ZWRfQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxufSwge1xuICAgIHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdJbWFnZVN0b3JhZ2VzJyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbn0pO1xuLy8gRGVmaW5lIHRoZSBVc2VyIG1vZGVsXG5JbWFnZVN0b3JhZ2VzLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaW1hZ2VVcmw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgdXNlcl9pZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbiAgICBwb3N0X2lkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICByZWZlcmVuY2VzOiB7XG4gICAgICAgICAgICBtb2RlbDogJ1Bvc3RzJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ0ltYWdlU3RvcmFnZXMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxufSk7XG4vLyBjcmVhdGUgYSBob29rIHRoYXQgc2F2ZXMgdXBsb2FkZWQgaW1hZ2UgdG8gdGhlIHVzZXIncyBjb2x1bW5zIGluIHRoZSBkYXRhYmFzZVxuSW1hZ2VTdG9yYWdlcy5hZnRlckNyZWF0ZShhc3luYyAoaW1hZ2UpID0+IHtcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsoaW1hZ2UudXNlcl9pZCk7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdXNlci5pbWFnZVVSTCA9IGltYWdlLmltYWdlVXJsO1xuICAgICAgICBhd2FpdCB1c2VyLnNhdmUoKTtcbiAgICB9XG59KTtcbi8vIEFmdGVyIFVwbG9hZGluZyBhbiBpbWFnZSwgc2F2ZSB0byB1c2VyJ3MgdGFibGVcblVzZXJzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcblBvc3RzLmhhc01hbnkoSW1hZ2VTdG9yYWdlcywge1xuICAgIGZvcmVpZ25LZXk6ICdwb3N0X2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbi8vIERlZmluZSB0aGUgcmVsYXRpb25zaGlwIGJldHdlZW4gdGhlIFVzZXIsIE5ld1Bvc3QsIGFuZCBJbWFnZVN0b3JhZ2UgbW9kZWxzXG5JbWFnZVN0b3JhZ2VzLmJlbG9uZ3NUbyhVc2Vycywge1xuICAgIGZvcmVpZ25LZXk6ICd1c2VyX2lkJyxcbiAgICBvbkRlbGV0ZTogJ0NBU0NBREUnLFxuICAgIG9uVXBkYXRlOiAnQ0FTQ0FERScsXG59KTtcbkltYWdlU3RvcmFnZXMuYmVsb25nc1RvKFBvc3RzLCB7XG4gICAgZm9yZWlnbktleTogJ3Bvc3RfaWQnLFxuICAgIG9uRGVsZXRlOiAnQ0FTQ0FERScsXG4gICAgb25VcGRhdGU6ICdDQVNDQURFJyxcbn0pO1xuLy8gc3luYyB0aGUgSW1hZ2VTdG9yYWdlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGFsdGVyOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IEltYWdlIHN5bmNlZCBzdWNjZXNzZnVsbHknKTtcbn0pXG4gICAgLmNhdGNoKGVyciA9PiB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc3luY2luZyBuZXcgaW1hZ2U6JywgZXJyKTtcbn0pO1xuLy8gSW1hZ2VTdG9yYWdlLnN5bmMoeyBmb3JjZTogdHJ1ZSB9KVxuLy8gICAudGhlbigoKSA9PiB7XG4vLyAgICAgY29uc29sZS5sb2coJ0ltYWdlU3RvcmFnZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4vLyAgIH0pXG4vLyAgIC5jYXRjaChlcnIgPT4ge1xuLy8gICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgSW1hZ2VTdG9yYWdlOicsIGVycik7XG4vLyAgIH0pO1xuZXhwb3J0IGRlZmF1bHQgSW1hZ2VTdG9yYWdlcztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbmltcG9ydCBVc2VycyBmcm9tICcuL3VzZXIubW9kZWwuanMnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFBvc3RzIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGNyZWF0ZSBhIHN0YXRpYyBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IHBvc3RcbiAgICBzdGF0aWMgYXN5bmMgY3JlYXRlUG9zdChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICB9XG4gICAgc3RhdGljIGFzeW5jIHVwZGF0ZVBvc3QoaWQsIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgY29uc3QgW2FmZmVjdGVkQ291bnQsIHVwZGF0ZWRQb3N0c10gPSBhd2FpdCB0aGlzLnVwZGF0ZShhdHRyaWJ1dGVzLCB7XG4gICAgICAgICAgICB3aGVyZTogeyBpZCB9LFxuICAgICAgICAgICAgcmV0dXJuaW5nOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdO1xuICAgIH1cbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCBwb3N0IGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIGdldFBvc3RCeUlEKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBpZDogaWQgfSB9KTtcbiAgICB9XG59XG4vLyBTeW5jIHRoZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuUG9zdHMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBjYXB0aW9uOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBsaWtlc19Db3VudDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRlZF9BdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxuICAgIH0sXG4gICAgY3JlYXRvcl9JZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VycycsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnUG9zdHMnLFxuICAgIHRpbWVzdGFtcHM6IGZhbHNlLFxufSk7XG4vLyBDcmVhdGUgbmV3IHBvc3RcblBvc3RzLmNyZWF0ZVBvc3QgPSBhc3luYyBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG5ld1Bvc3QgPSBhd2FpdCB0aGlzLmNyZWF0ZShhdHRyaWJ1dGVzKTtcbiAgICAgICAgcmV0dXJuIG5ld1Bvc3Q7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjcmVhdGluZyBuZXcgcG9zdDonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG4vLyBVcGRhdGUgcG9zdCBieSBJRFxuUG9zdHMudXBkYXRlUG9zdCA9IGFzeW5jIGZ1bmN0aW9uIChpZCwgYXR0cmlidXRlcykge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFthZmZlY3RlZENvdW50LCB1cGRhdGVkUG9zdHNdID0gYXdhaXQgdGhpcy51cGRhdGUoYXR0cmlidXRlcywge1xuICAgICAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgICAgIHJldHVybmluZzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbYWZmZWN0ZWRDb3VudCwgdXBkYXRlZFBvc3RzXTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHBvc3Q6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuLy8gRGVmaW5lIHRoZSByZWxhdGlvbnNoaXAgYmV0d2VlbiB0aGUgVXNlciBhbmQgUG9zdCBtb2RlbHNcblVzZXJzLmhhc01hbnkoUG9zdHMsIHtcbiAgICBmb3JlaWduS2V5OiAnY3JlYXRvcl9JZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG5Qb3N0cy5iZWxvbmdzVG8oVXNlcnMsIHtcbiAgICBmb3JlaWduS2V5OiAnY3JlYXRvcl9JZCcsXG4gICAgb25EZWxldGU6ICdDQVNDQURFJyxcbiAgICBvblVwZGF0ZTogJ0NBU0NBREUnLFxufSk7XG5hd2FpdCBzZXF1ZWxpemVcbiAgICAuc3luYyh7IGFsdGVyOiBmYWxzZSB9KVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnUG9zdCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgUG9zdDonLCBlcnIpO1xufSk7XG5leHBvcnQgZGVmYXVsdCBQb3N0cztcbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBVc2VycyBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBkZWNsYXJlIHN0YXRpYyBtZXRob2RzIHRvIGdldCB1c2VyIGJ5IElEXG4gICAgc3RhdGljIGFzeW5jIGdldFVzZXJCeUlEKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBpZDogaWQgfSB9KTtcbiAgICB9XG59XG4vLyBTeW5jIHRoZSBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuVXNlcnMuaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBmaXJzdE5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgbGFzdE5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgdXNlcm5hbWU6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgaXM6IC9eW2EtekEtWjAtOV9dKiQvLFxuICAgICAgICAgICAgbGVuOiBbMywgMjBdLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgdW5pcXVlOiB0cnVlLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgaXNFbWFpbDogdHJ1ZSxcbiAgICAgICAgICAgIGxlbjogWzUsIDUwXSxcbiAgICAgICAgICAgIG5vdEVtcHR5OiB0cnVlLFxuICAgICAgICB9LFxuICAgIH0sXG4gICAgaGFzaGVkcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyg2NCksXG4gICAgfSxcbiAgICBzdGF0dXM6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAndW52ZXJpZmllZCcsXG4gICAgfSxcbiAgICBiaW86IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnVGhpcyBpcyBhIG5ldyB1c2VyLicsXG4gICAgfSxcbiAgICBqb2luOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbiAgICBhdmF0YXJVcmw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICB9LFxuICAgIGltYWdlVVJMOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgfSxcbiAgICBwcm9maWxlUGljOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBkZWZhdWx0VmFsdWU6ICdOZXcgVXNlcicsXG4gICAgfSxcbiAgICBsYXN0X2FjdGl2aXR5OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbiAgICB1cGRhdGVkX2F0OiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5EQVRFLFxuICAgICAgICBkZWZhdWx0VmFsdWU6IERhdGFUeXBlcy5OT1csXG4gICAgfSxcbiAgICBVc2VyUmVnaXN0cmF0aW9uSUQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlVVSUQsXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcbiAgICAgICAgcmVmZXJlbmNlczoge1xuICAgICAgICAgICAgbW9kZWw6ICdVc2VyUmVnaXN0cmF0aW9uJyxcbiAgICAgICAgICAgIGtleTogJ2lkJyxcbiAgICAgICAgfSxcbiAgICB9LFxufSwge1xuICAgIHNlcXVlbGl6ZSxcbiAgICBtb2RlbE5hbWU6ICdVc2VycycsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgdXBkYXRlZEF0OiAndXBkYXRlZF9hdCcsXG59KTtcbi8vIFN5bmMgVXNlciBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIG5ldyB1c2VyOicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFVzZXJzO1xuIiwiaW1wb3J0IHsgRGF0YVR5cGVzLCBNb2RlbCB9IGZyb20gJ3NlcXVlbGl6ZSc7XG5pbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24nO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHQnO1xuaW1wb3J0IHsgZ2VuZXJhdGVBdmF0YXJVcmwgfSBmcm9tICcuLi91dGlscy9hdmF0YXInO1xuaW1wb3J0IFVzZXJzIGZyb20gJy4vdXNlci5tb2RlbCc7XG4vLyBEZWZpbmUgSW5zdGFuY2Ugb2YgU2VxdWVsaXplXG5jb25zdCBzZXF1ZWxpemUgPSBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpO1xuY2xhc3MgVXNlclJlZ2lzdHJhdGlvbiBleHRlbmRzIE1vZGVsIHtcbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGxvZyBpbiB1c2VyIHVwb24gc3VjY2Vzc2Z1bCByZWdpc3RyYXRpb25cbiAgICBzdGF0aWMgYXN5bmMgbG9naW5Vc2VyKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCwgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIGxvZyBvdXQgdXNlclxuICAgIHN0YXRpYyBhc3luYyBsb2dvdXRVc2VyKGVtYWlsKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYSBzdGF0aWMgbWV0aG9kIHRvIHJlc2V0IHRoZSBwYXNzd29yZCwgY29tcGFyZSB0aGUgaGFzaGVkIHBhc3N3b3JkXG4gICAgc3RhdGljIGFzeW5jIHJlc2V0UGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmZpbmRPbmUoe1xuICAgICAgICAgICAgd2hlcmU6IHsgZW1haWw6IGVtYWlsLCBoYXNoZWRwYXNzd29yZDogcGFzc3dvcmQgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuVXNlclJlZ2lzdHJhdGlvbi5pbml0KHtcbiAgICBpZDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuSU5URUdFUixcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICB9LFxuICAgIG5ld1VzZXI6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBlbWFpbDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgaGFzaGVkcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG59LCB7XG4gICAgc2VxdWVsaXplOiBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnVXNlclJlZ2lzdHJhdGlvbicsXG4gICAgY3JlYXRlZEF0OiAnY3JlYXRlZEF0JyxcbiAgICB0aW1lc3RhbXBzOiBmYWxzZSxcbiAgICBmcmVlemVUYWJsZU5hbWU6IHRydWUsXG59KTtcbi8vIEhhc2ggdGhlIHBhc3N3b3JkIGJlZm9yZSBzYXZpbmdcblVzZXJSZWdpc3RyYXRpb24uYmVmb3JlQ3JlYXRlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApO1xuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChTdHJpbmcodXNlci5oYXNoZWRwYXNzd29yZCksIHNhbHQpO1xuICAgICAgICAgICAgdXNlci5oYXNoZWRwYXNzd29yZCA9IGhhc2hlZFBhc3N3b3JkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYXNoaW5nIHBhc3N3b3JkOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBoYXNoaW5nIHBhc3N3b3JkJyk7XG4gICAgfVxufSk7XG5Vc2VyUmVnaXN0cmF0aW9uLmFmdGVyQ3JlYXRlKGFzeW5jICh1c2VyKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNwYWNlSW5kZXggPSB1c2VyLm5ld1VzZXI/Lmxhc3RJbmRleE9mKCcgJyk7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IHRoZSBmaXJzdCBuYW1lIGFuZCBsYXN0IG5hbWUgYmFzZWQgb24gdGhlIGxhc3Qgc3BhY2VcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0X05hbWUgPSBzcGFjZUluZGV4ICE9PSAtMSA/IHVzZXIubmV3VXNlcj8uc2xpY2UoMCwgc3BhY2VJbmRleCkgOiB1c2VyLm5ld1VzZXI7XG4gICAgICAgICAgICBjb25zdCBsYXN0TmFtZSA9IHNwYWNlSW5kZXggIT09IC0xID8gdXNlci5uZXdVc2VyPy5zbGljZShzcGFjZUluZGV4ID8/ICsxKSA6IG51bGwgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBhdmF0YXIgPSBnZW5lcmF0ZUF2YXRhclVybCh1c2VyLnVzZXJuYW1lKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBvciB1cGRhdGUgdGhlIHVzZXIgcmVjb3JkIGluIHRoZSBVc2VycyB0YWJsZVxuICAgICAgICAgICAgYXdhaXQgVXNlcnMudXBzZXJ0KHtcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiB1c2VyLmhhc2hlZHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3VudmVyaWZpZWQnLFxuICAgICAgICAgICAgICAgIGJpbzogJ0kgYW0gYSBuZXcgdXNlci4nLFxuICAgICAgICAgICAgICAgIGpvaW46IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgYXZhdGFyVXJsOiBhdmF0YXIsXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IG51bGwsXG4gICAgICAgICAgICAgICAgcHJvZmlsZVBpYzogbnVsbCxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05ldyBVc2VyJyxcbiAgICAgICAgICAgICAgICBsYXN0X2FjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgVXNlclJlZ2lzdHJhdGlvbklEOiB1c2VyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG5ldyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciByZWdpc3RlcmluZyBuZXcgdXNlcicpO1xuICAgIH1cbn0pO1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dpbiB1c2VyIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkIGFuZCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcblVzZXJSZWdpc3RyYXRpb24ubG9naW5Vc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbDogZW1haWwgfSB9KTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5oYXNoZWRwYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAoYXV0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGVtYWlsJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgaW4gdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dvdXQgdXNlclxuVXNlclJlZ2lzdHJhdGlvbi5sb2dvdXRVc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBvdXQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgUmVnaXN0ZXJlZCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlclJlZ2lzdHJhdGlvbjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgeyBjb3JPcHRpb25zIH0gZnJvbSAnLi4vY29uZmlnL2Nvck9wdGlvbnMnO1xuaW1wb3J0ICogYXMgYXV0aENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoY29yT3B0aW9ucykpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvcmVnaXN0ZXInLCBhdXRoQ29udHJvbGxlci51c2VyUmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hcGkvbG9naW4nLCBhdXRoQ29udHJvbGxlci51c2VyTG9naW4pO1xucm91dGVyLmdldCgnL2FwaS9sb2dvdXQnLCBhdXRoQ29udHJvbGxlci51c2VyTG9nb3V0KTtcbnJvdXRlci5wb3N0KCcvYXBpL3JlZnJlc2gtdG9rZW4nLCBhdXRoQ29udHJvbGxlci5yZWZyZXNoVG9rZW4pO1xucm91dGVyLmdldCgnL2FwaS9jdXJyZW50VXNlcicsIGF1dGhDb250cm9sbGVyLnJlcXVpcmVBdXRoKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCB7IHZlcmlmeVVzZXIgfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvdXNlckF1dGgnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuZG90ZW52LmNvbmZpZygpO1xucm91dGVyLnVzZShjb3JzKCkpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLmdldCgnL2FwaS9nZXRVc2VyJywgdmVyaWZ5VXNlciwgYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3InLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2Vycy5maW5kQnlQayhkZWNvZGVkVG9rZW4uaWQpO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiAnVXNlciBJRCBpcyByZXF1aXJlZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfSk7XG59KTtcbi8vIHJvdXRlci5nZXQoXG4vLyAgICcvYXBpL2dldFVzZXInLFxuLy8gICB2ZXJpZnlVc2VyLFxuLy8gICBhc3luYyAoX3JlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4vLyAgICAgaWYgKCFyZXMubG9jYWxzLnVzZXIpIHtcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuLy8gICAgIH1cbi8vICAgICB0cnkge1xuLy8gICAgICAgY29uc3QgdXNlciA9IHJlcy5sb2NhbHMudXNlciBhcyBVc2VyO1xuLy8gICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4vLyAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4vLyAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcicgfSk7XG4vLyAgICAgfVxuLy8gICAgIHJldHVybiBuZXh0KCk7XG4vLyAgIH0sXG4vLyApO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCB7IGNvck9wdGlvbnMgfSBmcm9tICcuLi9jb25maWcvY29yT3B0aW9ucyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHVwbG9hZCBmcm9tICcuLi9zZXJ2aWNlcy9tdWx0ZXIuY29uZmlnJztcbmltcG9ydCBnZXRJbWFnZVByZXZpZXdVcmwgZnJvbSAnLi4vY29udHJvbGxlcnMvaW1hZ2VDb250cm9sbGVyJztcbmltcG9ydCBJbWFnZVN0b3JhZ2VzIGZyb20gJy4uL21vZGVscy9pbWFnZS5tb2RlbCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgVXNlcnMgZnJvbSAnLi4vbW9kZWxzL3VzZXIubW9kZWwnO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5kb3RlbnYuY29uZmlnKCk7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuLy8gRW5hYmxlIENPUlMgZm9yIGFsbCByb3V0ZXNcbnJvdXRlci51c2UoY29ycyhjb3JPcHRpb25zKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIHJlcy5oZWFkZXIoJ2VuY29kaW5nJywgJ211bHRpcGFydC9mb3JtLWRhdGEnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvdXBsb2FkSW1hZ2UnLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZygnRmlsZSB1cGxvYWRlZDonLCByZXEuZmlsZSk7XG4gICAgICAgIC8vIE1vZGlmeSB0aGUgZmlsZSBwYXRoIHRvIHRoZSByZXF1aXJlZCBmb3JtYXRcbiAgICAgICAgY29uc3QgcmVsYXRpdmVQYXRoID0gYGFzc2V0cy9pbWFnZXMvJHtyZXEuZmlsZT8uZmlsZW5hbWV9YDtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGNvbnN0IHBvc3RfaWQgPSBwYXJzZUludChyZXEuYm9keS5wb3N0SWQsIDEwKTtcbiAgICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCwgYXN5bmMgKGVyciwgZGVjb2RlZFRva2VuKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyX2lkID0gZGVjb2RlZFRva2VuLmlkO1xuICAgICAgICAgICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlcnMuZmluZEJ5UGsodXNlcl9pZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGltYWdlUmVjb3JkID0gYXdhaXQgSW1hZ2VTdG9yYWdlcy5jcmVhdGUoe1xuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdXNlcl9pZCB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHBvc3RfaWQ6IHBvc3RfaWQgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX0F0OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIWltYWdlUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBlcnJvcjogJ0Vycm9yIGNyZWF0aW5nIGltYWdlIHJlY29yZCcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbWFnZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHknLFxuICAgICAgICAgICAgICAgIGltYWdlVXJsOiByZWxhdGl2ZVBhdGgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgaW1hZ2U6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xuICAgIH1cbn0pO1xucm91dGVyLmdldCgnL2FwaS9zZW5kSW1hZ2VVcmwnLCBnZXRJbWFnZVByZXZpZXdVcmwpO1xuZXhwb3J0IGRlZmF1bHQgcm91dGVyO1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgeyBjcmVhdGVQb3N0IH0gZnJvbSAnLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXInO1xuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcbnJvdXRlci51c2UoY29ycygpKTtcbnJvdXRlci51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICdodHRwOi8vbG9jYWxob3N0OjgwODAnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzJywgJ09yaWdpbiwgWC1SZXF1ZXN0ZWQtV2l0aCwgQ29udGVudC1UeXBlLCBBY2NlcHQnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFscycsICd0cnVlJyk7XG4gICAgbmV4dCgpO1xufSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbnJvdXRlci51c2UoY29va2llUGFyc2VyKCkpO1xucm91dGVyLnVzZShleHByZXNzLmpzb24oKSk7XG5yb3V0ZXIudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbi8vIENyZWF0ZSBhIG5ldyBwb3N0XG5yb3V0ZXIucG9zdCgnL2FwaS9jcmVhdGVQb3N0JywgY3JlYXRlUG9zdCk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQgYXV0aFJvdXRlcyBmcm9tICcuL2F1dGhSb3V0ZXMnO1xuaW1wb3J0IGN1cnJlbnRVc2VyUm91dGUgZnJvbSAnLi9jdXJyZW50VXNlclJvdXRlJztcbmltcG9ydCB1c2VyUm91dGVzIGZyb20gJy4vdXNlclJvdXRlcyc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHBvc3RSb3V0ZXMgZnJvbSAnLi9wb3N0Um91dGVzJztcbmltcG9ydCBpbWFnZVJvdXRlcyBmcm9tICcuL2ltYWdlUm91dGVzJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xuLy8gYXBwLnVzZShleHByZXNzLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvJywgKF9yZXEsIHJlcykgPT4ge1xuICAgIHJlcy5zZW5kKHtcbiAgICAgICAgc3RhdHVzOiBgJHtlbnYuTk9ERV9FTlZ9YCxcbiAgICAgICAgbWVzc2FnZTogYCR7ZW52LlJFU1BPTlNFX1NUQVRVU31gLFxuICAgICAgICBuYW1lOiBgJHtlbnYuQVBQX05BTUV9YCxcbiAgICB9KTtcbn0pO1xucm91dGVyLnVzZShhdXRoUm91dGVzKTtcbnJvdXRlci51c2UodXNlclJvdXRlcyk7XG5yb3V0ZXIudXNlKHBvc3RSb3V0ZXMpO1xucm91dGVyLnVzZShpbWFnZVJvdXRlcyk7XG5yb3V0ZXIudXNlKGN1cnJlbnRVc2VyUm91dGUpO1xuZXhwb3J0IHsgcm91dGVyIH07XG4iLCJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCB7IGdldEN1cnJlbnRVc2VyIH0gZnJvbSAnLi4vbG9hZGVycy9hdXRoL3VzZXJBdXRoJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvYXBpL2dldEN1cnJlbnRVc2VyJywgZ2V0Q3VycmVudFVzZXIsIGFzeW5jIChfcmVxLCByZXMpID0+IHtcbiAgICBpZiAoIXJlcy5sb2NhbHMudXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXNlciA9IHJlcy5sb2NhbHMudXNlcjtcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oeyB1c2VyIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcicgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgdmFsaWRhdGVNSU1FVHlwZSB9IGZyb20gJ3ZhbGlkYXRlLWltYWdlLXR5cGUnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbi8vIERlZmluZSBjdXN0b20gZGVzdGluYXRpb24gZGlyZWN0b3J5XG5jb25zdCB1cGxvYWREaXIgPSAnL2hvbWUvYmFic2RldnN5cy9hcHBWLTEvcHVibGljL2Fzc2V0cy9pbWFnZXMnO1xuLy8gRW5zdXJlIHRoZSBkaXJlY3RvcnkgZXhpc3RzXG5pZiAoIWZzLmV4aXN0c1N5bmModXBsb2FkRGlyKSkge1xuICAgIGZzLm1rZGlyU3luYyh1cGxvYWREaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xufVxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChfcmVxLCBfZmlsZSwgY2IpIHtcbiAgICAgICAgY2IobnVsbCwgdXBsb2FkRGlyKTtcbiAgICB9LFxuICAgIGZpbGVuYW1lOiBmdW5jdGlvbiAoX3JlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFlOSk7XG4gICAgICAgIGNiKG51bGwsIGZpbGUuZmllbGRuYW1lICsgJy0nICsgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSk7XG4gICAgfSxcbn0pO1xuLy8gQ2hlY2sgZmlsZSB0eXBlXG5jb25zdCB2YWxpZGF0ZU1pbWVUeXBlID0gYXN5bmMgKGZpbGUsIGNiKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IGF3YWl0IHZhbGlkYXRlTUlNRVR5cGUoZmlsZS5wYXRoLCB7XG4gICAgICAgICAgICBvcmlnaW5hbEZpbGVuYW1lOiBmaWxlLm9yaWdpbmFsbmFtZSxcbiAgICAgICAgICAgIGFsbG93TWltZVR5cGVzOiBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL3N2Zyt4bWwnXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGNiKG5ldyBFcnJvcignSW52YWxpZCBmaWxlIHR5cGUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2IobnVsbCwgdHJ1ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2YWxpZGF0aW5nIGZpbGUgdHlwZTonLCBlcnJvcik7XG4gICAgICAgIGNiKG5ldyBFcnJvcignRXJyb3IgdmFsaWRhdGluZyBmaWxlIHR5cGUnKSk7XG4gICAgfVxufTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7XG4gICAgc3RvcmFnZTogc3RvcmFnZSxcbiAgICBsaW1pdHM6IHsgZmlsZVNpemU6IDEwMDAwMDAwIH0sXG4gICAgZmlsZUZpbHRlcjogZnVuY3Rpb24gKF9yZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNvbnN0IGZpbGV0eXBlcyA9IC9qcGVnfGpwZ3xwbmd8c3ZnLztcbiAgICAgICAgY29uc3QgbWltZXR5cGUgPSBmaWxldHlwZXMudGVzdChmaWxlLm1pbWV0eXBlKTtcbiAgICAgICAgY29uc3QgZXh0bmFtZSA9IGZpbGV0eXBlcy50ZXN0KHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkudG9Mb3dlckNhc2UoKSk7XG4gICAgICAgIGlmIChtaW1ldHlwZSAmJiBleHRuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IobnVsbCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRhdGVNaW1lVHlwZShmaWxlLnBhdGgsIGNiKTtcbiAgICB9LFxufSk7XG5leHBvcnQgZGVmYXVsdCB1cGxvYWQ7XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4uL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1aWxpemVDb24uanMnO1xuaW1wb3J0IEltYWdlU3RvcmFnZXMgZnJvbSAnLi4vbW9kZWxzL2ltYWdlLm1vZGVsLmpzJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJ1bmNhdGVUYWJsZXMoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgc2VxdWVsaXplLnRyYW5zYWN0aW9uKGFzeW5jICh0cmFuc2FjdGlvbikgPT4ge1xuICAgICAgICAgICAgYXdhaXQgSW1hZ2VTdG9yYWdlcy50cnVuY2F0ZSh7IHRyYW5zYWN0aW9uIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc29sZS5sb2coJ1RhYmxlcyBoYXZlIGJlZW4gdHJ1bmNhdGVkLi4uJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB0cnVuY2F0aW5nIHRhYmxlczonLCBlcnJvcik7XG4gICAgfVxufVxuIiwiLy8gSW1wb3J0IG5lY2Vzc2FyeSBtb2R1bGVzXG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhIGhhc2ggZnJvbSBhIHN0cmluZ1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSGFzaChzdHIpIHtcbiAgICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShzdHIpLmRpZ2VzdCgnaGV4Jyk7XG59XG4vLyBGdW5jdGlvbiB0byBnZW5lcmF0ZSBhbiBhdmF0YXIgVVJMIGJhc2VkIG9uIHVzZXIgaW5pdGlhbHNcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZUF2YXRhclVybChuYW1lKSB7XG4gICAgLy8gRXh0cmFjdCB0aGUgaW5pdGlhbHMgZnJvbSB0aGUgdXNlcidzIG5hbWVcbiAgICBjb25zdCBpbml0aWFscyA9IG5hbWVcbiAgICAgICAgLnNwbGl0KCcgJylcbiAgICAgICAgLm1hcChwYXJ0ID0+IHBhcnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkpXG4gICAgICAgIC5qb2luKCcnKTtcbiAgICAvLyBVc2UgYSBzZXJ2aWNlIHRoYXQgZ2VuZXJhdGVzIGF2YXRhcnMgd2l0aCBpbml0aWFsc1xuICAgIGNvbnN0IHNpemUgPSAyMDA7IC8vIFNwZWNpZnkgdGhlIGRlc2lyZWQgc2l6ZSBvZiB0aGUgYXZhdGFyXG4gICAgY29uc3QgYmFja2dyb3VuZENvbG9yID0gJ3JhbmRvbSc7IC8vIFVzZSBhIHJhbmRvbSBiYWNrZ3JvdW5kIGNvbG9yXG4gICAgY29uc3QgdGV4dENvbG9yID0gJ2ZmZic7IC8vIFVzZSB3aGl0ZSB0ZXh0IGNvbG9yXG4gICAgY29uc3QgYmFzZVVybCA9IGBodHRwczovL3VpLWF2YXRhcnMuY29tL2FwaS8/bmFtZT0ke2VuY29kZVVSSUNvbXBvbmVudChpbml0aWFscyl9JnNpemU9JHtzaXplfSZiYWNrZ3JvdW5kPSR7YmFja2dyb3VuZENvbG9yfSZjb2xvcj0ke3RleHRDb2xvcn1gO1xuICAgIHJldHVybiBiYXNlVXJsO1xufVxuIiwiLy8gc3JjL2Vycm9ySGFuZGxlci50c1xuaW1wb3J0IHByb2Nlc3MgZnJvbSAnbm9kZTpwcm9jZXNzJztcbmltcG9ydCBmcyBmcm9tICdmcyc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnO1xuZXhwb3J0IGNvbnN0IGhhbmRsZUVycm9yID0gKGVyciwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIubWVzc2FnZSk7XG4gICAgLy8gSW5pdGlhbGl6ZSBlcnJvcnMgb2JqZWN0XG4gICAgbGV0IGVycm9ycyA9IHt9O1xuICAgIC8vIEhhbmRsZSBzcGVjaWZpYyBlcnJvcnMgY2FzZXNcbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ05ldyBVc2VyIHZhbGlkYXRpb24gZXJyb3InKSkge1xuICAgICAgICBlcnJvcnMgPSB7XG4gICAgICAgICAgICBuYW1lOiAnTmFtZSBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICB1c2VybmFtZTogJ3VzZXJuYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIGVtYWlsOiAnZW1haWwgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZCBpcyByZXF1aXJlZCcsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnVXNlclJlZ2lzdHJhdGlvbnMuZW1haWwnKSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSAnRW1haWwgaXMgYWxyZWFkeSByZWdpc3RlcmVkJztcbiAgICB9XG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdpbmNvcnJlY3QgZW1haWwnKSkge1xuICAgICAgICBlcnJvcnMuZW1haWwgPSAnZW1haWwgaXMgbm90IHJlZ2lzdGVyZWQnO1xuICAgIH1cbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ0luY29ycmVjdCBwYXNzd29yZCcpKSB7XG4gICAgICAgIGVycm9ycy5wYXNzd29yZCA9ICdwYXNzd29yZCBpcyBpbmNvcnJlY3QnO1xuICAgIH1cbiAgICAvLyBIYW5kbGUgU2VxdWVsaXplIHZhbGlkYXRpb24gZXJyb3JzXG4gICAgaWYgKGVyci5uYW1lID09PSAnU2VxdWVsaXplVmFsaWRhdGlvbkVycm9yJyAmJiBlcnIuZXJyb3IpIHtcbiAgICAgICAgZXJyb3JzID0gZXJyLmVycm9yLnJlZHVjZSgoYWNjLCBlcnJvcikgPT4ge1xuICAgICAgICAgICAgYWNjW2Vycm9yLnBhdGhdID0gZXJyb3IubWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICB9XG4gICAgcmVzLnN0YXR1cyhlcnIuY29kZSB8fCA1MDApLmpzb24oeyBlcnJvcnMgfSk7XG59O1xuLy8gRnVuY3Rpb24gdG8gbG9nIGVycm9ycyB0byBhIGZpbGVcbmZ1bmN0aW9uIGxvZ0Vycm9yVG9GaWxlKGVycikge1xuICAgIGNvbnN0IGxvZyA9IGAke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX0gLSAke2Vyci5tZXNzYWdlfVxcbiR7ZXJyLnN0YWNrfVxcbmA7XG4gICAgZnMuYXBwZW5kRmlsZVN5bmMoJ2Vycm9yLmxvZycsIGxvZyk7XG59XG5jb25zdCB1bmhhbmRsZWRSZWplY3Rpb25zID0gbmV3IE1hcCgpO1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQ6JywgcHJvbWlzZSwgJ3JlYXNvbjonLCByZWFzb24pO1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuc2V0KHByb21pc2UsIHJlYXNvbik7XG59KTtcbnByb2Nlc3Mub24oJ3JlamVjdGlvbkhhbmRsZWQnLCBwcm9taXNlID0+IHtcbiAgICB1bmhhbmRsZWRSZWplY3Rpb25zLmRlbGV0ZShwcm9taXNlKTtcbn0pO1xuLy8gR2xvYmFsIGVycm9yIGhhbmRsaW5nIG1pZGRsZXdhcmUgZm9yIEV4cHJlc3NcbmV4cG9ydCBmdW5jdGlvbiBnbG9iYWxFcnJvckhhbmRsZXIoZXJyLCBfcmVxLCByZXMsIG5leHQpIHtcbiAgICBsb2dFcnJvclRvRmlsZShlcnIpO1xuICAgIC8vIFNlbmQgZ2VuZXJpYyBlcnJvciByZXNwb25zZVxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnLFxuICAgIH0pO1xuICAgIG5leHQoZXJyKTtcbn1cbi8vIENhdGNoIHVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvbnNcbnByb2Nlc3Mub24oJ3VuaGFuZGxlZFJlamVjdGlvbicsIChyZWFzb24sIHByb21pc2UpID0+IHtcbiAgICBsb2dFcnJvclRvRmlsZShyZWFzb24pO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuaGFuZGxlZCBSZWplY3Rpb24gYXQ6JywgcHJvbWlzZSwgJ3JlYXNvbjonLCByZWFzb24pO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xuLy8gQ2F0Y2ggdW5jYXVnaHQgZXhjZXB0aW9uc1xucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7XG4gICAgbG9nRXJyb3JUb0ZpbGUoZXJyKTtcbiAgICBjb25zb2xlLmVycm9yKCdVbmNhdWdodCBFeGNlcHRpb246JywgZXJyKTtcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG59KTtcbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4ge1xuICAgIGZzLndyaXRlU3luYyhwcm9jZXNzLnN0ZGVyci5mZCwgYENhdWdodCBleGNlcHRpb246ICR7ZXJyfVxcbmAgKyBgRXhjZXB0aW9uIE9yaWdpbjogJHtvcmlnaW59XFxuYCk7XG59KTtcbnNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdUaGlzIHdpbGwgc3RpbGwgcnVuLicpO1xufSwgZW52LkVSUk9SX1RJTUVPVVQpO1xuZXhwb3J0IGRlZmF1bHQge1xuICAgIGdsb2JhbEVycm9ySGFuZGxlcixcbiAgICBoYW5kbGVFcnJvcixcbn07XG4iXSwibmFtZXMiOlsiY29yc1NjaGVtYUVOViIsImxvYWQiLCJDT1JTX09SSUdJTiIsIlN0cmluZyIsIkNPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUyIsIk51bWJlciIsIkNPUlNfQ1JFREVOVElBTFMiLCJCb29sZWFuIiwiQ09SU19NRVRIT0RTIiwib2siLCJjb3JzRU5WIiwiY29yT3B0aW9ucyIsIm9yaWdpbiIsIm1ldGhvZHMiLCJjcmVkZW50aWFscyIsIm9wdGlvbnNTdWNjZXNzU3RhdHVzIiwiZGF0YVNjaGVtYUVOViIsIkRCX0hPU1QiLCJEQl9QT1JUIiwiREJfVVNFUiIsIkRCX1BBU1MiLCJEQl9OQU1FIiwiREJfU09DS0VUX1BBVEgiLCJEQl9TT0NLRVRfVElNRU9VVCIsIkRCX0NPTVBSRVNTIiwiREJfREVCVUciLCJEQl9QRVJNSVRfTE9DQUxfSU5GSUxFIiwiREJfVFJBQ0UiLCJEQl9DSEVDS19EVVBMSUNBVEUiLCJEQl9TU0wiLCJEQl9TU0xfQ0EiLCJEQl9TU0xfS0VZIiwiREJfU1NMX0NFUlQiLCJEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMiLCJEQl9DT05ORUNUSU9OX1RJTUVPVVQiLCJkYXRhYmFzZUVOViIsImp3dFNjaGVtYUVOViIsIkpXVF9TRUNSRVQiLCJKV1RfRVhQSVJFU19JTiIsIkpXVF9SRUZSRVNIX1NFQ1JFVCIsIkpXVF9SRUZSRVNIX0VYUElSRVNfSU4iLCJKV1RfUkVGUkVTSF9NQVhfQUdFIiwiSldUX0FMR09SSVRITSIsIkpXVF9JU1NVRVIiLCJKV1RfTUFYX0FHRSIsIkpXVF9IVFRQX09OTFkiLCJKV1RfU0FNRV9TSVRFIiwiSldUX0NPT0tJRV9OQU1FIiwiSldUX1NFQ1VSRSIsImp3dEVOViIsImNyZWF0ZVBvc3QiLCJhc3luYyIsInJlcSIsInJlcyIsImNhcHRpb24iLCJsb2NhdGlvbiIsInRhZ3MiLCJib2R5IiwidG9rZW4iLCJjb29raWVzIiwiand0Iiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJlcnIiLCJkZWNvZGVkVG9rZW4iLCJjb25zb2xlIiwibG9nIiwidXNlcl9pZCIsImlkIiwidXNlciIsImZpbmRCeVBrIiwiaW1hZ2VSZWNvcmQiLCJmaW5kSW1hZ2VCeVJlZmVyZW5jZUtleSIsIm5ld1Bvc3QiLCJjcmVhdGUiLCJpbWFnZVVSTCIsImltYWdlVXJsIiwiY3JlYXRlZF9BdCIsIkRhdGUiLCJjcmVhdG9yX0lkIiwiZXJyb3IiLCJ1c2VyUmVnaXN0ZXIiLCJuYW1lIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiRXJyb3IiLCJmaW5kT25lIiwid2hlcmUiLCJuZXdVc2VyIiwiaGFzaGVkcGFzc3dvcmQiLCJjcmVhdGVkQXQiLCJjb29raWUiLCJodHRwT25seSIsIm1heEFnZSIsInNlY3VyZSIsInNhbWVTaXRlIiwidXNlckxvZ2luIiwibG9naW5Vc2VyIiwicmVmcmVzaFRva2VuIiwic2V0SGVhZGVyIiwibG9jYWxzIiwidXNlckxvZ291dCIsImFjY2Vzc1Rva2VuIiwidXNlcklkIiwibmV3VG9rZW4iLCJleHBpcmVzSW4iLCJhbGdvcml0aG0iLCJpc3N1ZXIiLCJyZXF1aXJlQXV0aCIsIm5leHQiLCJwcm9jZXNzIiwiZW52IiwiaW1hZ2UiLCJsaW1pdGVyIiwid2luZG93TXMiLCJSQVJFX0xJTUlUX1dJTkRPV19NUyIsIm1heCIsIk1BWCIsIlJBUkVfTElNSVRfTUVTU0FHRSIsInN0YXR1c0NvZGUiLCJSQVJFX0xJTUlUX0NPREUiLCJoYW5kbGVyIiwiX3JlcSIsImtleUdlbmVyYXRvciIsImlwIiwicmVwbGFjZSIsInNlbmQiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwiand0R2VuZXJhdG9yIiwicGF5bG9hZCIsImp3dFZlcmlmaWVyIiwiand0UmVmcmVzaCIsImdldEN1cnJlbnRVc2VyIiwidmVyaWZ5VXNlciIsIndhaXRGb3JEQiIsInNlcXVlbGl6ZSIsImF0dGVtcHRzIiwiYXV0aGVudGljYXRlIiwic3luYyIsImZvcmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZGJDb25maWciLCJEaWFsZWN0IiwiaG9zdCIsImRhdGFiYXNlIiwic29ja2V0UGF0aCIsInNvY2tldFRpbWVvdXQiLCJjb21wcmVzcyIsImRlYnVnIiwicGVybWl0TG9jYWxJbmZpbGUiLCJ0cmFjZSIsImNoZWNrRHVwbGljYXRlIiwiY29ubmVjdEF0dHJpYnV0ZXMiLCJKU09OIiwicGFyc2UiLCJjb25uZWN0aW9uVGltZW91dCIsInBvcnQiLCJzc2wiLCJkaWFsZWN0T3B0aW9ucyIsImNhIiwidG9TdHJpbmciLCJrZXkiLCJjZXJ0IiwiY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UiLCJTZXF1ZWxpemUiLCJkaWFsZWN0IiwiX19kaXJuYW1lIiwiZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJNYXJpYURiRGlhbGVjdCIsIm1vZGVscyIsImltcG9ydE1vZGVscyIsImFwcCIsImdldCIsInNlbmRTdGF0dXMiLCJlbmQiLCJ1c2UiLCJoZWFkZXIiLCJtZXRob2QiLCJleHRlbmRlZCIsIlRydXN0X1Byb3h5IiwiVFJVU1RfUFJPWFkiLCJudW1iZXJPZlByb3hpZXMiLCJOVU1CRVJfT0ZfUFJPWElFUyIsInNldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvbnRlbnRTZWN1cml0eVBvbGljeSIsIk1PUkdBTiIsIkltYWdlU3RvcmFnZXMiLCJNb2RlbCIsImZpbmRJbWFnZUJ5SWQiLCJ0aGlzIiwidmFsdWUiLCJvcmRlciIsImluaXQiLCJ0eXBlIiwiRGF0YVR5cGVzIiwiSU5URUdFUiIsInByaW1hcnlLZXkiLCJhdXRvSW5jcmVtZW50IiwiYWxsb3dOdWxsIiwiU1RSSU5HIiwicmVmZXJlbmNlcyIsIm1vZGVsIiwicG9zdF9pZCIsIkRBVEUiLCJkZWZhdWx0VmFsdWUiLCJOT1ciLCJtb2RlbE5hbWUiLCJ0aW1lc3RhbXBzIiwiYWZ0ZXJDcmVhdGUiLCJzYXZlIiwiaGFzTWFueSIsImZvcmVpZ25LZXkiLCJvbkRlbGV0ZSIsIm9uVXBkYXRlIiwiYmVsb25nc1RvIiwiYWx0ZXIiLCJ0aGVuIiwiY2F0Y2giLCJQb3N0cyIsImF0dHJpYnV0ZXMiLCJ1cGRhdGVQb3N0IiwiYWZmZWN0ZWRDb3VudCIsInVwZGF0ZWRQb3N0cyIsInVwZGF0ZSIsInJldHVybmluZyIsImdldFBvc3RCeUlEIiwibGlrZXNfQ291bnQiLCJVc2VycyIsImdldFVzZXJCeUlEIiwiZmlyc3ROYW1lIiwidmFsaWRhdGUiLCJub3RFbXB0eSIsImxhc3ROYW1lIiwidW5pcXVlIiwiaXMiLCJsZW4iLCJpc0VtYWlsIiwiYmlvIiwiam9pbiIsImF2YXRhclVybCIsInByb2ZpbGVQaWMiLCJsYWJlbCIsImxhc3RfYWN0aXZpdHkiLCJ1cGRhdGVkX2F0IiwiVXNlclJlZ2lzdHJhdGlvbklEIiwiVVVJRCIsInVwZGF0ZWRBdCIsIlVzZXJSZWdpc3RyYXRpb24iLCJsb2dvdXRVc2VyIiwicmVzZXRQYXNzd29yZCIsImZyZWV6ZVRhYmxlTmFtZSIsImJlZm9yZUNyZWF0ZSIsInNhbHQiLCJoYXNoZWRQYXNzd29yZCIsInNwYWNlSW5kZXgiLCJsYXN0SW5kZXhPZiIsImZpcnN0X05hbWUiLCJzbGljZSIsImF2YXRhciIsInVwc2VydCIsInJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJmaWxlIiwicmVsYXRpdmVQYXRoIiwiZmlsZW5hbWUiLCJwYXJzZUludCIsInBvc3RJZCIsIk5PREVfRU5WIiwiUkVTUE9OU0VfU1RBVFVTIiwiQVBQX05BTUUiLCJ1cGxvYWREaXIiLCJyZWN1cnNpdmUiLCJzdG9yYWdlIiwiZGVzdGluYXRpb24iLCJfZmlsZSIsImNiIiwidW5pcXVlU3VmZml4Iiwibm93IiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiZmllbGRuYW1lIiwib3JpZ2luYWxuYW1lIiwibGltaXRzIiwiZmlsZVNpemUiLCJmaWxlRmlsdGVyIiwiZmlsZXR5cGVzIiwibWltZXR5cGUiLCJ0ZXN0IiwiZXh0bmFtZSIsInRvTG93ZXJDYXNlIiwidmFsaWRhdGVNSU1FVHlwZSIsInBhdGgiLCJvcmlnaW5hbEZpbGVuYW1lIiwiYWxsb3dNaW1lVHlwZXMiLCJ2YWxpZGF0ZU1pbWVUeXBlIiwidHJ1bmNhdGVUYWJsZXMiLCJ0cmFuc2FjdGlvbiIsInRydW5jYXRlIiwiZ2VuZXJhdGVBdmF0YXJVcmwiLCJpbml0aWFscyIsInNwbGl0IiwibWFwIiwicGFydCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGFuZGxlRXJyb3IiLCJlcnJvcnMiLCJpbmNsdWRlcyIsInJlZHVjZSIsImFjYyIsImNvZGUiLCJsb2dFcnJvclRvRmlsZSIsInRvSVNPU3RyaW5nIiwic3RhY2siLCJ1bmhhbmRsZWRSZWplY3Rpb25zIiwiTWFwIiwiZ2xvYmFsRXJyb3JIYW5kbGVyIiwicmVhc29uIiwicHJvbWlzZSIsImRlbGV0ZSIsImZkIiwiRVJST1JfVElNRU9VVCJdLCJzb3VyY2VSb290IjoiIn0=