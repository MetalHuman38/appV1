"use strict";exports.id=545,exports.ids=[545],exports.modules={976:(e,s,t)=>{t.d(s,{v:()=>u});var r=t(613);const n=(0,t(546).load)({CORS_ORIGIN:String,CORS_OPTIONS_SUCCESS_STATUS:Number,CORS_CREDENTIALS:Boolean,CORS_METHODS:String}),{CORS_ORIGIN:a,CORS_OPTIONS_SUCCESS_STATUS:o,CORS_CREDENTIALS:i,CORS_METHODS:c}=n;r.strict.ok(a,"CORS origin should be present"),r.strict.ok(o,"CORS options success status should be present"),r.strict.ok(i,"CORS credentials should be present"),r.strict.ok(c,"CORS methods should be present");const l={CORS_ORIGIN:a,CORS_OPTIONS_SUCCESS_STATUS:o,CORS_CREDENTIALS:i,CORS_METHODS:c};t(818).config();const u={origin:l.CORS_ORIGIN,methods:l.CORS_METHODS,credentials:l.CORS_CREDENTIALS,optionsSuccessStatus:l.CORS_OPTIONS_SUCCESS_STATUS}},85:(e,s,t)=>{t.d(s,{L:()=>m});var r=t(613);const n=(0,t(546).load)({DB_HOST:String,DB_PORT:Number,DB_USER:String,DB_PASS:String,DB_NAME:String,DB_SOCKET_PATH:String,DB_SOCKET_TIMEOUT:Number,DB_COMPRESS:Boolean,DB_DEBUG:Boolean,DB_PERMIT_LOCAL_INFILE:Boolean,DB_TRACE:Boolean,DB_CHECK_DUPLICATE:Boolean,DB_SSL:Boolean,DB_SSL_CA:String,DB_SSL_KEY:String,DB_SSL_CERT:String,DB_CONNECTION_ATTRIBUTES:String,DB_CONNECTION_TIMEOUT:Number}),{DB_HOST:a,DB_PORT:o,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:u,DB_SOCKET_TIMEOUT:d,DB_COMPRESS:T,DB_DEBUG:E,DB_PERMIT_LOCAL_INFILE:_,DB_TRACE:S,DB_CHECK_DUPLICATE:h,DB_SSL:p,DB_SSL_CA:g,DB_SSL_KEY:R,DB_SSL_CERT:y,DB_CONNECTION_ATTRIBUTES:A,DB_CONNECTION_TIMEOUT:O}=n;r.strict.ok(a,"Database host should be present"),r.strict.ok(o,"Database port should be present"),r.strict.ok(i,"Database user should be present"),r.strict.ok(c,"Database password should be present"),r.strict.ok(l,"Database name should be present");const m={DB_HOST:a,DB_PORT:o,DB_USER:i,DB_PASS:c,DB_NAME:l,DB_SOCKET_PATH:u,DB_SOCKET_TIMEOUT:d,DB_COMPRESS:T,DB_DEBUG:E,DB_PERMIT_LOCAL_INFILE:_,DB_TRACE:S,DB_CHECK_DUPLICATE:h,DB_CONNECTION_ATTRIBUTES:A,DB_CONNECTION_TIMEOUT:O,DB_SSL:p,DB_SSL_CA:g,DB_SSL_KEY:R,DB_SSL_CERT:y}},101:(e,s,t)=>{t.d(s,{n:()=>p});var r=t(613);const n=(0,t(546).load)({JWT_SECRET:String,JWT_EXPIRES_IN:String,JWT_REFRESH_SECRET:String,JWT_REFRESH_EXPIRES_IN:String,JWT_REFRESH_MAX_AGE:Number,JWT_ALGORITHM:String,JWT_ISSUER:String,JWT_MAX_AGE:Number,JWT_HTTP_ONLY:Boolean,JWT_SAME_SITE:String,JWT_COOKIE_NAME:String,JWT_SECURE:Boolean}),{JWT_SECRET:a,JWT_EXPIRES_IN:o,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:u,JWT_ISSUER:d,JWT_MAX_AGE:T,JWT_HTTP_ONLY:E,JWT_SAME_SITE:_,JWT_COOKIE_NAME:S,JWT_SECURE:h}=n;r.strict.ok(a,"JWT secret should be present"),r.strict.ok(o,"JWT expires in should be present"),r.strict.ok(i,"JWT refresh secret should be present"),r.strict.ok(c,"JWT refresh expires in should be present"),r.strict.ok(u,"JWT algorithm should be present"),r.strict.ok(d,"JWT issuer should be present"),r.strict.ok(T,"JWT max age should be present"),r.strict.ok(E,"JWT http only should be present"),r.strict.ok(_,"JWT same site should be present"),r.strict.ok(S,"JWT cookie name should be present"),r.strict.ok(h,"JWT secure should be present"),r.strict.ok(l,"JWT refresh max age should be present");const p={JWT_SECRET:a,JWT_EXPIRES_IN:o,JWT_REFRESH_SECRET:i,JWT_REFRESH_EXPIRES_IN:c,JWT_REFRESH_MAX_AGE:l,JWT_ALGORITHM:u,JWT_ISSUER:d,JWT_MAX_AGE:T,JWT_HTTP_ONLY:E,JWT_SAME_SITE:_,JWT_COOKIE_NAME:S,JWT_SECURE:h}},24:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Be:()=>h,TU:()=>E,Ub:()=>S,oC:()=>p,pH:()=>_});var n=t(818),a=t.n(n),o=t(829),i=t.n(o),c=t(101),l=t(16),u=t(80),d=t(300),T=e([u]);u=(T.then?(await T)():T)[0],a().config();const E=async(e,s)=>{try{const{name:t,username:r,email:n,password:a}=e.body;if(!(t&&r&&n&&a))return(0,d.H4)(new Error("New User validation error"),s);if(await u.A.findOne({where:{email:n}}))return(0,d.H4)(new Error("UserRegistrations.email: User already exists "),s);const o=await u.A.create({newUser:t,username:r,email:n,hashedpassword:a,createdAt:new Date}),i=(0,l.Jj)({id:o.id});s.cookie("jwt",i,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(201).json({id:o.id,name:o.newUser,username:o.username,email:o.email,token:i})}catch(e){(0,d.H4)(e,s)}},_=async(e,s)=>{try{const{email:t,password:r}=e.body;if(!t||!r)return(0,d.H4)(new Error("Login Validation Error!"),s);const n=await u.A.loginUser(t,r);if(!n)throw new Error("User not found");const a=(0,l.Jj)({id:n.id}),o=(0,l.v3)({id:n.id});console.log("User logged in:",o),s.cookie("jwt",a,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.cookie("refreshToken",o,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.setHeader("Authorization",`Bearer ${a}`),s.locals.user=n,s.json({token:a,refreshToken:o,user:n.id})}catch(e){(0,d.H4)(e,s)}},S=async(e,s)=>{try{const t=e.cookies.jwt,r=e.cookies.refreshToken;if(!t&&!r)return void s.status(400).json({message:"No tokens provided!"});s.cookie("jwt","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.cookie("refreshToken","",{httpOnly:!0,secure:!0,sameSite:"lax",maxAge:1}),s.status(200).json({message:"User logged out"})}catch(e){(0,d.H4)(e,s)}},h=async(e,s)=>{const t=e.cookies.refreshToken;t?i().verify(t,c.n.JWT_REFRESH_SECRET,(async(e,t)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=t.id;if(console.log("User ID:",e),!e)return void s.status(400).json({message:"User ID is required"});const r=await u.A.findByPk(e);if(!r)return s.status(404).json({message:"User not found"});const n=i().sign({id:r.id},c.n.JWT_SECRET,{expiresIn:c.n.JWT_EXPIRES_IN,algorithm:c.n.JWT_ALGORITHM,issuer:c.n.JWT_ISSUER});s.cookie("jwt",n,{httpOnly:c.n.JWT_HTTP_ONLY,maxAge:1e3*c.n.JWT_REFRESH_MAX_AGE,secure:c.n.JWT_SECURE,sameSite:"lax"}),s.status(200).json({token:n,user:r.id})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}})):s.status(401).json({message:"Unauthorized"})},p=(e,s,t)=>{const r=e.cookies.jwt;r?(i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log(e.message),s.status(401).json({message:"Unauthorized"});const n=r.id,a=await u.A.findByPk(n);return a?(s.locals.user=a,t()):s.status(404).json({message:"User not found"})})),t()):s.status(401).json({message:"Unauthorized"})};r()}catch(e){r(e)}}))},785:(e,s,t)=>{t.d(s,{TA:()=>o});var r=t(763),n=t.n(r),a=t(469);const o=n()({windowMs:a._.RARE_LIMIT_WINDOW_MS,max:a._.MAX,message:a._.RARE_LIMIT_MESSAGE,statusCode:a._.RARE_LIMIT_CODE,handler:(e,s)=>{s.status(a._.RARE_LIMIT_CODE).json({message:a._.RARE_LIMIT_MESSAGE})},keyGenerator:async(e,s)=>e.ip?e.ip.replace(/:\d+[^:]*$/,""):(s.status(500).send({message:"Warning: request.ip is missing!"}),e.socket.remoteAddress)})},16:(e,s,t)=>{t.d(s,{Jj:()=>c,gH:()=>l,v3:()=>u});var r=t(818),n=t.n(r),a=t(829),o=t.n(a),i=t(101);n().config();const c=e=>{try{return o().sign(e,i.n.JWT_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}},l=e=>{try{return o().verify(e,i.n.JWT_SECRET)}catch(e){throw new Error("Error verifying JWT")}},u=e=>{try{return o().sign(e,i.n.JWT_REFRESH_SECRET,{algorithm:i.n.JWT_ALGORITHM,expiresIn:i.n.JWT_REFRESH_EXPIRES_IN,issuer:i.n.JWT_ISSUER})}catch(e){throw new Error("Error generating JWT")}}},51:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{FH:()=>E,HW:()=>T});var n=t(818),a=t.n(n),o=t(829),i=t.n(o),c=t(101),l=t(153),u=t(16),d=e([l]);l=(d.then?(await d)():d)[0],a().config();const T=async(e,s)=>{const t=e.cookies.token;if(!t)return s.status(401).json({message:"Unauthorized"});try{const e=(0,u.gH)(t).id;if(!e)return void s.status(400).json({message:"User ID is required"});const r=await l.A.findByPk(e);if(!r)return s.status(404).json({message:"User not found"});s.status(200).json(r)}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}return t},E=async(e,s,t)=>{try{const r=e.cookies.jwt;if(!r)return s.locals.user=null,t();i().verify(r,c.n.JWT_SECRET,(async(e,r)=>{if(e)return console.error("JWT verification error:",e.message),s.locals.user=null,t();try{const e=await l.A.findByPk(r.id);console.log("decodedToken:",r),s.locals.user=e||null}catch(e){console.error("Error retrieving user:",e),s.locals.user=null}t()}))}catch(e){console.error("Error verifying user:",e),s.locals.user=null,t()}};r()}catch(e){r(e)}}))},125:(e,s,t)=>{t.d(s,{r:()=>n});var r=t(128);async function n(){const e=(0,r.J)();let s=0;for(;s<10;)try{return await e.authenticate(),console.log("Database connection established, Starting Server....."),await e.sync({force:!0}),console.log("Drop and re-sync db."),e}catch(e){console.error("Database connection failed:",e),s++,await new Promise((e=>setTimeout(e,1e3)))}throw console.error("Max attempts reached, database connection failed"),new Error("Database connection failed")}},128:(e,s,t)=>{t.d(s,{J:()=>c});var r=t(31),n=t(85),a=t(643),o=t.n(a);const i={Dialect:"mariadb",host:n.L.DB_HOST||"localhost",username:n.L.DB_USER||"metalbrain",password:n.L.DB_PASS||"password",database:n.L.DB_NAME||"FindSomeOne",socketPath:n.L.DB_SOCKET_PATH||"/var/run/mysqld/mysqld.sock",socketTimeout:n.L.DB_SOCKET_TIMEOUT||1e3,compress:n.L.DB_COMPRESS||!1,debug:n.L.DB_DEBUG||!1,permitLocalInfile:n.L.DB_PERMIT_LOCAL_INFILE||!1,trace:n.L.DB_TRACE||!0,checkDuplicate:n.L.DB_CHECK_DUPLICATE||!1,connectAttributes:JSON.parse(n.L.DB_CONNECTION_ATTRIBUTES||"{}"),connectionTimeout:n.L.DB_CONNECTION_TIMEOUT||1e3,port:n.L.DB_PORT||3306,ssl:n.L.DB_SSL||!1,dialectOptions:{ssl:{ca:n.L.DB_SSL_CA?o().readFileSync(n.L.DB_SSL_CA).toString():"",key:n.L.DB_SSL_KEY?o().readFileSync(n.L.DB_SSL_KEY).toString():"",cert:n.L.DB_SSL_CERT?o().readFileSync(n.L.DB_SSL_CERT).toString():""}}};function c(){return new r.Sequelize(i.database,i.username,i.password,{host:i.host,dialect:i.Dialect,port:i.port,ssl:i.ssl,dialectOptions:i.dialectOptions})}},121:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>l});var n=t(423),a=t(520),o=t(136),i=t(760),c=t(85);const e=(0,i.dirname)((0,o.fileURLToPath)("file:///home/babsdevsys/appV-1/src/server/loaders/dataLoader/sequlize.ts")),l=new n.Sequelize({dialect:a.MariaDbDialect,host:c.L.DB_HOST,user:c.L.DB_USER,password:c.L.DB_PASS,database:c.L.DB_NAME,port:c.L.DB_PORT,ssl:c.L.DB_SSL,models:await(0,n.importModels)(e+"/src/server/models/**/*.model.{ts,js}")});r()}catch(e){r(e)}}),1)},633:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>R});var n=t(252),a=t.n(n),o=t(898),i=t.n(o),c=t(268),l=t.n(c),u=t(525),d=t.n(u),T=t(96),E=t.n(T),_=t(469),S=t(388),h=t(785),p=t(300),g=e([S]);async function R({app:e}){e.get("/status",((e,s)=>s.sendStatus(200).end())),e.use(((e,s,t)=>(s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),"OPTIONS"===e.method?s.sendStatus(204):t()))),e.use(l().urlencoded({extended:!0})),e.use(a().json()),e.use(a().urlencoded({extended:!0})),e.use(i()()),e.use(l().json());const s=_._.TRUST_PROXY||"false",t=_._.NUMBER_OF_PROXIES||1;return s?e.set("trust proxy",!0):"false"===s?e.set("trust proxy",!1):(e.set("trust proxy",s),e.set("trust proxy",t)),e.set("trust proxy",t),e.get("/ip",((e,s)=>s.send(e.ip))),e.use(d()({contentSecurityPolicy:!1})),e.use(E()(_._.MORGAN)),e.use(h.TA),e.use(S.Q),e.use(p.sh),e}S=(g.then?(await g)():g)[0],r()}catch(y){r(y)}}))},545:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.r(s),t.d(s,{default:()=>c});var n=t(633),a=t(121),o=t(125),i=e([n,a]);async function c({app:e}){await(0,o.r)(),a.A,await(0,n.A)({app:e}),console.log("Express Intialized!")}[n,a]=i.then?(await i)():i,r()}catch(l){r(l)}}))},153:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>o});var n=t(31);const e=(0,t(128).J)();class a extends n.Model{static async getUserByID(e){return await this.findOne({where:{id:e}})}}a.init({id:{type:n.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},firstName:{type:n.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},lastName:{type:n.DataTypes.STRING,allowNull:!1,validate:{notEmpty:!0}},username:{type:n.DataTypes.STRING,allowNull:!1,unique:!0,validate:{is:/^[a-zA-Z0-9_]*$/,len:[3,20]}},email:{type:n.DataTypes.STRING,unique:!0,allowNull:!1,validate:{isEmail:!0,len:[5,50],notEmpty:!0}},hashedpassword:{type:n.DataTypes.STRING(64)},status:{type:n.DataTypes.STRING,allowNull:!1,defaultValue:"unverified"},bio:{type:n.DataTypes.STRING,defaultValue:"This is a new user."},join:{type:n.DataTypes.DATE,defaultValue:n.DataTypes.NOW},avatarUrl:{type:n.DataTypes.STRING},imageURL:{type:n.DataTypes.STRING},profilePic:{type:n.DataTypes.STRING},label:{type:n.DataTypes.STRING,defaultValue:"New User"},last_activity:{type:n.DataTypes.DATE,defaultValue:n.DataTypes.NOW},updated_at:{type:n.DataTypes.DATE,defaultValue:n.DataTypes.NOW},UserRegistrationID:{type:n.DataTypes.UUID,allowNull:!0,references:{model:"UserRegistration",key:"id"}}},{sequelize:e,modelName:"User",timestamps:!1,updatedAt:"updated_at"}),await e.sync().then((()=>{console.log("New User synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const o=a;r()}catch(e){r(e)}}),1)},80:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>E});var n=t(31),a=t(128),o=t(486),i=t.n(o),c=t(635),l=t(153),u=e([l]);l=(u.then?(await u)():u)[0];const d=(0,a.J)();class T extends n.Model{static async loginUser(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}static async logoutUser(e){return await this.findOne({where:{email:e}})}static async resetPassword(e,s){return await this.findOne({where:{email:e,hashedpassword:s}})}}T.init({id:{type:n.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},newUser:{type:n.DataTypes.STRING,allowNull:!1},username:{type:n.DataTypes.STRING,allowNull:!1},email:{type:n.DataTypes.STRING,allowNull:!1},hashedpassword:{type:n.DataTypes.STRING,allowNull:!1},createdAt:{type:n.DataTypes.DATE,allowNull:!1,defaultValue:n.DataTypes.NOW}},{sequelize:d,modelName:"UserRegistration",createdAt:"createdAt",timestamps:!1,freezeTableName:!0}),T.beforeCreate((async e=>{try{if(e){const s=i().genSaltSync(10),t=await i().hash(String(e.hashedpassword),s);e.hashedpassword=t}}catch(e){throw console.error("Error hashing password:",e),new Error("Error hashing password")}})),T.afterCreate((async e=>{try{if(e){const s=e.newUser?.lastIndexOf(" "),t=-1!==s?e.newUser?.slice(0,s):e.newUser,r=-1!==s?e.newUser?.slice(s??1):"",n=(0,c.q)(e.username);await l.A.upsert({firstName:t,lastName:r,username:e.username,email:e.email,hashedpassword:e.hashedpassword,status:"unverified",bio:"I am a new user.",join:new Date,avatarUrl:n,imageURL:null,profilePic:null,label:"New User",last_activity:new Date,updated_at:new Date,UserRegistrationID:e.id})}}catch(e){throw console.error("Error registering new user:",e),new Error("Error registering new user")}})),T.loginUser=async function(e,s){try{const t=await this.findOne({where:{email:e}});if(t){if(await i().compare(s,t.hashedpassword))return t;throw new Error("Incorrect password")}throw new Error("Incorrect email")}catch(e){throw console.error("Error logging in user:",e),new Error("User not found")}},T.logoutUser=async function(e){try{return await this.findOne({where:{email:e}})}catch(e){throw console.error("Error logging out user:",e),new Error("User not found")}},await d.sync().then((()=>{console.log("New User Registered synced successfully")})).catch((e=>{console.error("Error syncing new user:",e)}));const E=T;r()}catch(e){r(e)}}),1)},317:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>h});var n=t(252),a=t.n(n),o=t(577),i=t.n(o),c=t(976),l=t(24),u=t(268),d=t.n(u),T=t(898),E=t.n(T),_=e([l]);l=(_.then?(await _)():_)[0];const S=a().Router();S.use(i()(c.v)),S.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),S.use(d().urlencoded({extended:!0})),S.use(E()()),S.use(a().json()),S.use(d().json()),S.post("/api/register",l.TU),S.post("/api/login",l.pH),S.get("/api/logout",l.Ub),S.post("/api/refresh-token",l.Be),S.get("/api/currentUser",l.oC);const h=S;r()}catch(e){r(e)}}))},10:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>A});var n=t(818),a=t.n(n),o=t(252),i=t.n(o),c=t(577),l=t.n(c),u=t(153),d=t(268),T=t.n(d),E=t(898),_=t.n(E),S=t(51),h=t(829),p=t.n(h),g=t(101),R=e([u,S]);[u,S]=R.then?(await R)():R;const y=i().Router();a().config(),y.use(l()()),y.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),y.use(T().urlencoded({extended:!0})),y.use(_()()),y.use(i().json()),y.use(T().json()),y.get("/api/getUser",S.FH,(async(e,s,t)=>{const r=e.cookies.jwt;r?p().verify(r,g.n.JWT_SECRET,(async(e,r)=>{if(e)return console.log("JWT verification error",e.message),void s.status(401).json({message:"Unauthorized Invalid Token"});try{const e=await u.A.findByPk(r.id);if(!e)return void s.status(400).json({message:"User ID is required"});s.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}return t()})):s.status(401).json({message:"Unauthorized"})}));const A=y;r()}catch(e){r(e)}}))},388:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{Q:()=>S});var n=t(252),a=t.n(n),o=t(469),i=t(317),c=t(10),l=t(704),u=t(268),d=t.n(u),T=t(898),E=t.n(T),_=e([i,c,l]);[i,c,l]=_.then?(await _)():_;const S=a().Router();S.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),S.use(d().urlencoded({extended:!0})),S.use(E()()),S.use(a().json()),S.use(d().json()),S.get("/",((e,s)=>{s.send({status:`${o._.NODE_ENV}`,message:`${o._.RESPONSE_STATUS}`,name:`${o._.APP_NAME}`})})),S.use(i.A),S.use(l.A),S.use(c.A),r()}catch(e){r(e)}}))},704:(e,s,t)=>{t.a(e,(async(e,r)=>{try{t.d(s,{A:()=>S});var n=t(252),a=t.n(n),o=t(577),i=t.n(o),c=t(268),l=t.n(c),u=t(898),d=t.n(u),T=t(51),E=e([T]);T=(E.then?(await E)():E)[0];const _=a().Router();_.use(i()()),_.use(((e,s,t)=>{s.header("Access-Control-Allow-Origin","http://localhost:8080"),s.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),s.header("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.header("Access-Control-Allow-Credentials","true"),t()})),_.use(l().urlencoded({extended:!0})),_.use(d()()),_.use(a().json()),_.use(l().json()),_.get("/api/getCurrentUser",T.HW,(async(e,s)=>{if(!s.locals.user)return s.status(401).json({message:"Unauthorized"});try{const e=s.locals.user;s.status(200).json({user:e})}catch(e){console.error("Error getting current user:",e),s.status(500).json({message:"Error getting current user"})}return s}));const S=_;r()}catch(e){r(e)}}))},635:(e,s,t)=>{function r(e){const s=e.split(" ").map((e=>e.charAt(0).toUpperCase())).join("");return`https://ui-avatars.com/api/?name=${encodeURIComponent(s)}&size=200&background=random&color=fff`}t.d(s,{q:()=>r}),t(982)},300:(e,s,t)=>{t.d(s,{H4:()=>c,sh:()=>d});var r=t(708),n=t.n(r),a=t(896),o=t.n(a),i=t(469);const c=(e,s)=>{console.error(e.message);let t={};e.message.includes("New User validation error")&&(t={name:"Name is required",username:"username is required",email:"email is required",password:"password is required"}),e.message.includes("UserRegistrations.email")&&(t.email="Email is already registered"),e.message.includes("incorrect email")&&(t.email="email is not registered"),e.message.includes("Incorrect password")&&(t.password="password is incorrect"),"SequelizeValidationError"===e.name&&e.error&&(t=e.error.reduce(((e,s)=>(e[s.path]=s.message,e)),{})),s.status(e.code||500).json({errors:t})};function l(e){const s=`${(new Date).toISOString()} - ${e.message}\n${e.stack}\n`;o().appendFileSync("error.log",s)}const u=new Map;function d(e,s,t,r){l(e),t.status(500).json({message:"An unexpected error occurred"}),r(e)}n().on("unhandledRejection",((e,s)=>{console.error("Unhandled Rejection at:",s,"reason:",e),u.set(s,e)})),n().on("rejectionHandled",(e=>{u.delete(e)})),n().on("unhandledRejection",((e,s)=>{l(e),console.error("Unhandled Rejection at:",s,"reason:",e),n().exit(1)})),n().on("uncaughtException",(e=>{l(e),console.error("Uncaught Exception:",e),n().exit(1)})),n().on("uncaughtException",(e=>{o().writeSync(n().stderr.fd,`Caught exception: ${e}\nException Origin: ${origin}\n`)})),setTimeout((()=>{console.log("This will still run.")}),i._.ERROR_TIMEOUT)}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQ1LmJ1bmRsZS5qcyIsIm1hcHBpbmdzIjoiMkdBRUEsTUFBTUEsR0FBZ0IsRSxPQUFBQyxNQUFLLENBRXZCQyxZQUFhQyxPQUNiQyw0QkFBNkJDLE9BQzdCQyxpQkFBa0JDLFFBQ2xCQyxhQUFjTCxVQUdaLFlBQUVELEVBQVcsNEJBQUVFLEVBQTJCLGlCQUFFRSxFQUFnQixhQUFFRSxHQUFrQlIsRUFFdEYsU0FBT1MsR0FBR1AsRUFBYSxpQ0FDdkIsU0FBT08sR0FBR0wsRUFBNkIsaURBQ3ZDLFNBQU9LLEdBQUdILEVBQWtCLHNDQUM1QixTQUFPRyxHQUFHRCxFQUFjLGtDQUVqQixNQUFNRSxFQUFVLENBQ25CUixjQUNBRSw4QkFDQUUsbUJBQ0FFLGdCQ3BCSixnQkFFQSxNQUFNRyxFQUFhLENBQ2ZDLE9BQVFGLEVBQVFSLFlBQ2hCVyxRQUFTSCxFQUFRRixhQUNqQk0sWUFBYUosRUFBUUosaUJBQ3JCUyxxQkFBc0JMLEVBQVFOLDRCLDZDQ0xsQyxNQUFNWSxHQUFnQixFLE9BQUFmLE1BQUssQ0FFdkJnQixRQUFTZCxPQUNUZSxRQUFTYixPQUNUYyxRQUFTaEIsT0FDVGlCLFFBQVNqQixPQUNUa0IsUUFBU2xCLE9BQ1RtQixlQUFnQm5CLE9BQ2hCb0Isa0JBQW1CbEIsT0FDbkJtQixZQUFhakIsUUFDYmtCLFNBQVVsQixRQUNWbUIsdUJBQXdCbkIsUUFDeEJvQixTQUFVcEIsUUFDVnFCLG1CQUFvQnJCLFFBQ3BCc0IsT0FBUXRCLFFBQ1J1QixVQUFXM0IsT0FDWDRCLFdBQVk1QixPQUNaNkIsWUFBYTdCLE9BQ2I4Qix5QkFBMEI5QixPQUMxQitCLHNCQUF1QjdCLFVBRXJCLFFBQUVZLEVBQU8sUUFBRUMsRUFBTyxRQUFFQyxFQUFPLFFBQUVDLEVBQU8sUUFBRUMsRUFBTyxlQUFFQyxFQUFjLGtCQUFFQyxFQUFpQixZQUFFQyxFQUFXLFNBQUVDLEVBQVEsdUJBQUVDLEVBQXNCLFNBQUVDLEVBQVEsbUJBQUVDLEVBQWtCLE9BQUVDLEVBQU0sVUFBRUMsRUFBUyxXQUFFQyxFQUFVLFlBQUVDLEVBQVcseUJBQUVDLEVBQXdCLHNCQUFFQyxHQUEyQmxCLEVBQ3RRLFNBQU9QLEdBQUdRLEVBQVMsbUNBQ25CLFNBQU9SLEdBQUdTLEVBQVMsbUNBQ25CLFNBQU9ULEdBQUdVLEVBQVMsbUNBQ25CLFNBQU9WLEdBQUdXLEVBQVMsdUNBQ25CLFNBQU9YLEdBQUdZLEVBQVMsbUNBQ1osTUFBTWMsRUFBYyxDQUN2QmxCLFVBQ0FDLFVBQ0FDLFVBQ0FDLFVBQ0FDLFVBQ0FDLGlCQUNBQyxvQkFDQUMsY0FDQUMsV0FDQUMseUJBQ0FDLFdBQ0FDLHFCQUNBSywyQkFDQUMsd0JBQ0FMLFNBQ0FDLFlBQ0FDLGFBQ0FDLGMsOENDN0NKLE1BQU1JLEdBQWUsRSxPQUFBbkMsTUFBSyxDQUV0Qm9DLFdBQVlsQyxPQUNabUMsZUFBZ0JuQyxPQUNoQm9DLG1CQUFvQnBDLE9BQ3BCcUMsdUJBQXdCckMsT0FDeEJzQyxvQkFBcUJwQyxPQUNyQnFDLGNBQWV2QyxPQUNmd0MsV0FBWXhDLE9BQ1p5QyxZQUFhdkMsT0FDYndDLGNBQWV0QyxRQUNmdUMsY0FBZTNDLE9BQ2Y0QyxnQkFBaUI1QyxPQUNqQjZDLFdBQVl6QyxXQUdWLFdBQUU4QixFQUFVLGVBQUVDLEVBQWMsbUJBQUVDLEVBQWtCLHVCQUFFQyxFQUFzQixvQkFBRUMsRUFBbUIsY0FBRUMsRUFBYSxXQUFFQyxFQUFVLFlBQUVDLEVBQVcsY0FBRUMsRUFBYSxjQUFFQyxFQUFhLGdCQUFFQyxFQUFlLFdBQUVDLEdBQWdCWixFQUU1TSxTQUFPM0IsR0FBRzRCLEVBQVksZ0NBQ3RCLFNBQU81QixHQUFHNkIsRUFBZ0Isb0NBQzFCLFNBQU83QixHQUFHOEIsRUFBb0Isd0NBQzlCLFNBQU85QixHQUFHK0IsRUFBd0IsNENBQ2xDLFNBQU8vQixHQUFHaUMsRUFBZSxtQ0FDekIsU0FBT2pDLEdBQUdrQyxFQUFZLGdDQUN0QixTQUFPbEMsR0FBR21DLEVBQWEsaUNBQ3ZCLFNBQU9uQyxHQUFHb0MsRUFBZSxtQ0FDekIsU0FBT3BDLEdBQUdxQyxFQUFlLG1DQUN6QixTQUFPckMsR0FBR3NDLEVBQWlCLHFDQUMzQixTQUFPdEMsR0FBR3VDLEVBQVksZ0NBQ3RCLFNBQU92QyxHQUFHZ0MsRUFBcUIseUNBRXhCLE1BQU1RLEVBQVMsQ0FDbEJaLGFBQ0FDLGlCQUNBQyxxQkFDQUMseUJBQ0FDLHNCQUNBQyxnQkFDQUMsYUFDQUMsY0FDQUMsZ0JBQ0FDLGdCQUNBQyxrQkFDQUMsYSw0TUN2Q0osYUFDTyxNQUFNRSxFQUFlQyxNQUFPQyxFQUFLQyxLQUNwQyxJQUNJLE1BQU0sS0FBRUMsRUFBSSxTQUFFQyxFQUFRLE1BQUVDLEVBQUssU0FBRUMsR0FBYUwsRUFBSU0sS0FDaEQsS0FBS0osR0FBU0MsR0FBYUMsR0FBVUMsR0FDakMsT0FBTyxRQUFZLElBQUlFLE1BQU0sNkJBQThCTixHQU0vRCxTQUh5QixJQUFpQk8sUUFBUSxDQUM5Q0MsTUFBTyxDQUFFTCxNQUFPQSxLQUdoQixPQUFPLFFBQVksSUFBSUcsTUFBTSxpREFBa0ROLEdBRW5GLE1BQU1TLFFBQWEsSUFBaUJDLE9BQU8sQ0FDdkNDLFFBQVNWLEVBQ1RDLFNBQVVBLEVBQ1ZDLE1BQU9BLEVBQ1BTLGVBQWdCUixFQUNoQlMsVUFBVyxJQUFJQyxPQUViQyxHQUFRLFFBQWEsQ0FBRUMsR0FBSVAsRUFBS08sS0FDdENoQixFQUFJaUIsT0FBTyxNQUFPRixFQUFPLENBQ3JCRyxTQUFVLElBQU8xQixjQUNqQjJCLE9BQTZCLElBQXJCLElBQU81QixZQUNmNkIsT0FBUSxJQUFPekIsV0FDZjBCLFNBQVUsUUFFZHJCLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FDakJQLEdBQUlQLEVBQUtPLEdBQ1RmLEtBQU1RLEVBQUtFLFFBQ1hULFNBQVVPLEVBQUtQLFNBQ2ZDLE1BQU9NLEVBQUtOLE1BQ1pZLE1BQU9BLEdBRWYsQ0FDQSxNQUFPUyxJQUNILFFBQVlBLEVBQU94QixFQUN2QixHQUVTeUIsRUFBWTNCLE1BQU9DLEVBQUtDLEtBQ2pDLElBQ0ksTUFBTSxNQUFFRyxFQUFLLFNBQUVDLEdBQWFMLEVBQUlNLEtBQ2hDLElBQUtGLElBQVVDLEVBQ1gsT0FBTyxRQUFZLElBQUlFLE1BQU0sMkJBQTRCTixHQUU3RCxNQUFNUyxRQUFhLElBQWlCaUIsVUFBVXZCLEVBQU9DLEdBQ3JELElBQUtLLEVBQ0QsTUFBTSxJQUFJSCxNQUFNLGtCQUVwQixNQUFNUyxHQUFRLFFBQWEsQ0FBRUMsR0FBSVAsRUFBS08sS0FDaENXLEdBQWUsUUFBVyxDQUFFWCxHQUFJUCxFQUFLTyxLQUMzQ1ksUUFBUUMsSUFBSSxrQkFBbUJGLEdBRS9CM0IsRUFBSWlCLE9BQU8sTUFBT0YsRUFBTyxDQUNyQkcsU0FBVSxJQUFPMUIsY0FDakIyQixPQUE2QixJQUFyQixJQUFPNUIsWUFDZjZCLE9BQVEsSUFBT3pCLFdBQ2YwQixTQUFVLFFBR2RyQixFQUFJaUIsT0FBTyxlQUFnQlUsRUFBYyxDQUNyQ1QsU0FBVSxJQUFPMUIsY0FDakIyQixPQUFxQyxJQUE3QixJQUFPL0Isb0JBQ2ZnQyxPQUFRLElBQU96QixXQUNmMEIsU0FBVSxRQUVkckIsRUFBSThCLFVBQVUsZ0JBQWlCLFVBQVVmLEtBQ3pDZixFQUFJK0IsT0FBT3RCLEtBQU9BLEVBQ2xCVCxFQUFJdUIsS0FBSyxDQUFFUixRQUFPWSxlQUFjbEIsS0FBTUEsRUFBS08sSUFDL0MsQ0FDQSxNQUFPUSxJQUNILFFBQVlBLEVBQU94QixFQUN2QixHQUVTZ0MsRUFBYWxDLE1BQU9DLEVBQUtDLEtBQ2xDLElBQ0ksTUFBTWlDLEVBQWNsQyxFQUFJbUMsUUFBUUMsSUFDMUJSLEVBQWU1QixFQUFJbUMsUUFBUVAsYUFDakMsSUFBS00sSUFBZ0JOLEVBRWpCLFlBREEzQixFQUFJc0IsT0FBTyxLQUFLQyxLQUFLLENBQUVhLFFBQVMsd0JBSXBDcEMsRUFBSWlCLE9BQU8sTUFBTyxHQUFJLENBQ2xCQyxVQUFVLEVBQ1ZFLFFBQVEsRUFDUkMsU0FBVSxNQUNWRixPQUFRLElBR1puQixFQUFJaUIsT0FBTyxlQUFnQixHQUFJLENBQzNCQyxVQUFVLEVBQ1ZFLFFBQVEsRUFDUkMsU0FBVSxNQUNWRixPQUFRLElBRVpuQixFQUFJc0IsT0FBTyxLQUFLQyxLQUFLLENBQUVhLFFBQVMsbUJBQ3BDLENBQ0EsTUFBT1osSUFDSCxRQUFZQSxFQUFPeEIsRUFDdkIsR0FFUzJCLEVBQWU3QixNQUFPQyxFQUFLQyxLQUNwQyxNQUFNMkIsRUFBZTVCLEVBQUltQyxRQUFRUCxhQUM1QkEsRUFJTCxXQUFXQSxFQUFjLElBQU96QyxvQkFBb0JZLE1BQU91QyxFQUFLQyxLQUM1RCxHQUFJRCxFQUdBLE9BRkFULFFBQVFDLElBQUkseUJBQTBCUSxFQUFJRCxjQUMxQ3BDLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUywrQkFHcEMsSUFDSSxNQUFNRyxFQUFTRCxFQUFhdEIsR0FFNUIsR0FEQVksUUFBUUMsSUFBSSxXQUFZVSxJQUNuQkEsRUFFRCxZQURBdkMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLHdCQUdwQyxNQUFNM0IsUUFBYSxJQUFpQitCLFNBQVNELEdBQzdDLElBQUs5QixFQUNELE9BQU9ULEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyxtQkFHM0MsTUFBTUssRUFBVyxTQUFTLENBQUV6QixHQUFJUCxFQUFLTyxJQUFNLElBQU9oQyxXQUFZLENBQzFEMEQsVUFBVyxJQUFPekQsZUFDbEIwRCxVQUFXLElBQU90RCxjQUNsQnVELE9BQVEsSUFBT3RELGFBRW5CVSxFQUFJaUIsT0FBTyxNQUFPd0IsRUFBVSxDQUN4QnZCLFNBQVUsSUFBTzFCLGNBQ2pCMkIsT0FBcUMsSUFBN0IsSUFBTy9CLG9CQUNmZ0MsT0FBUSxJQUFPekIsV0FDZjBCLFNBQVUsUUFFZHJCLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRVIsTUFBTzBCLEVBQVVoQyxLQUFNQSxFQUFLTyxJQUN2RCxDQUNBLE1BQU9RLEdBQ0hJLFFBQVFKLE1BQU0sOEJBQStCQSxHQUM3Q3hCLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyw4QkFDcEMsQ0FDTSxJQXRDTnBDLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyxnQkF1Q2xDLEVBR09TLEVBQWMsQ0FBQzlDLEVBQUtDLEVBQUs4QyxLQUNsQyxNQUFNL0IsRUFBUWhCLEVBQUltQyxRQUFRQyxJQUNyQnBCLEdBSUwsV0FBV0EsRUFBTyxJQUFPL0IsWUFBWWMsTUFBT3VDLEVBQUtDLEtBQzdDLEdBQUlELEVBRUEsT0FEQVQsUUFBUUMsSUFBSVEsRUFBSUQsU0FDVHBDLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyxpQkFFM0MsTUFBTUcsRUFBU0QsRUFBYXRCLEdBQ3RCUCxRQUFhLElBQWlCK0IsU0FBU0QsR0FDN0MsT0FBSzlCLEdBR0xULEVBQUkrQixPQUFPdEIsS0FBT0EsRUFDWHFDLEtBSEk5QyxFQUFJc0IsT0FBTyxLQUFLQyxLQUFLLENBQUVhLFFBQVMsa0JBRzlCLElBRWpCVSxLQWhCSTlDLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyxnQkFnQjlCLEUsc0ZDM0tILE1BT01XLEVBQVUsSUFBVSxDQUM3QkMsU0FBVSxJQUFJQyxxQkFDZEMsSUFBSyxJQUFJQyxJQUNUZixRQUFTLElBQUlnQixtQkFDYkMsV0FBWSxJQUFJQyxnQkFDaEJDLFFBQVMsQ0FBQ0MsRUFBTXhELEtBQ1pBLEVBQUlzQixPQUFPLElBQUlnQyxpQkFBaUIvQixLQUFLLENBQ2pDYSxRQUFTLElBQUlnQixvQkFDZixFQUVOSyxhQWpCd0IzRCxNQUFPQyxFQUFLQyxJQUMvQkQsRUFBSTJELEdBSUYzRCxFQUFJMkQsR0FBR0MsUUFBUSxhQUFjLEtBSGhDM0QsRUFBSXNCLE9BQU8sS0FBS3NDLEtBQUssQ0FBRXhCLFFBQVMsb0NBQ3pCckMsRUFBSThELE9BQU9DLGdCLG9HQ0YxQixhQUNPLE1BQU1DLEVBQWdCQyxJQUN6QixJQUNJLE9BQU8sU0FBU0EsRUFBUyxJQUFPaEYsV0FBWSxDQUN4QzJELFVBQVcsSUFBT3RELGNBQ2xCcUQsVUFBVyxJQUFPekQsZUFDbEIyRCxPQUFRLElBQU90RCxZQUV2QixDQUNBLE1BQU9rQyxHQUNILE1BQU0sSUFBSWxCLE1BQU0sdUJBQ3BCLEdBRVMyRCxFQUFlbEQsSUFDeEIsSUFDSSxPQUFPLFdBQVdBLEVBQU8sSUFBTy9CLFdBQ3BDLENBQ0EsTUFBT3dDLEdBQ0gsTUFBTSxJQUFJbEIsTUFBTSxzQkFDcEIsR0FFUzRELEVBQWNGLElBQ3ZCLElBQ0ksT0FBTyxTQUFTQSxFQUFTLElBQU85RSxtQkFBb0IsQ0FDaER5RCxVQUFXLElBQU90RCxjQUNsQnFELFVBQVcsSUFBT3ZELHVCQUNsQnlELE9BQVEsSUFBT3RELFlBRXZCLENBQ0EsTUFBT2tDLEdBQ0gsTUFBTSxJQUFJbEIsTUFBTSx1QkFDcEIsRSx5S0M3QkosYUFDTyxNQUFNNkQsRUFBaUJyRSxNQUFPQyxFQUFLQyxLQUN0QyxNQUFNZSxFQUFRaEIsRUFBSW1DLFFBQVFuQixNQUMxQixJQUFLQSxFQUNELE9BQU9mLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyxpQkFFM0MsSUFDSSxNQUNNRyxHQURlLFFBQVl4QixHQUNMQyxHQUM1QixJQUFLdUIsRUFFRCxZQURBdkMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLHdCQUdwQyxNQUFNM0IsUUFBYSxJQUFLK0IsU0FBU0QsR0FDakMsSUFBSzlCLEVBQ0QsT0FBT1QsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLG1CQUUzQ3BDLEVBQUlzQixPQUFPLEtBQUtDLEtBQUtkLEVBQ3pCLENBQ0EsTUFBT2UsR0FDSEksUUFBUUosTUFBTSw4QkFBK0JBLEdBQzdDeEIsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLDhCQUNwQyxDQUNBLE9BQU9yQixDQUFLLEVBRUhxRCxFQUFhdEUsTUFBT0MsRUFBS0MsRUFBSzhDLEtBQ3ZDLElBQ0ksTUFBTS9CLEVBQVFoQixFQUFJbUMsUUFBUUMsSUFDMUIsSUFBS3BCLEVBRUQsT0FEQWYsRUFBSStCLE9BQU90QixLQUFPLEtBQ1hxQyxJQUVYLFdBQVcvQixFQUFPLElBQU8vQixZQUFZYyxNQUFPdUMsRUFBS0MsS0FDN0MsR0FBSUQsRUFHQSxPQUZBVCxRQUFRSixNQUFNLDBCQUEyQmEsRUFBSUQsU0FDN0NwQyxFQUFJK0IsT0FBT3RCLEtBQU8sS0FDWHFDLElBRVgsSUFDSSxNQUFNckMsUUFBYSxJQUFLK0IsU0FBU0YsRUFBYXRCLElBQzlDWSxRQUFRQyxJQUFJLGdCQUFpQlMsR0FFekJ0QyxFQUFJK0IsT0FBT3RCLEtBRFhBLEdBSWtCLElBRTFCLENBQ0EsTUFBT2UsR0FDSEksUUFBUUosTUFBTSx5QkFBMEJBLEdBQ3hDeEIsRUFBSStCLE9BQU90QixLQUFPLElBQ3RCLENBQ0FxQyxHQUFNLEdBRWQsQ0FDQSxNQUFPdEIsR0FDSEksUUFBUUosTUFBTSx3QkFBeUJBLEdBQ3ZDeEIsRUFBSStCLE9BQU90QixLQUFPLEtBQ2xCcUMsR0FDSixHLG1FQy9ER2hELGVBQWV1RSxJQUNsQixNQUFNQyxHQUFZLFNBR2xCLElBQUlDLEVBQVcsRUFDZixLQUFPQSxFQUhhLElBSWhCLElBT0ksYUFMTUQsRUFBVUUsZUFDaEI1QyxRQUFRQyxJQUFJLCtEQUVOeUMsRUFBVUcsS0FBSyxDQUFFQyxPQUFPLElBQzlCOUMsUUFBUUMsSUFBSSx3QkFDTHlDLENBQ1gsQ0FDQSxNQUFPOUMsR0FDSEksUUFBUUosTUFBTSw4QkFBK0JBLEdBQzdDK0MsVUFDTSxJQUFJSSxTQUFRQyxHQUFXQyxXQUFXRCxFQWZsQyxNQWdCVixDQUdKLE1BREFoRCxRQUFRSixNQUFNLG9EQUNSLElBQUlsQixNQUFNLDZCQUNwQixDLHVFQ3JCQSxNQUFNd0UsRUFBVyxDQUNiQyxRQUFTLFVBQ1RDLEtBQU0sSUFBWXBILFNBQVcsWUFDN0JzQyxTQUFVLElBQVlwQyxTQUFXLGFBQ2pDc0MsU0FBVSxJQUFZckMsU0FBVyxXQUNqQ2tILFNBQVUsSUFBWWpILFNBQVcsY0FDakNrSCxXQUFZLElBQVlqSCxnQkFBa0IsOEJBQzFDa0gsY0FBZSxJQUFZakgsbUJBQXFCLElBQ2hEa0gsU0FBVSxJQUFZakgsY0FBZSxFQUNyQ2tILE1BQU8sSUFBWWpILFdBQVksRUFDL0JrSCxrQkFBbUIsSUFBWWpILHlCQUEwQixFQUN6RGtILE1BQU8sSUFBWWpILFdBQVksRUFDL0JrSCxlQUFnQixJQUFZakgscUJBQXNCLEVBQ2xEa0gsa0JBQW1CQyxLQUFLQyxNQUFNLElBQVkvRywwQkFBNEIsTUFDdEVnSCxrQkFBbUIsSUFBWS9HLHVCQUF5QixJQUN4RGdILEtBQU0sSUFBWWhJLFNBQVcsS0FDN0JpSSxJQUFLLElBQVl0SCxTQUFVLEVBQzNCdUgsZUFBZ0IsQ0FDWkQsSUFBSyxDQUNERSxHQUFJLElBQVl2SCxVQUNWLGlCQUFnQixJQUFZQSxXQUFXd0gsV0FDdkMsR0FDTkMsSUFBSyxJQUFZeEgsV0FDWCxpQkFBZ0IsSUFBWUEsWUFBWXVILFdBQ3hDLEdBQ05FLEtBQU0sSUFBWXhILFlBQ1osaUJBQWdCLElBQVlBLGFBQWFzSCxXQUN6QyxNQUlYLFNBQVNHLElBU1osT0FQa0IsSUFBSSxFQUFBQyxVQUFVdkIsRUFBU0csU0FBVUgsRUFBUzVFLFNBQVU0RSxFQUFTMUUsU0FBVSxDQUNyRjRFLEtBQU1GLEVBQVNFLEtBQ2ZzQixRQUFTeEIsRUFBU0MsUUFDbEJjLEtBQU1mLEVBQVNlLEtBQ2ZDLElBQUtoQixFQUFTZ0IsSUFDZEMsZUFBZ0JqQixFQUFTaUIsZ0JBR2pDLEMseUdDdENBLE1BQU1RLEdBQVksSUFBQUMsVUFBUSxJQUFBQyxlQUFjLDZFQVd4QyxFQVZ5QixJQUFJLEVBQUFKLFVBQVUsQ0FDbkNDLFFBQVMsRUFBQUksZUFDVDFCLEtBQU0sSUFBWXBILFFBQ2xCNkMsS0FBTSxJQUFZM0MsUUFDbEJzQyxTQUFVLElBQVlyQyxRQUN0QmtILFNBQVUsSUFBWWpILFFBQ3RCNkgsS0FBTSxJQUFZaEksUUFDbEJpSSxJQUFLLElBQVl0SCxPQUNqQm1JLGFBQWMsSUFBQUMsY0FBYUwsRUFBWSwyQywwTkNONUJ6RyxlQUFlLEdBQUMsSUFBRStHLElBQzdCQSxFQUFJQyxJQUFJLFdBQVcsQ0FBQ3RELEVBQU14RCxJQUFRQSxFQUFJK0csV0FBVyxLQUFLQyxRQUN0REgsRUFBSUksS0FBSSxDQUFDekQsRUFBTXhELEVBQUs4QyxLQUNoQjlDLEVBQUlrSCxPQUFPLDhCQUErQix5QkFDMUNsSCxFQUFJa0gsT0FBTywrQkFBZ0Msa0RBQzNDbEgsRUFBSWtILE9BQU8sK0JBQWdDLG1DQUMzQ2xILEVBQUlrSCxPQUFPLG1DQUFvQyxRQUMzQixZQUFoQjFELEVBQUsyRCxPQUNFbkgsRUFBSStHLFdBQVcsS0FFbkJqRSxPQUVYK0QsRUFBSUksSUFBSSxlQUFzQixDQUFFRyxVQUFVLEtBQzFDUCxFQUFJSSxJQUFJLFlBQ1JKLEVBQUlJLElBQUksZUFBbUIsQ0FBRUcsVUFBVSxLQUN2Q1AsRUFBSUksSUFBSSxPQUNSSixFQUFJSSxJQUFJLFlBQ1IsTUFBTUksRUFBYyxJQUFJQyxhQUFlLFFBQ2pDQyxFQUFrQixJQUFJQyxtQkFBcUIsRUFvQmpELE9BbkJJSCxFQUNBUixFQUFJWSxJQUFJLGVBQWUsR0FFRixVQUFoQkosRUFDTFIsRUFBSVksSUFBSSxlQUFlLElBR3ZCWixFQUFJWSxJQUFJLGNBQWVKLEdBQ3ZCUixFQUFJWSxJQUFJLGNBQWVGLElBRTNCVixFQUFJWSxJQUFJLGNBQWVGLEdBQ3ZCVixFQUFJQyxJQUFJLE9BQU8sQ0FBQ1ksRUFBU0MsSUFBYUEsRUFBUy9ELEtBQUs4RCxFQUFRaEUsTUFDNURtRCxFQUFJSSxJQUFJLElBQU8sQ0FDWFcsdUJBQXVCLEtBRTNCZixFQUFJSSxJQUFJLElBQU8sSUFBSVksU0FDbkJoQixFQUFJSSxJQUFJLE1BQ1JKLEVBQUlJLElBQUksS0FDUkosRUFBSUksSUFBSSxNQUNESixDQUNYLEMsaUtDN0NlL0csZUFBZSxHQUFDLElBQUUrRyxVQUN2QixTQUNOLFVBQ00sT0FBYyxDQUFFQSxRQUN0QmpGLFFBQVFDLElBQUksc0JBQ2hCLEUsb0hDTEEsTUFBTXlDLEdBQVksRSxPQUFBLEtBQ2xCLE1BQU13RCxVQUFhLEVBQUFDLE1BRWYsd0JBQWFDLENBQVloSCxHQUNyQixhQUFhaUgsS0FBSzFILFFBQVEsQ0FBRUMsTUFBTyxDQUFFUSxHQUFJQSxJQUM3QyxFQUdKOEcsRUFBS0ksS0FBSyxDQUNObEgsR0FBSSxDQUNBbUgsS0FBTSxFQUFBQyxVQUFVQyxRQUNoQkMsZUFBZSxFQUNmQyxZQUFZLEdBRWhCQyxVQUFXLENBQ1BMLEtBQU0sRUFBQUMsVUFBVUssT0FDaEJDLFdBQVcsRUFDWEMsU0FBVSxDQUNOQyxVQUFVLElBR2xCQyxTQUFVLENBQ05WLEtBQU0sRUFBQUMsVUFBVUssT0FDaEJDLFdBQVcsRUFDWEMsU0FBVSxDQUNOQyxVQUFVLElBR2xCMUksU0FBVSxDQUNOaUksS0FBTSxFQUFBQyxVQUFVSyxPQUNoQkMsV0FBVyxFQUNYSSxRQUFRLEVBQ1JILFNBQVUsQ0FDTkksR0FBSSxrQkFDSkMsSUFBSyxDQUFDLEVBQUcsTUFHakI3SSxNQUFPLENBQ0hnSSxLQUFNLEVBQUFDLFVBQVVLLE9BQ2hCSyxRQUFRLEVBQ1JKLFdBQVcsRUFDWEMsU0FBVSxDQUNOTSxTQUFTLEVBQ1RELElBQUssQ0FBQyxFQUFHLElBQ1RKLFVBQVUsSUFHbEJoSSxlQUFnQixDQUNadUgsS0FBTSxFQUFBQyxVQUFVSyxPQUFPLEtBRTNCbkgsT0FBUSxDQUNKNkcsS0FBTSxFQUFBQyxVQUFVSyxPQUNoQkMsV0FBVyxFQUNYUSxhQUFjLGNBRWxCQyxJQUFLLENBQ0RoQixLQUFNLEVBQUFDLFVBQVVLLE9BQ2hCUyxhQUFjLHVCQUVsQkUsS0FBTSxDQUNGakIsS0FBTSxFQUFBQyxVQUFVaUIsS0FDaEJILGFBQWMsRUFBQWQsVUFBVWtCLEtBRTVCQyxVQUFXLENBQ1BwQixLQUFNLEVBQUFDLFVBQVVLLFFBRXBCZSxTQUFVLENBQ05yQixLQUFNLEVBQUFDLFVBQVVLLFFBRXBCZ0IsV0FBWSxDQUNSdEIsS0FBTSxFQUFBQyxVQUFVSyxRQUVwQmlCLE1BQU8sQ0FDSHZCLEtBQU0sRUFBQUMsVUFBVUssT0FDaEJTLGFBQWMsWUFFbEJTLGNBQWUsQ0FDWHhCLEtBQU0sRUFBQUMsVUFBVWlCLEtBQ2hCSCxhQUFjLEVBQUFkLFVBQVVrQixLQUU1Qk0sV0FBWSxDQUNSekIsS0FBTSxFQUFBQyxVQUFVaUIsS0FDaEJILGFBQWMsRUFBQWQsVUFBVWtCLEtBRTVCTyxtQkFBb0IsQ0FDaEIxQixLQUFNLEVBQUFDLFVBQVUwQixLQUNoQnBCLFdBQVcsRUFDWHFCLFdBQVksQ0FDUkMsTUFBTyxtQkFDUDlELElBQUssUUFHZCxDQUNDNUIsWUFDQTJGLFVBQVcsT0FDWEMsWUFBWSxFQUNaQyxVQUFXLHFCQUdUN0YsRUFDREcsT0FDQTJGLE1BQUssS0FDTnhJLFFBQVFDLElBQUksK0JBQStCLElBRTFDd0ksT0FBTWhJLElBQ1BULFFBQVFKLE1BQU0sMEJBQTJCYSxFQUFJLElBRWpELFUsNktDeEdBLE1BQU1pQyxHQUFZLFNBQ2xCLE1BQU1nRyxVQUF5QixFQUFBdkMsTUFFM0Isc0JBQWFyRyxDQUFVdkIsRUFBT0MsR0FDMUIsYUFBYTZILEtBQUsxSCxRQUFRLENBQ3RCQyxNQUFPLENBQUVMLE1BQU9BLEVBQU9TLGVBQWdCUixJQUUvQyxDQUVBLHVCQUFhbUssQ0FBV3BLLEdBQ3BCLGFBQWE4SCxLQUFLMUgsUUFBUSxDQUN0QkMsTUFBTyxDQUFFTCxNQUFPQSxJQUV4QixDQUVBLDBCQUFhcUssQ0FBY3JLLEVBQU9DLEdBQzlCLGFBQWE2SCxLQUFLMUgsUUFBUSxDQUN0QkMsTUFBTyxDQUFFTCxNQUFPQSxFQUFPUyxlQUFnQlIsSUFFL0MsRUFFSmtLLEVBQWlCcEMsS0FBSyxDQUNsQmxILEdBQUksQ0FDQW1ILEtBQU0sRUFBQUMsVUFBVUMsUUFDaEJDLGVBQWUsRUFDZkMsWUFBWSxHQUVoQjVILFFBQVMsQ0FDTHdILEtBQU0sRUFBQUMsVUFBVUssT0FDaEJDLFdBQVcsR0FFZnhJLFNBQVUsQ0FDTmlJLEtBQU0sRUFBQUMsVUFBVUssT0FDaEJDLFdBQVcsR0FFZnZJLE1BQU8sQ0FDSGdJLEtBQU0sRUFBQUMsVUFBVUssT0FDaEJDLFdBQVcsR0FFZjlILGVBQWdCLENBQ1p1SCxLQUFNLEVBQUFDLFVBQVVLLE9BQ2hCQyxXQUFXLEdBRWY3SCxVQUFXLENBQ1BzSCxLQUFNLEVBQUFDLFVBQVVpQixLQUNoQlgsV0FBVyxFQUNYUSxhQUFjLEVBQUFkLFVBQVVrQixNQUU3QixDQUNDaEYsVUFBV0EsRUFDWDJGLFVBQVcsbUJBQ1hwSixVQUFXLFlBQ1hxSixZQUFZLEVBQ1pPLGlCQUFpQixJQUdyQkgsRUFBaUJJLGNBQWE1SyxNQUFPVyxJQUNqQyxJQUNJLEdBQUlBLEVBQU0sQ0FDTixNQUFNa0ssRUFBTyxnQkFBbUIsSUFDMUJDLFFBQXVCLFNBQVk5TixPQUFPMkQsRUFBS0csZ0JBQWlCK0osR0FDdEVsSyxFQUFLRyxlQUFpQmdLLENBQzFCLENBQ0osQ0FDQSxNQUFPcEosR0FFSCxNQURBSSxRQUFRSixNQUFNLDBCQUEyQkEsR0FDbkMsSUFBSWxCLE1BQU0seUJBQ3BCLEtBRUpnSyxFQUFpQk8sYUFBWS9LLE1BQU9XLElBQ2hDLElBQ0ksR0FBSUEsRUFBTSxDQUNOLE1BQU1xSyxFQUFhckssRUFBS0UsU0FBU29LLFlBQVksS0FFdkNDLEdBQTZCLElBQWhCRixFQUFvQnJLLEVBQUtFLFNBQVNzSyxNQUFNLEVBQUdILEdBQWNySyxFQUFLRSxRQUMzRWtJLEdBQTJCLElBQWhCaUMsRUFBb0JySyxFQUFLRSxTQUFTc0ssTUFBTUgsR0FBYyxHQUFjLEdBQy9FSSxHQUFTLE9BQWtCekssRUFBS1AsZ0JBRWhDLElBQUtpTCxPQUFPLENBQ2QzQyxVQUFXd0MsRUFDWG5DLFNBQVVBLEVBQ1YzSSxTQUFVTyxFQUFLUCxTQUNmQyxNQUFPTSxFQUFLTixNQUNaUyxlQUFnQkgsRUFBS0csZUFDckJVLE9BQVEsYUFDUjZILElBQUssbUJBQ0xDLEtBQU0sSUFBSXRJLEtBQ1Z5SSxVQUFXMkIsRUFDWDFCLFNBQVUsS0FDVkMsV0FBWSxLQUNaQyxNQUFPLFdBQ1BDLGNBQWUsSUFBSTdJLEtBQ25COEksV0FBWSxJQUFJOUksS0FDaEIrSSxtQkFBb0JwSixFQUFLTyxJQUVqQyxDQUNKLENBQ0EsTUFBT1EsR0FFSCxNQURBSSxRQUFRSixNQUFNLDhCQUErQkEsR0FDdkMsSUFBSWxCLE1BQU0sNkJBQ3BCLEtBR0pnSyxFQUFpQjVJLFVBQVk1QixlQUFnQkssRUFBT0MsR0FDaEQsSUFDSSxNQUFNSyxRQUFhd0gsS0FBSzFILFFBQVEsQ0FBRUMsTUFBTyxDQUFFTCxNQUFPQSxLQUNsRCxHQUFJTSxFQUFNLENBRU4sU0FEbUIsWUFBZUwsRUFBVUssRUFBS0csZ0JBRTdDLE9BQU9ILEVBR1AsTUFBTSxJQUFJSCxNQUFNLHFCQUV4QixDQUVJLE1BQU0sSUFBSUEsTUFBTSxrQkFFeEIsQ0FDQSxNQUFPa0IsR0FFSCxNQURBSSxRQUFRSixNQUFNLHlCQUEwQkEsR0FDbEMsSUFBSWxCLE1BQU0saUJBQ3BCLENBQ0osRUFFQWdLLEVBQWlCQyxXQUFhekssZUFBZ0JLLEdBQzFDLElBQ0ksYUFBYThILEtBQUsxSCxRQUFRLENBQUVDLE1BQU8sQ0FBRUwsTUFBT0EsSUFDaEQsQ0FDQSxNQUFPcUIsR0FFSCxNQURBSSxRQUFRSixNQUFNLDBCQUEyQkEsR0FDbkMsSUFBSWxCLE1BQU0saUJBQ3BCLENBQ0osUUFDTWdFLEVBQ0RHLE9BQ0EyRixNQUFLLEtBQ054SSxRQUFRQyxJQUFJLDBDQUEwQyxJQUVyRHdJLE9BQU1oSSxJQUNQVCxRQUFRSixNQUFNLDBCQUEyQmEsRUFBSSxJQUVqRCxVLGtOQzlJQSxNQUFNK0ksRUFBUyxhQUNmQSxFQUFPbkUsSUFBSSxJQUFLLE1BQ2hCbUUsRUFBT25FLEtBQUksQ0FBQ3pELEVBQU14RCxFQUFLOEMsS0FDbkI5QyxFQUFJa0gsT0FBTyw4QkFBK0IseUJBQzFDbEgsRUFBSWtILE9BQU8sK0JBQWdDLGtEQUMzQ2xILEVBQUlrSCxPQUFPLCtCQUFnQyxtQ0FDM0NsSCxFQUFJa0gsT0FBTyxtQ0FBb0MsUUFDL0NwRSxHQUFNLElBR1ZzSSxFQUFPbkUsSUFBSSxlQUFzQixDQUFFRyxVQUFVLEtBQzdDZ0UsRUFBT25FLElBQUksT0FDWG1FLEVBQU9uRSxJQUFJLFlBQ1htRSxFQUFPbkUsSUFBSSxZQUNYbUUsRUFBT0MsS0FBSyxnQkFBaUIsTUFDN0JELEVBQU9DLEtBQUssYUFBYyxNQUMxQkQsRUFBT3RFLElBQUksY0FBZSxNQUMxQnNFLEVBQU9DLEtBQUsscUJBQXNCLE1BQ2xDRCxFQUFPdEUsSUFBSSxtQkFBb0IsTUFDL0IsVSw2UENoQkEsTUFBTXNFLEVBQVMsYUFDZixhQUNBQSxFQUFPbkUsSUFBSSxPQUNYbUUsRUFBT25FLEtBQUksQ0FBQ3pELEVBQU14RCxFQUFLOEMsS0FDbkI5QyxFQUFJa0gsT0FBTyw4QkFBK0IseUJBQzFDbEgsRUFBSWtILE9BQU8sK0JBQWdDLGtEQUMzQ2xILEVBQUlrSCxPQUFPLCtCQUFnQyxtQ0FDM0NsSCxFQUFJa0gsT0FBTyxtQ0FBb0MsUUFDL0NwRSxHQUFNLElBRVZzSSxFQUFPbkUsSUFBSSxlQUFzQixDQUFFRyxVQUFVLEtBQzdDZ0UsRUFBT25FLElBQUksT0FDWG1FLEVBQU9uRSxJQUFJLFlBQ1htRSxFQUFPbkUsSUFBSSxZQUNYbUUsRUFBT3RFLElBQUksZUFBZ0IsTUFBWWhILE1BQU9DLEVBQUtDLEVBQUs4QyxLQUNwRCxNQUFNL0IsRUFBUWhCLEVBQUltQyxRQUFRQyxJQUNyQnBCLEVBSUwsV0FBV0EsRUFBTyxJQUFPL0IsWUFBWWMsTUFBT3VDLEVBQUtDLEtBQzdDLEdBQUlELEVBR0EsT0FGQVQsUUFBUUMsSUFBSSx5QkFBMEJRLEVBQUlELGNBQzFDcEMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLCtCQUdwQyxJQUNJLE1BQU0zQixRQUFhLElBQUsrQixTQUFTRixFQUFhdEIsSUFDOUMsSUFBS1AsRUFFRCxZQURBVCxFQUFJc0IsT0FBTyxLQUFLQyxLQUFLLENBQUVhLFFBQVMsd0JBR3BDcEMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFZCxRQUMzQixDQUNBLE1BQU9lLEdBQ0hJLFFBQVFKLE1BQU0sOEJBQStCQSxHQUM3Q3hCLEVBQUlzQixPQUFPLEtBQUtDLEtBQUssQ0FBRWEsUUFBUyw4QkFDcEMsQ0FDQSxPQUFPVSxHQUFNLElBckJiOUMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLGdCQXNCbEMsSUFtQk4sVSxxTkM1REEsTUFBTWdKLEVBQVMsYUFDZkEsRUFBT25FLEtBQUksQ0FBQ3pELEVBQU14RCxFQUFLOEMsS0FDbkI5QyxFQUFJa0gsT0FBTyw4QkFBK0IseUJBQzFDbEgsRUFBSWtILE9BQU8sK0JBQWdDLGtEQUMzQ2xILEVBQUlrSCxPQUFPLCtCQUFnQyxtQ0FDM0NsSCxFQUFJa0gsT0FBTyxtQ0FBb0MsUUFDL0NwRSxHQUFNLElBR1ZzSSxFQUFPbkUsSUFBSSxlQUFzQixDQUFFRyxVQUFVLEtBQzdDZ0UsRUFBT25FLElBQUksT0FDWG1FLEVBQU9uRSxJQUFJLFlBQ1htRSxFQUFPbkUsSUFBSSxZQUNYbUUsRUFBT3RFLElBQUksS0FBSyxDQUFDdEQsRUFBTXhELEtBQ25CQSxFQUFJNEQsS0FBSyxDQUNMdEMsT0FBUSxHQUFHLElBQUlnSyxXQUNmbEosUUFBUyxHQUFHLElBQUltSixrQkFDaEJ0TCxLQUFNLEdBQUcsSUFBSXVMLFlBQ2YsSUFFTkosRUFBT25FLElBQUksS0FDWG1FLEVBQU9uRSxJQUFJLEtBQ1htRSxFQUFPbkUsSUFBSSxLLHVNQ3hCWCxNQUFNbUUsRUFBUyxhQUNmQSxFQUFPbkUsSUFBSSxPQUNYbUUsRUFBT25FLEtBQUksQ0FBQ3pELEVBQU14RCxFQUFLOEMsS0FDbkI5QyxFQUFJa0gsT0FBTyw4QkFBK0IseUJBQzFDbEgsRUFBSWtILE9BQU8sK0JBQWdDLGtEQUMzQ2xILEVBQUlrSCxPQUFPLCtCQUFnQyxtQ0FDM0NsSCxFQUFJa0gsT0FBTyxtQ0FBb0MsUUFDL0NwRSxHQUFNLElBRVZzSSxFQUFPbkUsSUFBSSxlQUFzQixDQUFFRyxVQUFVLEtBQzdDZ0UsRUFBT25FLElBQUksT0FDWG1FLEVBQU9uRSxJQUFJLFlBQ1htRSxFQUFPbkUsSUFBSSxZQUNYbUUsRUFBT3RFLElBQUksc0JBQXVCLE1BQWdCaEgsTUFBTzBELEVBQU14RCxLQUMzRCxJQUFLQSxFQUFJK0IsT0FBT3RCLEtBQ1osT0FBT1QsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLGlCQUUzQyxJQUNJLE1BQU0zQixFQUFPVCxFQUFJK0IsT0FBT3RCLEtBQ3hCVCxFQUFJc0IsT0FBTyxLQUFLQyxLQUFLLENBQUVkLFFBQzNCLENBQ0EsTUFBT2UsR0FDSEksUUFBUUosTUFBTSw4QkFBK0JBLEdBQzdDeEIsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUFFYSxRQUFTLDhCQUNwQyxDQUNBLE9BQU9wQyxDQUFHLElBRWQsVSxxQ0N6Qk8sU0FBU3lMLEVBQWtCeEwsR0FFOUIsTUFBTXlMLEVBQVd6TCxFQUNaMEwsTUFBTSxLQUNOQyxLQUFJQyxHQUFRQSxFQUFLQyxPQUFPLEdBQUdDLGdCQUMzQjNDLEtBQUssSUFNVixNQURnQixvQ0FBb0M0QyxtQkFBbUJOLHlDQUUzRSxDLG1IQ2ZPLE1BQU1PLEVBQWMsQ0FBQzVKLEVBQUtyQyxLQUM3QjRCLFFBQVFKLE1BQU1hLEVBQUlELFNBRWxCLElBQUk4SixFQUFTLENBQUMsRUFFVjdKLEVBQUlELFFBQVErSixTQUFTLCtCQUNyQkQsRUFBUyxDQUNMak0sS0FBTSxtQkFDTkMsU0FBVSx1QkFDVkMsTUFBTyxvQkFDUEMsU0FBVSx5QkFHZGlDLEVBQUlELFFBQVErSixTQUFTLDZCQUNyQkQsRUFBTy9MLE1BQVEsK0JBRWZrQyxFQUFJRCxRQUFRK0osU0FBUyxxQkFDckJELEVBQU8vTCxNQUFRLDJCQUVma0MsRUFBSUQsUUFBUStKLFNBQVMsd0JBQ3JCRCxFQUFPOUwsU0FBVyx5QkFHTCw2QkFBYmlDLEVBQUlwQyxNQUF1Q29DLEVBQUliLFFBQy9DMEssRUFBUzdKLEVBQUliLE1BQU00SyxRQUFPLENBQUNDLEVBQUs3SyxLQUM1QjZLLEVBQUk3SyxFQUFNOEssTUFBUTlLLEVBQU1ZLFFBQ2pCaUssSUFDUixDQUFDLElBRVJyTSxFQUFJc0IsT0FBT2UsRUFBSWtLLE1BQVEsS0FBS2hMLEtBQUssQ0FBRTJLLFVBQVMsRUFHaEQsU0FBU00sRUFBZW5LLEdBQ3BCLE1BQU1SLEVBQU0sSUFBRyxJQUFJZixNQUFPMkwsbUJBQW1CcEssRUFBSUQsWUFBWUMsRUFBSXFLLFVBQ2pFLG1CQUFrQixZQUFhN0ssRUFDbkMsQ0FDQSxNQUFNOEssRUFBc0IsSUFBSUMsSUFTekIsU0FBU0MsRUFBbUJ4SyxFQUFLbUIsRUFBTXhELEVBQUs4QyxHQUMvQzBKLEVBQWVuSyxHQUVmckMsRUFBSXNCLE9BQU8sS0FBS0MsS0FBSyxDQUNqQmEsUUFBUyxpQ0FFYlUsRUFBS1QsRUFDVCxDQWZBLE9BQVcsc0JBQXNCLENBQUN5SyxFQUFRQyxLQUN0Q25MLFFBQVFKLE1BQU0sMEJBQTJCdUwsRUFBUyxVQUFXRCxHQUM3REgsRUFBb0JsRixJQUFJc0YsRUFBU0QsRUFBTyxJQUU1QyxPQUFXLG9CQUFvQkMsSUFDM0JKLEVBQW9CSyxPQUFPRCxFQUFRLElBWXZDLE9BQVcsc0JBQXNCLENBQUNELEVBQVFDLEtBQ3RDUCxFQUFlTSxHQUNmbEwsUUFBUUosTUFBTSwwQkFBMkJ1TCxFQUFTLFVBQVdELEdBQzdELFNBQWEsRUFBRSxJQUduQixPQUFXLHFCQUFzQnpLLElBQzdCbUssRUFBZW5LLEdBQ2ZULFFBQVFKLE1BQU0sc0JBQXVCYSxHQUNyQyxTQUFhLEVBQUUsSUFFbkIsT0FBVyxxQkFBc0JBLElBQzdCLGNBQWEsV0FBZTRLLEdBQUkscUJBQXFCNUssd0JBQStCOUUsV0FBVyxJQUVuR3NILFlBQVcsS0FDUGpELFFBQVFDLElBQUksdUJBQXVCLEdBQ3BDLElBQUlxTCxjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9jb25maWcvY29yc0VWTi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbmZpZy9jb3JPcHRpb25zLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2RhdGFiYXNlRU5WLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvY29uZmlnL2p3dEVOVi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2NvbnRyb2xsZXJzL2F1dGhDb250cm9sbGVyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2lwQ29uZmlnLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9hdXRoL2p3dEdlbmVyYXRvci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvYXV0aC91c2VyQXV0aC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9tYXJpYWRiLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbi50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZGF0YUxvYWRlci9zZXF1bGl6ZS50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvZXhwcmVzcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL2xvYWRlcnMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9tb2RlbHMvdXNlci5tb2RlbC50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwudHMiLCJ3ZWJwYWNrOi8vYXBwdi0xLy4vc3JjL3NlcnZlci9yb3V0ZXMvYXV0aFJvdXRlcy50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy9jdXJyZW50VXNlclJvdXRlLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvcm91dGVzL3JvdXRlci50cyIsIndlYnBhY2s6Ly9hcHB2LTEvLi9zcmMvc2VydmVyL3JvdXRlcy91c2VyUm91dGVzLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvYXZhdGFyLnRzIiwid2VicGFjazovL2FwcHYtMS8uL3NyYy9zZXJ2ZXIvdXRpbHMvZXJyb3JIYW5kbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmljdCBhcyBhc3NlcnQgfSBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IHsgbG9hZCB9IGZyb20gJ3RzLWRvdGVudic7XG5jb25zdCBjb3JzU2NoZW1hRU5WID0gbG9hZCh7XG4gICAgLyogTG9hZCBDT1JTICovXG4gICAgQ09SU19PUklHSU46IFN0cmluZyxcbiAgICBDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVM6IE51bWJlcixcbiAgICBDT1JTX0NSRURFTlRJQUxTOiBCb29sZWFuLFxuICAgIENPUlNfTUVUSE9EUzogU3RyaW5nLFxufSk7XG4vLyBkZXN0cnVjdHVyZSB0aGUgQ09SUyBzY2hlbWFcbmNvbnN0IHsgQ09SU19PUklHSU4sIENPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUywgQ09SU19DUkVERU5USUFMUywgQ09SU19NRVRIT0RTLCB9ID0gY29yc1NjaGVtYUVOVjtcbi8vIGFzc2VydCB0aGF0IHRoZSBDT1JTIHNjaGVtYSBpcyBwcmVzZW50XG5hc3NlcnQub2soQ09SU19PUklHSU4sICdDT1JTIG9yaWdpbiBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKENPUlNfT1BUSU9OU19TVUNDRVNTX1NUQVRVUywgJ0NPUlMgb3B0aW9ucyBzdWNjZXNzIHN0YXR1cyBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKENPUlNfQ1JFREVOVElBTFMsICdDT1JTIGNyZWRlbnRpYWxzIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soQ09SU19NRVRIT0RTLCAnQ09SUyBtZXRob2RzIHNob3VsZCBiZSBwcmVzZW50Jyk7XG4vLyBleHBvcnQgdGhlIENPUlMgc2NoZW1hXG5leHBvcnQgY29uc3QgY29yc0VOViA9IHtcbiAgICBDT1JTX09SSUdJTixcbiAgICBDT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsXG4gICAgQ09SU19DUkVERU5USUFMUyxcbiAgICBDT1JTX01FVEhPRFMsXG59O1xuLy8gZXhwb3J0IHRoZSBDT1JTIHNjaGVtYVxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGNvcnNFTlYsXG59O1xuIiwiLy8gRXhwb3J0IGNvck9wdGlvbnMgb2JqZWN0IHdpdGggb3JpZ2luIGFuZCBvcHRpb25zU3VjY2Vzc1N0YXR1cyBwcm9wZXJ0aWVzXG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKTtcbmltcG9ydCB7IGNvcnNFTlYgfSBmcm9tICcuL2NvcnNFVk4nO1xuY29uc3QgY29yT3B0aW9ucyA9IHtcbiAgICBvcmlnaW46IGNvcnNFTlYuQ09SU19PUklHSU4sXG4gICAgbWV0aG9kczogY29yc0VOVi5DT1JTX01FVEhPRFMsXG4gICAgY3JlZGVudGlhbHM6IGNvcnNFTlYuQ09SU19DUkVERU5USUFMUyxcbiAgICBvcHRpb25zU3VjY2Vzc1N0YXR1czogY29yc0VOVi5DT1JTX09QVElPTlNfU1VDQ0VTU19TVEFUVVMsXG59O1xuZXhwb3J0IHsgY29yT3B0aW9ucyB9O1xuIiwiaW1wb3J0IHsgc3RyaWN0IGFzIGFzc2VydCB9IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSAndHMtZG90ZW52JztcbmNvbnN0IGRhdGFTY2hlbWFFTlYgPSBsb2FkKHtcbiAgICAvKiBMb2FkIERhdGFiYXNlICovXG4gICAgREJfSE9TVDogU3RyaW5nLFxuICAgIERCX1BPUlQ6IE51bWJlcixcbiAgICBEQl9VU0VSOiBTdHJpbmcsXG4gICAgREJfUEFTUzogU3RyaW5nLFxuICAgIERCX05BTUU6IFN0cmluZyxcbiAgICBEQl9TT0NLRVRfUEFUSDogU3RyaW5nLFxuICAgIERCX1NPQ0tFVF9USU1FT1VUOiBOdW1iZXIsXG4gICAgREJfQ09NUFJFU1M6IEJvb2xlYW4sXG4gICAgREJfREVCVUc6IEJvb2xlYW4sXG4gICAgREJfUEVSTUlUX0xPQ0FMX0lORklMRTogQm9vbGVhbixcbiAgICBEQl9UUkFDRTogQm9vbGVhbixcbiAgICBEQl9DSEVDS19EVVBMSUNBVEU6IEJvb2xlYW4sXG4gICAgREJfU1NMOiBCb29sZWFuLFxuICAgIERCX1NTTF9DQTogU3RyaW5nLFxuICAgIERCX1NTTF9LRVk6IFN0cmluZyxcbiAgICBEQl9TU0xfQ0VSVDogU3RyaW5nLFxuICAgIERCX0NPTk5FQ1RJT05fQVRUUklCVVRFUzogU3RyaW5nLFxuICAgIERCX0NPTk5FQ1RJT05fVElNRU9VVDogTnVtYmVyLFxufSk7XG5jb25zdCB7IERCX0hPU1QsIERCX1BPUlQsIERCX1VTRVIsIERCX1BBU1MsIERCX05BTUUsIERCX1NPQ0tFVF9QQVRILCBEQl9TT0NLRVRfVElNRU9VVCwgREJfQ09NUFJFU1MsIERCX0RFQlVHLCBEQl9QRVJNSVRfTE9DQUxfSU5GSUxFLCBEQl9UUkFDRSwgREJfQ0hFQ0tfRFVQTElDQVRFLCBEQl9TU0wsIERCX1NTTF9DQSwgREJfU1NMX0tFWSwgREJfU1NMX0NFUlQsIERCX0NPTk5FQ1RJT05fQVRUUklCVVRFUywgREJfQ09OTkVDVElPTl9USU1FT1VULCB9ID0gZGF0YVNjaGVtYUVOVjtcbmFzc2VydC5vayhEQl9IT1NULCAnRGF0YWJhc2UgaG9zdCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKERCX1BPUlQsICdEYXRhYmFzZSBwb3J0IHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soREJfVVNFUiwgJ0RhdGFiYXNlIHVzZXIgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9QQVNTLCAnRGF0YWJhc2UgcGFzc3dvcmQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhEQl9OQU1FLCAnRGF0YWJhc2UgbmFtZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuZXhwb3J0IGNvbnN0IGRhdGFiYXNlRU5WID0ge1xuICAgIERCX0hPU1QsXG4gICAgREJfUE9SVCxcbiAgICBEQl9VU0VSLFxuICAgIERCX1BBU1MsXG4gICAgREJfTkFNRSxcbiAgICBEQl9TT0NLRVRfUEFUSCxcbiAgICBEQl9TT0NLRVRfVElNRU9VVCxcbiAgICBEQl9DT01QUkVTUyxcbiAgICBEQl9ERUJVRyxcbiAgICBEQl9QRVJNSVRfTE9DQUxfSU5GSUxFLFxuICAgIERCX1RSQUNFLFxuICAgIERCX0NIRUNLX0RVUExJQ0FURSxcbiAgICBEQl9DT05ORUNUSU9OX0FUVFJJQlVURVMsXG4gICAgREJfQ09OTkVDVElPTl9USU1FT1VULFxuICAgIERCX1NTTCxcbiAgICBEQl9TU0xfQ0EsXG4gICAgREJfU1NMX0tFWSxcbiAgICBEQl9TU0xfQ0VSVCxcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZGF0YWJhc2VFTlYsXG4gICAgbWFyaWFkYjoge1xuICAgICAgICBzc2w6IERCX1NTTCxcbiAgICAgICAgc3NsT3B0aW9uczoge1xuICAgICAgICAgICAgY2E6IERCX1NTTF9DQSxcbiAgICAgICAgICAgIGtleTogREJfU1NMX0tFWSxcbiAgICAgICAgICAgIGNlcnQ6IERCX1NTTF9DRVJULFxuICAgICAgICB9LFxuICAgIH0sXG59O1xuIiwiaW1wb3J0IHsgc3RyaWN0IGFzIGFzc2VydCB9IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQgeyBsb2FkIH0gZnJvbSAndHMtZG90ZW52JztcbmNvbnN0IGp3dFNjaGVtYUVOViA9IGxvYWQoe1xuICAgIC8qIExvYWQgSldUICovXG4gICAgSldUX1NFQ1JFVDogU3RyaW5nLFxuICAgIEpXVF9FWFBJUkVTX0lOOiBTdHJpbmcsXG4gICAgSldUX1JFRlJFU0hfU0VDUkVUOiBTdHJpbmcsXG4gICAgSldUX1JFRlJFU0hfRVhQSVJFU19JTjogU3RyaW5nLFxuICAgIEpXVF9SRUZSRVNIX01BWF9BR0U6IE51bWJlcixcbiAgICBKV1RfQUxHT1JJVEhNOiBTdHJpbmcsXG4gICAgSldUX0lTU1VFUjogU3RyaW5nLFxuICAgIEpXVF9NQVhfQUdFOiBOdW1iZXIsXG4gICAgSldUX0hUVFBfT05MWTogQm9vbGVhbixcbiAgICBKV1RfU0FNRV9TSVRFOiBTdHJpbmcsXG4gICAgSldUX0NPT0tJRV9OQU1FOiBTdHJpbmcsXG4gICAgSldUX1NFQ1VSRTogQm9vbGVhbixcbn0pO1xuLy8gZGVzdHJ1Y3R1cmUgdGhlIEpXVCBzY2hlbWFcbmNvbnN0IHsgSldUX1NFQ1JFVCwgSldUX0VYUElSRVNfSU4sIEpXVF9SRUZSRVNIX1NFQ1JFVCwgSldUX1JFRlJFU0hfRVhQSVJFU19JTiwgSldUX1JFRlJFU0hfTUFYX0FHRSwgSldUX0FMR09SSVRITSwgSldUX0lTU1VFUiwgSldUX01BWF9BR0UsIEpXVF9IVFRQX09OTFksIEpXVF9TQU1FX1NJVEUsIEpXVF9DT09LSUVfTkFNRSwgSldUX1NFQ1VSRSwgfSA9IGp3dFNjaGVtYUVOVjtcbi8vIGFzc2VydCB0aGF0IHRoZSBKV1Qgc2NoZW1hIGlzIHByZXNlbnRcbmFzc2VydC5vayhKV1RfU0VDUkVULCAnSldUIHNlY3JldCBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9FWFBJUkVTX0lOLCAnSldUIGV4cGlyZXMgaW4gc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfUkVGUkVTSF9TRUNSRVQsICdKV1QgcmVmcmVzaCBzZWNyZXQgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfUkVGUkVTSF9FWFBJUkVTX0lOLCAnSldUIHJlZnJlc2ggZXhwaXJlcyBpbiBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9BTEdPUklUSE0sICdKV1QgYWxnb3JpdGhtIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX0lTU1VFUiwgJ0pXVCBpc3N1ZXIgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfTUFYX0FHRSwgJ0pXVCBtYXggYWdlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX0hUVFBfT05MWSwgJ0pXVCBodHRwIG9ubHkgc2hvdWxkIGJlIHByZXNlbnQnKTtcbmFzc2VydC5vayhKV1RfU0FNRV9TSVRFLCAnSldUIHNhbWUgc2l0ZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9DT09LSUVfTkFNRSwgJ0pXVCBjb29raWUgbmFtZSBzaG91bGQgYmUgcHJlc2VudCcpO1xuYXNzZXJ0Lm9rKEpXVF9TRUNVUkUsICdKV1Qgc2VjdXJlIHNob3VsZCBiZSBwcmVzZW50Jyk7XG5hc3NlcnQub2soSldUX1JFRlJFU0hfTUFYX0FHRSwgJ0pXVCByZWZyZXNoIG1heCBhZ2Ugc2hvdWxkIGJlIHByZXNlbnQnKTtcbi8vIGV4cG9ydCB0aGUgSldUIHNjaGVtYVxuZXhwb3J0IGNvbnN0IGp3dEVOViA9IHtcbiAgICBKV1RfU0VDUkVULFxuICAgIEpXVF9FWFBJUkVTX0lOLFxuICAgIEpXVF9SRUZSRVNIX1NFQ1JFVCxcbiAgICBKV1RfUkVGUkVTSF9FWFBJUkVTX0lOLFxuICAgIEpXVF9SRUZSRVNIX01BWF9BR0UsXG4gICAgSldUX0FMR09SSVRITSxcbiAgICBKV1RfSVNTVUVSLFxuICAgIEpXVF9NQVhfQUdFLFxuICAgIEpXVF9IVFRQX09OTFksXG4gICAgSldUX1NBTUVfU0lURSxcbiAgICBKV1RfQ09PS0lFX05BTUUsXG4gICAgSldUX1NFQ1VSRSxcbn07XG4vLyBleHBvcnQgdGhlIEpXVCBzY2hlbWFcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBqd3RFTlYsXG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgeyBqd3RHZW5lcmF0b3IsIGp3dFJlZnJlc2ggfSBmcm9tICcuLi9sb2FkZXJzL2F1dGgvand0R2VuZXJhdG9yJztcbmltcG9ydCBVc2VyUmVnaXN0cmF0aW9uIGZyb20gJy4uL21vZGVscy91c2VyUmVnaXN0ZXIubW9kZWwnO1xuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICcuLi91dGlscy9lcnJvckhhbmRsZXInO1xuZG90ZW52LmNvbmZpZygpO1xuZXhwb3J0IGNvbnN0IHVzZXJSZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdXNlcm5hbWUsIGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gICAgICAgIGlmICghbmFtZSB8fCAhdXNlcm5hbWUgfHwgIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTmV3IFVzZXIgdmFsaWRhdGlvbiBlcnJvcicpLCByZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrIGlmIHVzZXIgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY29uc3QgdXNlckV4aXN0cyA9IGF3YWl0IFVzZXJSZWdpc3RyYXRpb24uZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh1c2VyRXhpc3RzKSB7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlRXJyb3IobmV3IEVycm9yKCdVc2VyUmVnaXN0cmF0aW9ucy5lbWFpbDogVXNlciBhbHJlYWR5IGV4aXN0cyAnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5jcmVhdGUoe1xuICAgICAgICAgICAgbmV3VXNlcjogbmFtZSxcbiAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHRva2VuID0gand0R2VuZXJhdG9yKHsgaWQ6IHVzZXIuaWQgfSk7XG4gICAgICAgIHJlcy5jb29raWUoJ2p3dCcsIHRva2VuLCB7XG4gICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICBtYXhBZ2U6IGp3dEVOVi5KV1RfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICBzZWN1cmU6IGp3dEVOVi5KV1RfU0VDVVJFLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICB9KTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICBuYW1lOiB1c2VyLm5ld1VzZXIsXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGhhbmRsZUVycm9yKGVycm9yLCByZXMpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdXNlckxvZ2luID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUVycm9yKG5ldyBFcnJvcignTG9naW4gVmFsaWRhdGlvbiBFcnJvciEnKSwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlclJlZ2lzdHJhdGlvbi5sb2dpblVzZXIoZW1haWwsIHBhc3N3b3JkKTtcbiAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgbm90IGZvdW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9rZW4gPSBqd3RHZW5lcmF0b3IoeyBpZDogdXNlci5pZCB9KTtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gand0UmVmcmVzaCh7IGlkOiB1c2VyLmlkIH0pO1xuICAgICAgICBjb25zb2xlLmxvZygnVXNlciBsb2dnZWQgaW46JywgcmVmcmVzaFRva2VuKTtcbiAgICAgICAgLy8gU2V0dGluZyB0aGUgYWNjZXNzIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdqd3QnLCB0b2tlbiwge1xuICAgICAgICAgICAgaHR0cE9ubHk6IGp3dEVOVi5KV1RfSFRUUF9PTkxZLFxuICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBTZXR0aW5nIHRoZSByZWZyZXNoIHRva2VuIGNvb2tpZVxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCByZWZyZXNoVG9rZW4sIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiBqd3RFTlYuSldUX0hUVFBfT05MWSxcbiAgICAgICAgICAgIG1heEFnZTogand0RU5WLkpXVF9SRUZSRVNIX01BWF9BR0UgKiAxMDAwLCAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgIHNlY3VyZTogand0RU5WLkpXVF9TRUNVUkUsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgIH0pO1xuICAgICAgICByZXMuc2V0SGVhZGVyKCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApO1xuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXMuanNvbih7IHRva2VuLCByZWZyZXNoVG9rZW4sIHVzZXI6IHVzZXIuaWQgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHVzZXJMb2dvdXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmNvb2tpZXMucmVmcmVzaFRva2VuO1xuICAgICAgICBpZiAoIWFjY2Vzc1Rva2VuICYmICFyZWZyZXNoVG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ05vIHRva2VucyBwcm92aWRlZCEnIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIENsZWFyIHRoZSBhY2Nlc3MgdG9rZW5cbiAgICAgICAgcmVzLmNvb2tpZSgnand0JywgJycsIHtcbiAgICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nLFxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxuICAgICAgICAgICAgbWF4QWdlOiAxLCAvLyAxIG1pbGxpc2Vjb25kIHRvIGVmZmVjdGl2ZWx5IGV4cGlyZSB0aGUgY29va2llXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBDbGVhciB0aGUgcmVmcmVzaCB0b2tlblxuICAgICAgICByZXMuY29va2llKCdyZWZyZXNoVG9rZW4nLCAnJywge1xuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicsXG4gICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICBtYXhBZ2U6IDEsIC8vIDEgbWlsbGlzZWNvbmQgdG8gZWZmZWN0aXZlbHkgZXhwaXJlIHRoZSBjb29raWVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbG9nZ2VkIG91dCcgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgcmVzKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHJlZnJlc2hUb2tlbiA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IHJlcS5jb29raWVzLnJlZnJlc2hUb2tlbjtcbiAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQnIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGp3dC52ZXJpZnkocmVmcmVzaFRva2VuLCBqd3RFTlYuSldUX1JFRlJFU0hfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0pXVCB2ZXJpZmljYXRpb24gZXJyb3InLCBlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMSkuanNvbih7IG1lc3NhZ2U6ICdVbmF1dGhvcml6ZWQgSW52YWxpZCBUb2tlbicgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29kZWRUb2tlbi5pZDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdVc2VyIElEOicsIHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBtZXNzYWdlOiAnVXNlciBub3QgZm91bmQnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgYSBuZXcgdG9rZW5cbiAgICAgICAgICAgIGNvbnN0IG5ld1Rva2VuID0gand0LnNpZ24oeyBpZDogdXNlci5pZCB9LCBqd3RFTlYuSldUX1NFQ1JFVCwge1xuICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgICAgIGFsZ29yaXRobTogand0RU5WLkpXVF9BTEdPUklUSE0sXG4gICAgICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzLmNvb2tpZSgnand0JywgbmV3VG9rZW4sIHtcbiAgICAgICAgICAgICAgICBodHRwT25seTogand0RU5WLkpXVF9IVFRQX09OTFksXG4gICAgICAgICAgICAgICAgbWF4QWdlOiBqd3RFTlYuSldUX1JFRlJFU0hfTUFYX0FHRSAqIDEwMDAsXG4gICAgICAgICAgICAgICAgc2VjdXJlOiBqd3RFTlYuSldUX1NFQ1VSRSxcbiAgICAgICAgICAgICAgICBzYW1lU2l0ZTogJ2xheCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdG9rZW46IG5ld1Rva2VuLCB1c2VyOiB1c2VyLmlkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9KTtcbn07XG4vLyByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5leHBvcnQgY29uc3QgcmVxdWlyZUF1dGggPSAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyUmVnaXN0cmF0aW9uLmZpbmRCeVBrKHVzZXJJZCk7XG4gICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXMubG9jYWxzLnVzZXIgPSB1c2VyO1xuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xuICAgIG5leHQoKTtcbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgdXNlclJlZ2lzdGVyLFxuICAgIHVzZXJMb2dpbixcbiAgICB1c2VyTG9nb3V0LFxuICAgIHJlZnJlc2hUb2tlbixcbiAgICByZXF1aXJlQXV0aCxcbn07XG4iLCJpbXBvcnQgcmF0ZUxpbWl0IGZyb20gJ2V4cHJlc3MtcmF0ZS1saW1pdCc7XG5pbXBvcnQgeyBlbnYgfSBmcm9tICcuLi8uLi9jb25maWcvaW5kZXgnO1xuZXhwb3J0IGNvbnN0IGtleUdlbmVyYXRvciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGlmICghcmVxLmlwKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHsgbWVzc2FnZTogJ1dhcm5pbmc6IHJlcXVlc3QuaXAgaXMgbWlzc2luZyEnIH0pO1xuICAgICAgICByZXR1cm4gcmVxLnNvY2tldC5yZW1vdGVBZGRyZXNzO1xuICAgIH1cbiAgICByZXR1cm4gcmVxLmlwLnJlcGxhY2UoLzpcXGQrW146XSokLywgJycpO1xufTtcbmV4cG9ydCBjb25zdCBsaW1pdGVyID0gcmF0ZUxpbWl0KHtcbiAgICB3aW5kb3dNczogZW52LlJBUkVfTElNSVRfV0lORE9XX01TLFxuICAgIG1heDogZW52Lk1BWCxcbiAgICBtZXNzYWdlOiBlbnYuUkFSRV9MSU1JVF9NRVNTQUdFLFxuICAgIHN0YXR1c0NvZGU6IGVudi5SQVJFX0xJTUlUX0NPREUsXG4gICAgaGFuZGxlcjogKF9yZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuc3RhdHVzKGVudi5SQVJFX0xJTUlUX0NPREUpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogZW52LlJBUkVfTElNSVRfTUVTU0FHRSxcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBrZXlHZW5lcmF0b3IsXG59KTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBsaW1pdGVyLFxuICAgIGtleUdlbmVyYXRvcixcbn07XG4iLCJpbXBvcnQgZG90ZW52IGZyb20gJ2RvdGVudic7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvand0RU5WJztcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBqd3RHZW5lcmF0b3IgPSAocGF5bG9hZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBqd3RFTlYuSldUX1NFQ1JFVCwge1xuICAgICAgICAgICAgYWxnb3JpdGhtOiBqd3RFTlYuSldUX0FMR09SSVRITSxcbiAgICAgICAgICAgIGV4cGlyZXNJbjogand0RU5WLkpXVF9FWFBJUkVTX0lOLFxuICAgICAgICAgICAgaXNzdWVyOiBqd3RFTlYuSldUX0lTU1VFUixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIGdlbmVyYXRpbmcgSldUJyk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBqd3RWZXJpZmllciA9ICh0b2tlbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3QudmVyaWZ5KHRva2VuLCBqd3RFTlYuSldUX1NFQ1JFVCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHZlcmlmeWluZyBKV1QnKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGp3dFJlZnJlc2ggPSAocGF5bG9hZCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBqd3RFTlYuSldUX1JFRlJFU0hfU0VDUkVULCB7XG4gICAgICAgICAgICBhbGdvcml0aG06IGp3dEVOVi5KV1RfQUxHT1JJVEhNLFxuICAgICAgICAgICAgZXhwaXJlc0luOiBqd3RFTlYuSldUX1JFRlJFU0hfRVhQSVJFU19JTixcbiAgICAgICAgICAgIGlzc3Vlcjogand0RU5WLkpXVF9JU1NVRVIsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBnZW5lcmF0aW5nIEpXVCcpO1xuICAgIH1cbn07XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgand0R2VuZXJhdG9yLFxuICAgIGp3dFZlcmlmaWVyLFxuICAgIGp3dFJlZnJlc2gsXG59O1xuIiwiaW1wb3J0IGRvdGVudiBmcm9tICdkb3RlbnYnO1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgand0RU5WIH0gZnJvbSAnLi4vLi4vY29uZmlnL2p3dEVOVic7XG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBqd3RWZXJpZmllciB9IGZyb20gJy4vand0R2VuZXJhdG9yJztcbmRvdGVudi5jb25maWcoKTtcbmV4cG9ydCBjb25zdCBnZXRDdXJyZW50VXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZGVjb2RlZFRva2VuID0gand0VmVyaWZpZXIodG9rZW4pO1xuICAgICAgICBjb25zdCB1c2VySWQgPSBkZWNvZGVkVG9rZW4uaWQ7XG4gICAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIElEIGlzIHJlcXVpcmVkJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kQnlQayh1c2VySWQpO1xuICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24odXNlcik7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGN1cnJlbnQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyJyB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRva2VuO1xufTtcbmV4cG9ydCBjb25zdCB2ZXJpZnlVc2VyID0gYXN5bmMgKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5qd3Q7XG4gICAgICAgIGlmICghdG9rZW4pIHtcbiAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICB9XG4gICAgICAgIGp3dC52ZXJpZnkodG9rZW4sIGp3dEVOVi5KV1RfU0VDUkVULCBhc3luYyAoZXJyLCBkZWNvZGVkVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdKV1QgdmVyaWZpY2F0aW9uIGVycm9yOicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRCeVBrKGRlY29kZWRUb2tlbi5pZCk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlY29kZWRUb2tlbjonLCBkZWNvZGVkVG9rZW4pO1xuICAgICAgICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5sb2NhbHMudXNlciA9IHVzZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXMubG9jYWxzLnVzZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJldHJpZXZpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgcmVzLmxvY2Fscy51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB2ZXJpZnlpbmcgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHJlcy5sb2NhbHMudXNlciA9IG51bGw7XG4gICAgICAgIG5leHQoKTtcbiAgICB9XG59O1xuZXhwb3J0IGRlZmF1bHQgeyB2ZXJpZnlVc2VyIH07XG4iLCJpbXBvcnQgeyBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSB9IGZyb20gJy4vc2VxdWlsaXplQ29uJztcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3YWl0Rm9yREIoKSB7XG4gICAgY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbiAgICBjb25zdCBtYXhBdHRlbXB0cyA9IDEwOyAvLyAxMCBhdHRlbXB0c1xuICAgIGNvbnN0IGRlbGF5ID0gMTAwMDsgLy8gMSBzZWNvbmRcbiAgICBsZXQgYXR0ZW1wdHMgPSAwO1xuICAgIHdoaWxlIChhdHRlbXB0cyA8IG1heEF0dGVtcHRzKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUZXN0IHRoZSBjb25uZWN0aW9uXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuYXV0aGVudGljYXRlKCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlc3RhYmxpc2hlZCwgU3RhcnRpbmcgU2VydmVyLi4uLi4nKTtcbiAgICAgICAgICAgIC8vIFN5bmMgdGhlIGRhdGFiYXNlXG4gICAgICAgICAgICBhd2FpdCBzZXF1ZWxpemUuc3luYyh7IGZvcmNlOiB0cnVlIH0pO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0Ryb3AgYW5kIHJlLXN5bmMgZGIuJyk7XG4gICAgICAgICAgICByZXR1cm4gc2VxdWVsaXplOyAvLyBSZXR1cm4gdGhlIFNlcXVlbGl6ZSBpbnN0YW5jZVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgYXR0ZW1wdHMrKztcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUuZXJyb3IoJ01heCBhdHRlbXB0cyByZWFjaGVkLCBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZCcpO1xuICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWQnKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgd2FpdEZvckRCIH07XG4iLCJpbXBvcnQgeyBTZXF1ZWxpemUgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuaW1wb3J0IGZzIGZyb20gJ25vZGU6ZnMnO1xuY29uc3QgZGJDb25maWcgPSB7XG4gICAgRGlhbGVjdDogJ21hcmlhZGInLFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QgfHwgJ2xvY2FsaG9zdCcsXG4gICAgdXNlcm5hbWU6IGRhdGFiYXNlRU5WLkRCX1VTRVIgfHwgJ21ldGFsYnJhaW4nLFxuICAgIHBhc3N3b3JkOiBkYXRhYmFzZUVOVi5EQl9QQVNTIHx8ICdwYXNzd29yZCcsXG4gICAgZGF0YWJhc2U6IGRhdGFiYXNlRU5WLkRCX05BTUUgfHwgJ0ZpbmRTb21lT25lJyxcbiAgICBzb2NrZXRQYXRoOiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfUEFUSCB8fCAnL3Zhci9ydW4vbXlzcWxkL215c3FsZC5zb2NrJyxcbiAgICBzb2NrZXRUaW1lb3V0OiBkYXRhYmFzZUVOVi5EQl9TT0NLRVRfVElNRU9VVCB8fCAxMDAwLFxuICAgIGNvbXByZXNzOiBkYXRhYmFzZUVOVi5EQl9DT01QUkVTUyB8fCBmYWxzZSxcbiAgICBkZWJ1ZzogZGF0YWJhc2VFTlYuREJfREVCVUcgfHwgZmFsc2UsXG4gICAgcGVybWl0TG9jYWxJbmZpbGU6IGRhdGFiYXNlRU5WLkRCX1BFUk1JVF9MT0NBTF9JTkZJTEUgfHwgZmFsc2UsXG4gICAgdHJhY2U6IGRhdGFiYXNlRU5WLkRCX1RSQUNFIHx8IHRydWUsXG4gICAgY2hlY2tEdXBsaWNhdGU6IGRhdGFiYXNlRU5WLkRCX0NIRUNLX0RVUExJQ0FURSB8fCBmYWxzZSxcbiAgICBjb25uZWN0QXR0cmlidXRlczogSlNPTi5wYXJzZShkYXRhYmFzZUVOVi5EQl9DT05ORUNUSU9OX0FUVFJJQlVURVMgfHwgJ3t9JyksXG4gICAgY29ubmVjdGlvblRpbWVvdXQ6IGRhdGFiYXNlRU5WLkRCX0NPTk5FQ1RJT05fVElNRU9VVCB8fCAxMDAwLFxuICAgIHBvcnQ6IGRhdGFiYXNlRU5WLkRCX1BPUlQgfHwgMzMwNixcbiAgICBzc2w6IGRhdGFiYXNlRU5WLkRCX1NTTCB8fCBmYWxzZSxcbiAgICBkaWFsZWN0T3B0aW9uczoge1xuICAgICAgICBzc2w6IHtcbiAgICAgICAgICAgIGNhOiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0FcbiAgICAgICAgICAgICAgICA/IGZzLnJlYWRGaWxlU3luYyhkYXRhYmFzZUVOVi5EQl9TU0xfQ0EpLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAga2V5OiBkYXRhYmFzZUVOVi5EQl9TU0xfS0VZXG4gICAgICAgICAgICAgICAgPyBmcy5yZWFkRmlsZVN5bmMoZGF0YWJhc2VFTlYuREJfU1NMX0tFWSkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIDogJycsXG4gICAgICAgICAgICBjZXJ0OiBkYXRhYmFzZUVOVi5EQl9TU0xfQ0VSVFxuICAgICAgICAgICAgICAgID8gZnMucmVhZEZpbGVTeW5jKGRhdGFiYXNlRU5WLkRCX1NTTF9DRVJUKS50b1N0cmluZygpXG4gICAgICAgICAgICAgICAgOiAnJyxcbiAgICAgICAgfSxcbiAgICB9LFxufTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXF1ZWxpemVJbnN0YW5jZSgpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgU2VxdWVsaXplIGluc3RhbmNlXG4gICAgY29uc3Qgc2VxdWVsaXplID0gbmV3IFNlcXVlbGl6ZShkYkNvbmZpZy5kYXRhYmFzZSwgZGJDb25maWcudXNlcm5hbWUsIGRiQ29uZmlnLnBhc3N3b3JkLCB7XG4gICAgICAgIGhvc3Q6IGRiQ29uZmlnLmhvc3QsXG4gICAgICAgIGRpYWxlY3Q6IGRiQ29uZmlnLkRpYWxlY3QsXG4gICAgICAgIHBvcnQ6IGRiQ29uZmlnLnBvcnQsXG4gICAgICAgIHNzbDogZGJDb25maWcuc3NsLFxuICAgICAgICBkaWFsZWN0T3B0aW9uczogZGJDb25maWcuZGlhbGVjdE9wdGlvbnMsXG4gICAgfSk7XG4gICAgcmV0dXJuIHNlcXVlbGl6ZTtcbn1cbmV4cG9ydCBkZWZhdWx0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfTtcbiIsIi8vIHRoaXMgd2lsbCBsb2FkIGFsbCBtb2RlbCBjbGFzc2VzIGZvdW5kIGluIGZpbGVzIG1hdGNoaW5nIHRoaXMgZ2xvYiBwYXR0ZXJuLlxuaW1wb3J0IHsgU2VxdWVsaXplLCBpbXBvcnRNb2RlbHMgfSBmcm9tICdAc2VxdWVsaXplL2NvcmUnO1xuaW1wb3J0IHsgTWFyaWFEYkRpYWxlY3QgfSBmcm9tICdAc2VxdWVsaXplL21hcmlhZGInO1xuaW1wb3J0IHsgZmlsZVVSTFRvUGF0aCB9IGZyb20gJ25vZGU6dXJsJztcbmltcG9ydCB7IGRpcm5hbWUgfSBmcm9tICdub2RlOnBhdGgnO1xuaW1wb3J0IHsgZGF0YWJhc2VFTlYgfSBmcm9tICcuLi8uLi9jb25maWcvZGF0YWJhc2VFTlYnO1xuY29uc3QgX19kaXJuYW1lID0gZGlybmFtZShmaWxlVVJMVG9QYXRoKGltcG9ydC5tZXRhLnVybCkpO1xuZXhwb3J0IGNvbnN0IHNlcXVlbGl6ZSA9IG5ldyBTZXF1ZWxpemUoe1xuICAgIGRpYWxlY3Q6IE1hcmlhRGJEaWFsZWN0LFxuICAgIGhvc3Q6IGRhdGFiYXNlRU5WLkRCX0hPU1QsXG4gICAgdXNlcjogZGF0YWJhc2VFTlYuREJfVVNFUixcbiAgICBwYXNzd29yZDogZGF0YWJhc2VFTlYuREJfUEFTUyxcbiAgICBkYXRhYmFzZTogZGF0YWJhc2VFTlYuREJfTkFNRSxcbiAgICBwb3J0OiBkYXRhYmFzZUVOVi5EQl9QT1JULFxuICAgIHNzbDogZGF0YWJhc2VFTlYuREJfU1NMLFxuICAgIG1vZGVsczogYXdhaXQgaW1wb3J0TW9kZWxzKF9fZGlybmFtZSArICcvc3JjL3NlcnZlci9tb2RlbHMvKiovKi5tb2RlbC57dHMsanN9JyksXG59KTtcbmV4cG9ydCBkZWZhdWx0IHNlcXVlbGl6ZTtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBoZWxtZXQgZnJvbSAnaGVsbWV0JztcbmltcG9ydCBtb3JnYW4gZnJvbSAnbW9yZ2FuJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5pbXBvcnQgeyByb3V0ZXIgfSBmcm9tICcuLi9yb3V0ZXMvcm91dGVyJztcbmltcG9ydCB7IGxpbWl0ZXIgfSBmcm9tICcuL2F1dGgvaXBDb25maWcnO1xuaW1wb3J0IHsgZ2xvYmFsRXJyb3JIYW5kbGVyIH0gZnJvbSAnLi4vdXRpbHMvZXJyb3JIYW5kbGVyJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uICh7IGFwcCB9KSB7XG4gICAgYXBwLmdldCgnL3N0YXR1cycsIChfcmVxLCByZXMpID0+IHJlcy5zZW5kU3RhdHVzKDIwMCkuZW5kKCkpO1xuICAgIGFwcC51c2UoKF9yZXEsIHJlcywgbmV4dCkgPT4ge1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgICAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzJywgJ0dFVCwgUE9TVCwgUFVULCBERUxFVEUsIE9QVElPTlMnKTtcbiAgICAgICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgICAgICBpZiAoX3JlcS5tZXRob2QgPT09ICdPUFRJT05TJykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zZW5kU3RhdHVzKDIwNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoKTtcbiAgICB9KTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbiAgICBhcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbiAgICBhcHAudXNlKGV4cHJlc3MudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiB0cnVlIH0pKTtcbiAgICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcbiAgICBhcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbiAgICBjb25zdCBUcnVzdF9Qcm94eSA9IGVudi5UUlVTVF9QUk9YWSB8fCAnZmFsc2UnO1xuICAgIGNvbnN0IG51bWJlck9mUHJveGllcyA9IGVudi5OVU1CRVJfT0ZfUFJPWElFUyB8fCAxO1xuICAgIGlmIChUcnVzdF9Qcm94eSkge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChUcnVzdF9Qcm94eSA9PT0gJ2ZhbHNlJykge1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIGZhbHNlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgVHJ1c3RfUHJveHkpO1xuICAgICAgICBhcHAuc2V0KCd0cnVzdCBwcm94eScsIG51bWJlck9mUHJveGllcyk7XG4gICAgfVxuICAgIGFwcC5zZXQoJ3RydXN0IHByb3h5JywgbnVtYmVyT2ZQcm94aWVzKTtcbiAgICBhcHAuZ2V0KCcvaXAnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHJlc3BvbnNlLnNlbmQocmVxdWVzdC5pcCkpO1xuICAgIGFwcC51c2UoaGVsbWV0KHtcbiAgICAgICAgY29udGVudFNlY3VyaXR5UG9saWN5OiBmYWxzZSxcbiAgICB9KSk7XG4gICAgYXBwLnVzZShtb3JnYW4oZW52Lk1PUkdBTikpO1xuICAgIGFwcC51c2UobGltaXRlcik7XG4gICAgYXBwLnVzZShyb3V0ZXIpO1xuICAgIGFwcC51c2UoZ2xvYmFsRXJyb3JIYW5kbGVyKTtcbiAgICByZXR1cm4gYXBwO1xufVxuIiwiaW1wb3J0IGV4cHJlc3NMb2FkZXIgZnJvbSAnLi9leHByZXNzJztcbmltcG9ydCBzZXF1aWxpemVMb2FkZXIgZnJvbSAnLi9kYXRhTG9hZGVyL3NlcXVsaXplJztcbmltcG9ydCB7IHdhaXRGb3JEQiB9IGZyb20gJy4vZGF0YUxvYWRlci9tYXJpYWRiJztcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uICh7IGFwcCB9KSB7XG4gICAgYXdhaXQgd2FpdEZvckRCKCk7XG4gICAgc2VxdWlsaXplTG9hZGVyO1xuICAgIGF3YWl0IGV4cHJlc3NMb2FkZXIoeyBhcHAgfSk7XG4gICAgY29uc29sZS5sb2coJ0V4cHJlc3MgSW50aWFsaXplZCEnKTtcbn1cbiIsImltcG9ydCB7IERhdGFUeXBlcywgTW9kZWwgfSBmcm9tICdzZXF1ZWxpemUnO1xuaW1wb3J0IHsgY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UgfSBmcm9tICcuLi9sb2FkZXJzL2RhdGFMb2FkZXIvc2VxdWlsaXplQ29uJztcbi8vIERlZmluZSBJbnN0YW5jZSBvZiBTZXF1ZWxpemVcbmNvbnN0IHNlcXVlbGl6ZSA9IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlKCk7XG5jbGFzcyBVc2VyIGV4dGVuZHMgTW9kZWwge1xuICAgIC8vIGRlY2xhcmUgc3RhdGljIG1ldGhvZHMgdG8gZ2V0IHVzZXIgYnkgSURcbiAgICBzdGF0aWMgYXN5bmMgZ2V0VXNlckJ5SUQoaWQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGlkOiBpZCB9IH0pO1xuICAgIH1cbn1cbi8vIFN5bmMgdGhlIG1vZGVsIHdpdGggdGhlIGRhdGFiYXNlXG5Vc2VyLmluaXQoe1xuICAgIGlkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgIH0sXG4gICAgZmlyc3ROYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGxhc3ROYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHZhbGlkYXRlOiB7XG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIHVzZXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGlzOiAvXlthLXpBLVowLTlfXSokLyxcbiAgICAgICAgICAgIGxlbjogWzMsIDIwXSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgIGlzRW1haWw6IHRydWUsXG4gICAgICAgICAgICBsZW46IFs1LCA1MF0sXG4gICAgICAgICAgICBub3RFbXB0eTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICB9LFxuICAgIGhhc2hlZHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcoNjQpLFxuICAgIH0sXG4gICAgc3RhdHVzOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ3VudmVyaWZpZWQnLFxuICAgIH0sXG4gICAgYmlvOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogJ1RoaXMgaXMgYSBuZXcgdXNlci4nLFxuICAgIH0sXG4gICAgam9pbjoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgYXZhdGFyVXJsOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgfSxcbiAgICBpbWFnZVVSTDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgcHJvZmlsZVBpYzoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiAnTmV3IFVzZXInLFxuICAgIH0sXG4gICAgbGFzdF9hY3Rpdml0eToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgdXBkYXRlZF9hdDoge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuREFURSxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBEYXRhVHlwZXMuTk9XLFxuICAgIH0sXG4gICAgVXNlclJlZ2lzdHJhdGlvbklEOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5VVUlELFxuICAgICAgICBhbGxvd051bGw6IHRydWUsXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcbiAgICAgICAgICAgIG1vZGVsOiAnVXNlclJlZ2lzdHJhdGlvbicsXG4gICAgICAgICAgICBrZXk6ICdpZCcsXG4gICAgICAgIH0sXG4gICAgfSxcbn0sIHtcbiAgICBzZXF1ZWxpemUsXG4gICAgbW9kZWxOYW1lOiAnVXNlcicsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgdXBkYXRlZEF0OiAndXBkYXRlZF9hdCcsXG59KTtcbi8vIFN5bmMgVXNlciBtb2RlbCB3aXRoIHRoZSBkYXRhYmFzZVxuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgc3luY2VkIHN1Y2Nlc3NmdWxseScpO1xufSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzeW5jaW5nIG5ldyB1c2VyOicsIGVycik7XG59KTtcbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iLCJpbXBvcnQgeyBEYXRhVHlwZXMsIE1vZGVsIH0gZnJvbSAnc2VxdWVsaXplJztcbmltcG9ydCB7IGNyZWF0ZVNlcXVlbGl6ZUluc3RhbmNlIH0gZnJvbSAnLi4vbG9hZGVycy9kYXRhTG9hZGVyL3NlcXVpbGl6ZUNvbic7XG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdCc7XG5pbXBvcnQgeyBnZW5lcmF0ZUF2YXRhclVybCB9IGZyb20gJy4uL3V0aWxzL2F2YXRhcic7XG5pbXBvcnQgVXNlciBmcm9tICcuL3VzZXIubW9kZWwnO1xuLy8gRGVmaW5lIEluc3RhbmNlIG9mIFNlcXVlbGl6ZVxuY29uc3Qgc2VxdWVsaXplID0gY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UoKTtcbmNsYXNzIFVzZXJSZWdpc3RyYXRpb24gZXh0ZW5kcyBNb2RlbCB7XG4gICAgLy8gQ3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBsb2cgaW4gdXNlciB1cG9uIHN1Y2Nlc3NmdWwgcmVnaXN0cmF0aW9uXG4gICAgc3RhdGljIGFzeW5jIGxvZ2luVXNlcihlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7XG4gICAgICAgICAgICB3aGVyZTogeyBlbWFpbDogZW1haWwsIGhhc2hlZHBhc3N3b3JkOiBwYXNzd29yZCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byBsb2cgb3V0IHVzZXJcbiAgICBzdGF0aWMgYXN5bmMgbG9nb3V0VXNlcihlbWFpbCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIGEgc3RhdGljIG1ldGhvZCB0byByZXNldCB0aGUgcGFzc3dvcmQsIGNvbXBhcmUgdGhlIGhhc2hlZCBwYXNzd29yZFxuICAgIHN0YXRpYyBhc3luYyByZXNldFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5maW5kT25lKHtcbiAgICAgICAgICAgIHdoZXJlOiB7IGVtYWlsOiBlbWFpbCwgaGFzaGVkcGFzc3dvcmQ6IHBhc3N3b3JkIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblVzZXJSZWdpc3RyYXRpb24uaW5pdCh7XG4gICAgaWQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXG4gICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWUsXG4gICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgfSxcbiAgICBuZXdVc2VyOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICB1c2VybmFtZToge1xuICAgICAgICB0eXBlOiBEYXRhVHlwZXMuU1RSSU5HLFxuICAgICAgICBhbGxvd051bGw6IGZhbHNlLFxuICAgIH0sXG4gICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLlNUUklORyxcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcbiAgICB9LFxuICAgIGhhc2hlZHBhc3N3b3JkOiB7XG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5TVFJJTkcsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgfSxcbiAgICBjcmVhdGVkQXQ6IHtcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLkRBVEUsXG4gICAgICAgIGFsbG93TnVsbDogZmFsc2UsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogRGF0YVR5cGVzLk5PVyxcbiAgICB9LFxufSwge1xuICAgIHNlcXVlbGl6ZTogc2VxdWVsaXplLFxuICAgIG1vZGVsTmFtZTogJ1VzZXJSZWdpc3RyYXRpb24nLFxuICAgIGNyZWF0ZWRBdDogJ2NyZWF0ZWRBdCcsXG4gICAgdGltZXN0YW1wczogZmFsc2UsXG4gICAgZnJlZXplVGFibGVOYW1lOiB0cnVlLFxufSk7XG4vLyBIYXNoIHRoZSBwYXNzd29yZCBiZWZvcmUgc2F2aW5nXG5Vc2VyUmVnaXN0cmF0aW9uLmJlZm9yZUNyZWF0ZShhc3luYyAodXNlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBjb25zdCBzYWx0ID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKTtcbiAgICAgICAgICAgIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2goU3RyaW5nKHVzZXIuaGFzaGVkcGFzc3dvcmQpLCBzYWx0KTtcbiAgICAgICAgICAgIHVzZXIuaGFzaGVkcGFzc3dvcmQgPSBoYXNoZWRQYXNzd29yZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaGFzaGluZyBwYXNzd29yZDonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgaGFzaGluZyBwYXNzd29yZCcpO1xuICAgIH1cbn0pO1xuVXNlclJlZ2lzdHJhdGlvbi5hZnRlckNyZWF0ZShhc3luYyAodXNlcikgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBjb25zdCBzcGFjZUluZGV4ID0gdXNlci5uZXdVc2VyPy5sYXN0SW5kZXhPZignICcpO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB0aGUgZmlyc3QgbmFtZSBhbmQgbGFzdCBuYW1lIGJhc2VkIG9uIHRoZSBsYXN0IHNwYWNlXG4gICAgICAgICAgICBjb25zdCBmaXJzdF9OYW1lID0gc3BhY2VJbmRleCAhPT0gLTEgPyB1c2VyLm5ld1VzZXI/LnNsaWNlKDAsIHNwYWNlSW5kZXgpIDogdXNlci5uZXdVc2VyO1xuICAgICAgICAgICAgY29uc3QgbGFzdE5hbWUgPSBzcGFjZUluZGV4ICE9PSAtMSA/IHVzZXIubmV3VXNlcj8uc2xpY2Uoc3BhY2VJbmRleCA/PyArMSkgOiBudWxsID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgYXZhdGFyID0gZ2VuZXJhdGVBdmF0YXJVcmwodXNlci51c2VybmFtZSk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgb3IgdXBkYXRlIHRoZSB1c2VyIHJlY29yZCBpbiB0aGUgVXNlcnMgdGFibGVcbiAgICAgICAgICAgIGF3YWl0IFVzZXIudXBzZXJ0KHtcbiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGZpcnN0X05hbWUsXG4gICAgICAgICAgICAgICAgbGFzdE5hbWU6IGxhc3ROYW1lLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgICAgIGhhc2hlZHBhc3N3b3JkOiB1c2VyLmhhc2hlZHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHN0YXR1czogJ3VudmVyaWZpZWQnLFxuICAgICAgICAgICAgICAgIGJpbzogJ0kgYW0gYSBuZXcgdXNlci4nLFxuICAgICAgICAgICAgICAgIGpvaW46IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgYXZhdGFyVXJsOiBhdmF0YXIsXG4gICAgICAgICAgICAgICAgaW1hZ2VVUkw6IG51bGwsXG4gICAgICAgICAgICAgICAgcHJvZmlsZVBpYzogbnVsbCxcbiAgICAgICAgICAgICAgICBsYWJlbDogJ05ldyBVc2VyJyxcbiAgICAgICAgICAgICAgICBsYXN0X2FjdGl2aXR5OiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICAgICAgVXNlclJlZ2lzdHJhdGlvbklEOiB1c2VyLmlkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlZ2lzdGVyaW5nIG5ldyB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciByZWdpc3RlcmluZyBuZXcgdXNlcicpO1xuICAgIH1cbn0pO1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dpbiB1c2VyIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkIGFuZCBjb21wYXJlIHRoZSBoYXNoZWQgcGFzc3dvcmRcblVzZXJSZWdpc3RyYXRpb24ubG9naW5Vc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsLCBwYXNzd29yZCkge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB0aGlzLmZpbmRPbmUoeyB3aGVyZTogeyBlbWFpbDogZW1haWwgfSB9KTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGF1dGggPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5oYXNoZWRwYXNzd29yZCk7XG4gICAgICAgICAgICBpZiAoYXV0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5jb3JyZWN0IGVtYWlsJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgaW4gdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuLy8gRGVmaW5lIGEgY3VzdG9tIG1ldGhvZCB0byBsb2dvdXQgdXNlclxuVXNlclJlZ2lzdHJhdGlvbi5sb2dvdXRVc2VyID0gYXN5bmMgZnVuY3Rpb24gKGVtYWlsKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsOiBlbWFpbCB9IH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBvdXQgdXNlcjonLCBlcnJvcik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciBub3QgZm91bmQnKTtcbiAgICB9XG59O1xuYXdhaXQgc2VxdWVsaXplXG4gICAgLnN5bmMoKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTmV3IFVzZXIgUmVnaXN0ZXJlZCBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG59KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN5bmNpbmcgbmV3IHVzZXI6JywgZXJyKTtcbn0pO1xuZXhwb3J0IGRlZmF1bHQgVXNlclJlZ2lzdHJhdGlvbjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgeyBjb3JPcHRpb25zIH0gZnJvbSAnLi4vY29uZmlnL2Nvck9wdGlvbnMnO1xuaW1wb3J0ICogYXMgYXV0aENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvYXV0aENvbnRyb2xsZXInO1xuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSAnYm9keS1wYXJzZXInO1xuaW1wb3J0IGNvb2tpZVBhcnNlciBmcm9tICdjb29raWUtcGFyc2VyJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5yb3V0ZXIudXNlKGNvcnMoY29yT3B0aW9ucykpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLnBvc3QoJy9hcGkvcmVnaXN0ZXInLCBhdXRoQ29udHJvbGxlci51c2VyUmVnaXN0ZXIpO1xucm91dGVyLnBvc3QoJy9hcGkvbG9naW4nLCBhdXRoQ29udHJvbGxlci51c2VyTG9naW4pO1xucm91dGVyLmdldCgnL2FwaS9sb2dvdXQnLCBhdXRoQ29udHJvbGxlci51c2VyTG9nb3V0KTtcbnJvdXRlci5wb3N0KCcvYXBpL3JlZnJlc2gtdG9rZW4nLCBhdXRoQ29udHJvbGxlci5yZWZyZXNoVG9rZW4pO1xucm91dGVyLmdldCgnL2FwaS9jdXJyZW50VXNlcicsIGF1dGhDb250cm9sbGVyLnJlcXVpcmVBdXRoKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcbmltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IGNvcnMgZnJvbSAnY29ycyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlci5tb2RlbCc7XG5pbXBvcnQgYm9keVBhcnNlciBmcm9tICdib2R5LXBhcnNlcic7XG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xuaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgeyBqd3RFTlYgfSBmcm9tICcuLi9jb25maWcvand0RU5WJztcbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5kb3RlbnYuY29uZmlnKCk7XG5yb3V0ZXIudXNlKGNvcnMoKSk7XG5yb3V0ZXIudXNlKChfcmVxLCByZXMsIG5leHQpID0+IHtcbiAgICByZXMuaGVhZGVyKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nLCAnaHR0cDovL2xvY2FsaG9zdDo4MDgwJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVycycsICdPcmlnaW4sIFgtUmVxdWVzdGVkLVdpdGgsIENvbnRlbnQtVHlwZSwgQWNjZXB0Jyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctTWV0aG9kcycsICdHRVQsIFBPU1QsIFBVVCwgREVMRVRFLCBPUFRJT05TJyk7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHMnLCAndHJ1ZScpO1xuICAgIG5leHQoKTtcbn0pO1xucm91dGVyLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogdHJ1ZSB9KSk7XG5yb3V0ZXIudXNlKGNvb2tpZVBhcnNlcigpKTtcbnJvdXRlci51c2UoZXhwcmVzcy5qc29uKCkpO1xucm91dGVyLnVzZShib2R5UGFyc2VyLmpzb24oKSk7XG5yb3V0ZXIuZ2V0KCcvYXBpL2dldFVzZXInLCB2ZXJpZnlVc2VyLCBhc3luYyAocmVxLCByZXMsIG5leHQpID0+IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLmp3dDtcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgand0LnZlcmlmeSh0b2tlbiwgand0RU5WLkpXVF9TRUNSRVQsIGFzeW5jIChlcnIsIGRlY29kZWRUb2tlbikgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnSldUIHZlcmlmaWNhdGlvbiBlcnJvcicsIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCBJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5UGsoZGVjb2RlZFRva2VuLmlkKTtcbiAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VzZXIgSUQgaXMgcmVxdWlyZWQnIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgbWVzc2FnZTogJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyJyB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgIH0pO1xufSk7XG4vLyByb3V0ZXIuZ2V0KFxuLy8gICAnL2FwaS9nZXRVc2VyJyxcbi8vICAgdmVyaWZ5VXNlcixcbi8vICAgYXN5bmMgKF9yZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuLy8gICAgIGlmICghcmVzLmxvY2Fscy51c2VyKSB7XG4vLyAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9KTtcbi8vICAgICB9XG4vLyAgICAgdHJ5IHtcbi8vICAgICAgIGNvbnN0IHVzZXIgPSByZXMubG9jYWxzLnVzZXIgYXMgVXNlcjtcbi8vICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbi8vICAgICB9IGNhdGNoIChlcnJvcikge1xuLy8gICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXI6JywgZXJyb3IpO1xuLy8gICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuLy8gICAgIH1cbi8vICAgICByZXR1cm4gbmV4dCgpO1xuLy8gICB9LFxuLy8gKTtcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcbiIsImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IHsgZW52IH0gZnJvbSAnLi4vY29uZmlnL2luZGV4JztcbmltcG9ydCBhdXRoUm91dGVzIGZyb20gJy4vYXV0aFJvdXRlcyc7XG5pbXBvcnQgY3VycmVudFVzZXJSb3V0ZSBmcm9tICcuL2N1cnJlbnRVc2VyUm91dGUnO1xuaW1wb3J0IHVzZXJSb3V0ZXMgZnJvbSAnLi91c2VyUm91dGVzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbi8vIGFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLmdldCgnLycsIChfcmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZCh7XG4gICAgICAgIHN0YXR1czogYCR7ZW52Lk5PREVfRU5WfWAsXG4gICAgICAgIG1lc3NhZ2U6IGAke2Vudi5SRVNQT05TRV9TVEFUVVN9YCxcbiAgICAgICAgbmFtZTogYCR7ZW52LkFQUF9OQU1FfWAsXG4gICAgfSk7XG59KTtcbnJvdXRlci51c2UoYXV0aFJvdXRlcyk7XG5yb3V0ZXIudXNlKHVzZXJSb3V0ZXMpO1xucm91dGVyLnVzZShjdXJyZW50VXNlclJvdXRlKTtcbmV4cG9ydCB7IHJvdXRlciB9O1xuIiwiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgY29ycyBmcm9tICdjb3JzJztcbmltcG9ydCBib2R5UGFyc2VyIGZyb20gJ2JvZHktcGFyc2VyJztcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXNlciB9IGZyb20gJy4uL2xvYWRlcnMvYXV0aC91c2VyQXV0aCc7XG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xucm91dGVyLnVzZShjb3JzKCkpO1xucm91dGVyLnVzZSgoX3JlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgcmVzLmhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJ2h0dHA6Ly9sb2NhbGhvc3Q6ODA4MCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUhlYWRlcnMnLCAnT3JpZ2luLCBYLVJlcXVlc3RlZC1XaXRoLCBDb250ZW50LVR5cGUsIEFjY2VwdCcpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHMnLCAnR0VULCBQT1NULCBQVVQsIERFTEVURSwgT1BUSU9OUycpO1xuICAgIHJlcy5oZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LUNyZWRlbnRpYWxzJywgJ3RydWUnKTtcbiAgICBuZXh0KCk7XG59KTtcbnJvdXRlci51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IHRydWUgfSkpO1xucm91dGVyLnVzZShjb29raWVQYXJzZXIoKSk7XG5yb3V0ZXIudXNlKGV4cHJlc3MuanNvbigpKTtcbnJvdXRlci51c2UoYm9keVBhcnNlci5qc29uKCkpO1xucm91dGVyLmdldCgnL2FwaS9nZXRDdXJyZW50VXNlcicsIGdldEN1cnJlbnRVc2VyLCBhc3luYyAoX3JlcSwgcmVzKSA9PiB7XG4gICAgaWYgKCFyZXMubG9jYWxzLnVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogJ1VuYXV0aG9yaXplZCcgfSk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSByZXMubG9jYWxzLnVzZXI7XG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgdXNlciB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY3VycmVudCB1c2VyOicsIGVycm9yKTtcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXInIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufSk7XG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7XG4iLCIvLyBJbXBvcnQgbmVjZXNzYXJ5IG1vZHVsZXNcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgaGFzaCBmcm9tIGEgc3RyaW5nXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVIYXNoKHN0cikge1xuICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKHN0cikuZGlnZXN0KCdoZXgnKTtcbn1cbi8vIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGFuIGF2YXRhciBVUkwgYmFzZWQgb24gdXNlciBpbml0aWFsc1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQXZhdGFyVXJsKG5hbWUpIHtcbiAgICAvLyBFeHRyYWN0IHRoZSBpbml0aWFscyBmcm9tIHRoZSB1c2VyJ3MgbmFtZVxuICAgIGNvbnN0IGluaXRpYWxzID0gbmFtZVxuICAgICAgICAuc3BsaXQoJyAnKVxuICAgICAgICAubWFwKHBhcnQgPT4gcGFydC5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgIC8vIFVzZSBhIHNlcnZpY2UgdGhhdCBnZW5lcmF0ZXMgYXZhdGFycyB3aXRoIGluaXRpYWxzXG4gICAgY29uc3Qgc2l6ZSA9IDIwMDsgLy8gU3BlY2lmeSB0aGUgZGVzaXJlZCBzaXplIG9mIHRoZSBhdmF0YXJcbiAgICBjb25zdCBiYWNrZ3JvdW5kQ29sb3IgPSAncmFuZG9tJzsgLy8gVXNlIGEgcmFuZG9tIGJhY2tncm91bmQgY29sb3JcbiAgICBjb25zdCB0ZXh0Q29sb3IgPSAnZmZmJzsgLy8gVXNlIHdoaXRlIHRleHQgY29sb3JcbiAgICBjb25zdCBiYXNlVXJsID0gYGh0dHBzOi8vdWktYXZhdGFycy5jb20vYXBpLz9uYW1lPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGluaXRpYWxzKX0mc2l6ZT0ke3NpemV9JmJhY2tncm91bmQ9JHtiYWNrZ3JvdW5kQ29sb3J9JmNvbG9yPSR7dGV4dENvbG9yfWA7XG4gICAgcmV0dXJuIGJhc2VVcmw7XG59XG4iLCIvLyBzcmMvZXJyb3JIYW5kbGVyLnRzXG5pbXBvcnQgcHJvY2VzcyBmcm9tICdub2RlOnByb2Nlc3MnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCB7IGVudiB9IGZyb20gJy4uL2NvbmZpZy9pbmRleCc7XG5leHBvcnQgY29uc3QgaGFuZGxlRXJyb3IgPSAoZXJyLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVyci5tZXNzYWdlKTtcbiAgICAvLyBJbml0aWFsaXplIGVycm9ycyBvYmplY3RcbiAgICBsZXQgZXJyb3JzID0ge307XG4gICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9ycyBjYXNlc1xuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnTmV3IFVzZXIgdmFsaWRhdGlvbiBlcnJvcicpKSB7XG4gICAgICAgIGVycm9ycyA9IHtcbiAgICAgICAgICAgIG5hbWU6ICdOYW1lIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiAndXNlcm5hbWUgaXMgcmVxdWlyZWQnLFxuICAgICAgICAgICAgZW1haWw6ICdlbWFpbCBpcyByZXF1aXJlZCcsXG4gICAgICAgICAgICBwYXNzd29yZDogJ3Bhc3N3b3JkIGlzIHJlcXVpcmVkJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVyci5tZXNzYWdlLmluY2x1ZGVzKCdVc2VyUmVnaXN0cmF0aW9ucy5lbWFpbCcpKSB7XG4gICAgICAgIGVycm9ycy5lbWFpbCA9ICdFbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWQnO1xuICAgIH1cbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ2luY29ycmVjdCBlbWFpbCcpKSB7XG4gICAgICAgIGVycm9ycy5lbWFpbCA9ICdlbWFpbCBpcyBub3QgcmVnaXN0ZXJlZCc7XG4gICAgfVxuICAgIGlmIChlcnIubWVzc2FnZS5pbmNsdWRlcygnSW5jb3JyZWN0IHBhc3N3b3JkJykpIHtcbiAgICAgICAgZXJyb3JzLnBhc3N3b3JkID0gJ3Bhc3N3b3JkIGlzIGluY29ycmVjdCc7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBTZXF1ZWxpemUgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICBpZiAoZXJyLm5hbWUgPT09ICdTZXF1ZWxpemVWYWxpZGF0aW9uRXJyb3InICYmIGVyci5lcnJvcikge1xuICAgICAgICBlcnJvcnMgPSBlcnIuZXJyb3IucmVkdWNlKChhY2MsIGVycm9yKSA9PiB7XG4gICAgICAgICAgICBhY2NbZXJyb3IucGF0aF0gPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgIH1cbiAgICByZXMuc3RhdHVzKGVyci5jb2RlIHx8IDUwMCkuanNvbih7IGVycm9ycyB9KTtcbn07XG4vLyBGdW5jdGlvbiB0byBsb2cgZXJyb3JzIHRvIGEgZmlsZVxuZnVuY3Rpb24gbG9nRXJyb3JUb0ZpbGUoZXJyKSB7XG4gICAgY29uc3QgbG9nID0gYCR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpfSAtICR7ZXJyLm1lc3NhZ2V9XFxuJHtlcnIuc3RhY2t9XFxuYDtcbiAgICBmcy5hcHBlbmRGaWxlU3luYygnZXJyb3IubG9nJywgbG9nKTtcbn1cbmNvbnN0IHVuaGFuZGxlZFJlamVjdGlvbnMgPSBuZXcgTWFwKCk7XG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAocmVhc29uLCBwcm9taXNlKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIFJlamVjdGlvbiBhdDonLCBwcm9taXNlLCAncmVhc29uOicsIHJlYXNvbik7XG4gICAgdW5oYW5kbGVkUmVqZWN0aW9ucy5zZXQocHJvbWlzZSwgcmVhc29uKTtcbn0pO1xucHJvY2Vzcy5vbigncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UgPT4ge1xuICAgIHVuaGFuZGxlZFJlamVjdGlvbnMuZGVsZXRlKHByb21pc2UpO1xufSk7XG4vLyBHbG9iYWwgZXJyb3IgaGFuZGxpbmcgbWlkZGxld2FyZSBmb3IgRXhwcmVzc1xuZXhwb3J0IGZ1bmN0aW9uIGdsb2JhbEVycm9ySGFuZGxlcihlcnIsIF9yZXEsIHJlcywgbmV4dCkge1xuICAgIGxvZ0Vycm9yVG9GaWxlKGVycik7XG4gICAgLy8gU2VuZCBnZW5lcmljIGVycm9yIHJlc3BvbnNlXG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCcsXG4gICAgfSk7XG4gICAgbmV4dChlcnIpO1xufVxuLy8gQ2F0Y2ggdW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uc1xucHJvY2Vzcy5vbigndW5oYW5kbGVkUmVqZWN0aW9uJywgKHJlYXNvbiwgcHJvbWlzZSkgPT4ge1xuICAgIGxvZ0Vycm9yVG9GaWxlKHJlYXNvbik7XG4gICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIFJlamVjdGlvbiBhdDonLCBwcm9taXNlLCAncmVhc29uOicsIHJlYXNvbik7XG4gICAgcHJvY2Vzcy5leGl0KDEpO1xufSk7XG4vLyBDYXRjaCB1bmNhdWdodCBleGNlcHRpb25zXG5wcm9jZXNzLm9uKCd1bmNhdWdodEV4Y2VwdGlvbicsIChlcnIpID0+IHtcbiAgICBsb2dFcnJvclRvRmlsZShlcnIpO1xuICAgIGNvbnNvbGUuZXJyb3IoJ1VuY2F1Z2h0IEV4Y2VwdGlvbjonLCBlcnIpO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbn0pO1xucHJvY2Vzcy5vbigndW5jYXVnaHRFeGNlcHRpb24nLCAoZXJyKSA9PiB7XG4gICAgZnMud3JpdGVTeW5jKHByb2Nlc3Muc3RkZXJyLmZkLCBgQ2F1Z2h0IGV4Y2VwdGlvbjogJHtlcnJ9XFxuYCArIGBFeGNlcHRpb24gT3JpZ2luOiAke29yaWdpbn1cXG5gKTtcbn0pO1xuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ1RoaXMgd2lsbCBzdGlsbCBydW4uJyk7XG59LCBlbnYuRVJST1JfVElNRU9VVCk7XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgZ2xvYmFsRXJyb3JIYW5kbGVyLFxuICAgIGhhbmRsZUVycm9yLFxufTtcbiJdLCJuYW1lcyI6WyJjb3JzU2NoZW1hRU5WIiwibG9hZCIsIkNPUlNfT1JJR0lOIiwiU3RyaW5nIiwiQ09SU19PUFRJT05TX1NVQ0NFU1NfU1RBVFVTIiwiTnVtYmVyIiwiQ09SU19DUkVERU5USUFMUyIsIkJvb2xlYW4iLCJDT1JTX01FVEhPRFMiLCJvayIsImNvcnNFTlYiLCJjb3JPcHRpb25zIiwib3JpZ2luIiwibWV0aG9kcyIsImNyZWRlbnRpYWxzIiwib3B0aW9uc1N1Y2Nlc3NTdGF0dXMiLCJkYXRhU2NoZW1hRU5WIiwiREJfSE9TVCIsIkRCX1BPUlQiLCJEQl9VU0VSIiwiREJfUEFTUyIsIkRCX05BTUUiLCJEQl9TT0NLRVRfUEFUSCIsIkRCX1NPQ0tFVF9USU1FT1VUIiwiREJfQ09NUFJFU1MiLCJEQl9ERUJVRyIsIkRCX1BFUk1JVF9MT0NBTF9JTkZJTEUiLCJEQl9UUkFDRSIsIkRCX0NIRUNLX0RVUExJQ0FURSIsIkRCX1NTTCIsIkRCX1NTTF9DQSIsIkRCX1NTTF9LRVkiLCJEQl9TU0xfQ0VSVCIsIkRCX0NPTk5FQ1RJT05fQVRUUklCVVRFUyIsIkRCX0NPTk5FQ1RJT05fVElNRU9VVCIsImRhdGFiYXNlRU5WIiwiand0U2NoZW1hRU5WIiwiSldUX1NFQ1JFVCIsIkpXVF9FWFBJUkVTX0lOIiwiSldUX1JFRlJFU0hfU0VDUkVUIiwiSldUX1JFRlJFU0hfRVhQSVJFU19JTiIsIkpXVF9SRUZSRVNIX01BWF9BR0UiLCJKV1RfQUxHT1JJVEhNIiwiSldUX0lTU1VFUiIsIkpXVF9NQVhfQUdFIiwiSldUX0hUVFBfT05MWSIsIkpXVF9TQU1FX1NJVEUiLCJKV1RfQ09PS0lFX05BTUUiLCJKV1RfU0VDVVJFIiwiand0RU5WIiwidXNlclJlZ2lzdGVyIiwiYXN5bmMiLCJyZXEiLCJyZXMiLCJuYW1lIiwidXNlcm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwiYm9keSIsIkVycm9yIiwiZmluZE9uZSIsIndoZXJlIiwidXNlciIsImNyZWF0ZSIsIm5ld1VzZXIiLCJoYXNoZWRwYXNzd29yZCIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b2tlbiIsImlkIiwiY29va2llIiwiaHR0cE9ubHkiLCJtYXhBZ2UiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInVzZXJMb2dpbiIsImxvZ2luVXNlciIsInJlZnJlc2hUb2tlbiIsImNvbnNvbGUiLCJsb2ciLCJzZXRIZWFkZXIiLCJsb2NhbHMiLCJ1c2VyTG9nb3V0IiwiYWNjZXNzVG9rZW4iLCJjb29raWVzIiwiand0IiwibWVzc2FnZSIsImVyciIsImRlY29kZWRUb2tlbiIsInVzZXJJZCIsImZpbmRCeVBrIiwibmV3VG9rZW4iLCJleHBpcmVzSW4iLCJhbGdvcml0aG0iLCJpc3N1ZXIiLCJyZXF1aXJlQXV0aCIsIm5leHQiLCJsaW1pdGVyIiwid2luZG93TXMiLCJSQVJFX0xJTUlUX1dJTkRPV19NUyIsIm1heCIsIk1BWCIsIlJBUkVfTElNSVRfTUVTU0FHRSIsInN0YXR1c0NvZGUiLCJSQVJFX0xJTUlUX0NPREUiLCJoYW5kbGVyIiwiX3JlcSIsImtleUdlbmVyYXRvciIsImlwIiwicmVwbGFjZSIsInNlbmQiLCJzb2NrZXQiLCJyZW1vdGVBZGRyZXNzIiwiand0R2VuZXJhdG9yIiwicGF5bG9hZCIsImp3dFZlcmlmaWVyIiwiand0UmVmcmVzaCIsImdldEN1cnJlbnRVc2VyIiwidmVyaWZ5VXNlciIsIndhaXRGb3JEQiIsInNlcXVlbGl6ZSIsImF0dGVtcHRzIiwiYXV0aGVudGljYXRlIiwic3luYyIsImZvcmNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiZGJDb25maWciLCJEaWFsZWN0IiwiaG9zdCIsImRhdGFiYXNlIiwic29ja2V0UGF0aCIsInNvY2tldFRpbWVvdXQiLCJjb21wcmVzcyIsImRlYnVnIiwicGVybWl0TG9jYWxJbmZpbGUiLCJ0cmFjZSIsImNoZWNrRHVwbGljYXRlIiwiY29ubmVjdEF0dHJpYnV0ZXMiLCJKU09OIiwicGFyc2UiLCJjb25uZWN0aW9uVGltZW91dCIsInBvcnQiLCJzc2wiLCJkaWFsZWN0T3B0aW9ucyIsImNhIiwidG9TdHJpbmciLCJrZXkiLCJjZXJ0IiwiY3JlYXRlU2VxdWVsaXplSW5zdGFuY2UiLCJTZXF1ZWxpemUiLCJkaWFsZWN0IiwiX19kaXJuYW1lIiwiZGlybmFtZSIsImZpbGVVUkxUb1BhdGgiLCJNYXJpYURiRGlhbGVjdCIsIm1vZGVscyIsImltcG9ydE1vZGVscyIsImFwcCIsImdldCIsInNlbmRTdGF0dXMiLCJlbmQiLCJ1c2UiLCJoZWFkZXIiLCJtZXRob2QiLCJleHRlbmRlZCIsIlRydXN0X1Byb3h5IiwiVFJVU1RfUFJPWFkiLCJudW1iZXJPZlByb3hpZXMiLCJOVU1CRVJfT0ZfUFJPWElFUyIsInNldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvbnRlbnRTZWN1cml0eVBvbGljeSIsIk1PUkdBTiIsIlVzZXIiLCJNb2RlbCIsImdldFVzZXJCeUlEIiwidGhpcyIsImluaXQiLCJ0eXBlIiwiRGF0YVR5cGVzIiwiSU5URUdFUiIsImF1dG9JbmNyZW1lbnQiLCJwcmltYXJ5S2V5IiwiZmlyc3ROYW1lIiwiU1RSSU5HIiwiYWxsb3dOdWxsIiwidmFsaWRhdGUiLCJub3RFbXB0eSIsImxhc3ROYW1lIiwidW5pcXVlIiwiaXMiLCJsZW4iLCJpc0VtYWlsIiwiZGVmYXVsdFZhbHVlIiwiYmlvIiwiam9pbiIsIkRBVEUiLCJOT1ciLCJhdmF0YXJVcmwiLCJpbWFnZVVSTCIsInByb2ZpbGVQaWMiLCJsYWJlbCIsImxhc3RfYWN0aXZpdHkiLCJ1cGRhdGVkX2F0IiwiVXNlclJlZ2lzdHJhdGlvbklEIiwiVVVJRCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsIm1vZGVsTmFtZSIsInRpbWVzdGFtcHMiLCJ1cGRhdGVkQXQiLCJ0aGVuIiwiY2F0Y2giLCJVc2VyUmVnaXN0cmF0aW9uIiwibG9nb3V0VXNlciIsInJlc2V0UGFzc3dvcmQiLCJmcmVlemVUYWJsZU5hbWUiLCJiZWZvcmVDcmVhdGUiLCJzYWx0IiwiaGFzaGVkUGFzc3dvcmQiLCJhZnRlckNyZWF0ZSIsInNwYWNlSW5kZXgiLCJsYXN0SW5kZXhPZiIsImZpcnN0X05hbWUiLCJzbGljZSIsImF2YXRhciIsInVwc2VydCIsInJvdXRlciIsInBvc3QiLCJOT0RFX0VOViIsIlJFU1BPTlNFX1NUQVRVUyIsIkFQUF9OQU1FIiwiZ2VuZXJhdGVBdmF0YXJVcmwiLCJpbml0aWFscyIsInNwbGl0IiwibWFwIiwicGFydCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGFuZGxlRXJyb3IiLCJlcnJvcnMiLCJpbmNsdWRlcyIsInJlZHVjZSIsImFjYyIsInBhdGgiLCJjb2RlIiwibG9nRXJyb3JUb0ZpbGUiLCJ0b0lTT1N0cmluZyIsInN0YWNrIiwidW5oYW5kbGVkUmVqZWN0aW9ucyIsIk1hcCIsImdsb2JhbEVycm9ySGFuZGxlciIsInJlYXNvbiIsInByb21pc2UiLCJkZWxldGUiLCJmZCIsIkVSUk9SX1RJTUVPVVQiXSwic291cmNlUm9vdCI6IiJ9